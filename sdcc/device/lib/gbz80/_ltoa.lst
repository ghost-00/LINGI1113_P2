                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:13 2013
                              5 ;--------------------------------------------------------
                              6 	.module _ltoa
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl __ltoa
                             13 	.globl __ultoa
                             14 ;--------------------------------------------------------
                             15 ;  ram data
                             16 ;--------------------------------------------------------
                             17 	.area _DATA
                             18 ;--------------------------------------------------------
                             19 ; overlayable items in  ram 
                             20 ;--------------------------------------------------------
                             21 	.area _OVERLAY
                             22 ;--------------------------------------------------------
                             23 ; external initialized ram data
                             24 ;--------------------------------------------------------
                             25 ;--------------------------------------------------------
                             26 ; global & static initialisations
                             27 ;--------------------------------------------------------
                             28 	.area _HOME
                             29 	.area _GSINIT
                             30 	.area _GSFINAL
                             31 	.area _GSINIT
                             32 ;--------------------------------------------------------
                             33 ; Home
                             34 ;--------------------------------------------------------
                             35 	.area _HOME
                             36 	.area _HOME
                             37 ;--------------------------------------------------------
                             38 ; code
                             39 ;--------------------------------------------------------
                             40 	.area _CODE
                             41 ;../_ltoa.c:32: void _ultoa(unsigned long value, char* string, unsigned char radix)
                             42 ;	---------------------------------
                             43 ; Function _ultoa
                             44 ; ---------------------------------
   0000                      45 __ultoa_start::
   0000                      46 __ultoa:
   0000 E8 D4                47 	lda	sp,-44(sp)
                             48 ;../_ltoa.c:37: do {
   0002 F8 0C                49 	lda	hl,12(sp)
   0004 7D                   50 	ld	a,l
   0005 54                   51 	ld	d,h
   0006 F8 08                52 	lda	hl,8(sp)
   0008 22                   53 	ld	(hl+),a
   0009 72                   54 	ld	(hl),d
   000A 23                   55 	inc	hl
   000B 23                   56 	inc	hl
   000C 36 20                57 	ld	(hl),#0x20
   000E                      58 00103$:
                             59 ;../_ltoa.c:38: unsigned char c = '0' + (value % radix);
   000E F8 34                60 	lda	hl,52(sp)
   0010 7E                   61 	ld	a,(hl)
   0011 F8 04                62 	lda	hl,4(sp)
   0013 22                   63 	ld	(hl+),a
   0014 36 00                64 	ld	(hl),#0x00
   0016 23                   65 	inc	hl
   0017 36 00                66 	ld	(hl),#0x00
   0019 23                   67 	inc	hl
   001A 36 00                68 	ld	(hl),#0x00
   001C 2B                   69 	dec	hl
   001D 2A                   70 	ld	a,(hl+)
   001E 66                   71 	ld	h,(hl)
   001F 6F                   72 	ld	l,a
   0020 E5                   73 	push	hl
   0021 F8 06                74 	lda	hl,6(sp)
   0023 2A                   75 	ld	a,(hl+)
   0024 66                   76 	ld	h,(hl)
   0025 6F                   77 	ld	l,a
   0026 E5                   78 	push	hl
   0027 F8 34                79 	lda	hl,52(sp)
   0029 2A                   80 	ld	a,(hl+)
   002A 66                   81 	ld	h,(hl)
   002B 6F                   82 	ld	l,a
   002C E5                   83 	push	hl
   002D F8 34                84 	lda	hl,52(sp)
   002F 2A                   85 	ld	a,(hl+)
   0030 66                   86 	ld	h,(hl)
   0031 6F                   87 	ld	l,a
   0032 E5                   88 	push	hl
   0033 CDr00s00             89 	call	__modulong_rrx_s
   0036 E8 08                90 	lda	sp,8(sp)
   0038 E5                   91 	push	hl
   0039 F8 02                92 	lda	hl,2(sp)
   003B 73                   93 	ld	(hl),e
   003C 23                   94 	inc	hl
   003D 72                   95 	ld	(hl),d
   003E D1                   96 	pop	de
   003F 23                   97 	inc	hl
   0040 73                   98 	ld	(hl),e
   0041 23                   99 	inc	hl
   0042 72                  100 	ld	(hl),d
   0043 F8 00               101 	lda	hl,0(sp)
   0045 4E                  102 	ld	c,(hl)
   0046 79                  103 	ld	a,c
   0047 C6 30               104 	add	a,#0x30
   0049 F8 0A               105 	lda	hl,10(sp)
   004B 77                  106 	ld	(hl),a
                            107 ;../_ltoa.c:39: if (c > (unsigned char)'9')
   004C 3E 39               108 	ld	a,#0x39
   004E 96                  109 	sub	a,(hl)
   004F D2r56s00            110 	jp	NC,00102$
                            111 ;../_ltoa.c:40: c += 'A' - '9' - 1;
   0052 7E                  112 	ld	a,(hl)
   0053 C6 07               113 	add	a,#0x07
   0055 77                  114 	ld	(hl),a
   0056                     115 00102$:
                            116 ;../_ltoa.c:41: buffer[--index] = c;
   0056 F8 0B               117 	lda	hl,11(sp)
   0058 35                  118 	dec	(hl)
   0059 2B                  119 	dec	hl
   005A 2B                  120 	dec	hl
   005B 2B                  121 	dec	hl
   005C 5E                  122 	ld	e,(hl)
   005D 23                  123 	inc	hl
   005E 56                  124 	ld	d,(hl)
   005F 23                  125 	inc	hl
   0060 23                  126 	inc	hl
   0061 6E                  127 	ld	l,(hl)
   0062 26 00               128 	ld	h,#0x00
   0064 19                  129 	add	hl,de
   0065 4D                  130 	ld	c,l
   0066 44                  131 	ld	b,h
   0067 F8 0A               132 	lda	hl,10(sp)
   0069 7E                  133 	ld	a,(hl)
   006A 02                  134 	ld	(bc),a
                            135 ;../_ltoa.c:42: value /= radix;
   006B F8 06               136 	lda	hl,6(sp)
   006D 2A                  137 	ld	a,(hl+)
   006E 66                  138 	ld	h,(hl)
   006F 6F                  139 	ld	l,a
   0070 E5                  140 	push	hl
   0071 F8 06               141 	lda	hl,6(sp)
   0073 2A                  142 	ld	a,(hl+)
   0074 66                  143 	ld	h,(hl)
   0075 6F                  144 	ld	l,a
   0076 E5                  145 	push	hl
   0077 F8 34               146 	lda	hl,52(sp)
   0079 2A                  147 	ld	a,(hl+)
   007A 66                  148 	ld	h,(hl)
   007B 6F                  149 	ld	l,a
   007C E5                  150 	push	hl
   007D F8 34               151 	lda	hl,52(sp)
   007F 2A                  152 	ld	a,(hl+)
   0080 66                  153 	ld	h,(hl)
   0081 6F                  154 	ld	l,a
   0082 E5                  155 	push	hl
   0083 CDr00s00            156 	call	__divulong_rrx_s
   0086 E8 08               157 	lda	sp,8(sp)
   0088 E5                  158 	push	hl
   0089 F8 02               159 	lda	hl,2(sp)
   008B 73                  160 	ld	(hl),e
   008C 23                  161 	inc	hl
   008D 72                  162 	ld	(hl),d
   008E D1                  163 	pop	de
   008F 23                  164 	inc	hl
   0090 73                  165 	ld	(hl),e
   0091 23                  166 	inc	hl
   0092 72                  167 	ld	(hl),d
   0093 F8 00               168 	lda	hl,0(sp)
   0095 54                  169 	ld	d,h
   0096 5D                  170 	ld	e,l
   0097 F8 2E               171 	lda	hl,46(sp)
   0099 1A                  172 	ld	a,(de)
   009A 22                  173 	ld	(hl+),a
   009B 13                  174 	inc	de
   009C 1A                  175 	ld	a,(de)
   009D 22                  176 	ld	(hl+),a
   009E 13                  177 	inc	de
   009F 1A                  178 	ld	a,(de)
   00A0 22                  179 	ld	(hl+),a
   00A1 13                  180 	inc	de
   00A2 1A                  181 	ld	a,(de)
   00A3 77                  182 	ld	(hl),a
                            183 ;../_ltoa.c:43: } while (value);
   00A4 F8 2E               184 	lda	hl,46(sp)
   00A6 2A                  185 	ld	a,(hl+)
   00A7 B6                  186 	or	a,(hl)
   00A8 23                  187 	inc	hl
   00A9 B6                  188 	or	a,(hl)
   00AA 23                  189 	inc	hl
   00AB B6                  190 	or	a,(hl)
   00AC C2r0Es00            191 	jp	NZ,00103$
                            192 ;../_ltoa.c:45: do {
   00AF 23                  193 	inc	hl
   00B0 2A                  194 	ld	a,(hl+)
   00B1 5E                  195 	ld	e,(hl)
   00B2 F8 00               196 	lda	hl,0(sp)
   00B4 22                  197 	ld	(hl+),a
   00B5 73                  198 	ld	(hl),e
   00B6                     199 00106$:
                            200 ;../_ltoa.c:46: *string++ = buffer[index];
   00B6 F8 09               201 	lda	hl,9(sp)
   00B8 2B                  202 	dec	hl
   00B9 5E                  203 	ld	e,(hl)
   00BA 23                  204 	inc	hl
   00BB 56                  205 	ld	d,(hl)
   00BC 23                  206 	inc	hl
   00BD 23                  207 	inc	hl
   00BE 6E                  208 	ld	l,(hl)
   00BF 26 00               209 	ld	h,#0x00
   00C1 19                  210 	add	hl,de
   00C2 4D                  211 	ld	c,l
   00C3 44                  212 	ld	b,h
   00C4 0A                  213 	ld	a,(bc)
   00C5 F8 01               214 	lda	hl,1(sp)
   00C7 2B                  215 	dec	hl
   00C8 5E                  216 	ld	e,(hl)
   00C9 23                  217 	inc	hl
   00CA 56                  218 	ld	d,(hl)
   00CB 12                  219 	ld	(de),a
   00CC 2B                  220 	dec	hl
   00CD 34                  221 	inc	(hl)
   00CE 20 02               222 	jr	NZ,00117$
   00D0 23                  223 	inc	hl
   00D1 34                  224 	inc	(hl)
   00D2                     225 00117$:
                            226 ;../_ltoa.c:47: } while ( ++index != NUMBER_OF_DIGITS );
   00D2 F8 0B               227 	lda	hl,11(sp)
   00D4 34                  228 	inc	(hl)
   00D5 7E                  229 	ld	a,(hl)
   00D6 D6 20               230 	sub	a,#0x20
   00D8 C2rB6s00            231 	jp	NZ,00106$
   00DB 18 03               232 	jr	00119$
   00DD                     233 00118$:
   00DD C3rB6s00            234 	jp	00106$
   00E0                     235 00119$:
                            236 ;../_ltoa.c:49: *string = 0;  /* string terminator */
   00E0 F8 01               237 	lda	hl,1(sp)
   00E2 2B                  238 	dec	hl
   00E3 5E                  239 	ld	e,(hl)
   00E4 23                  240 	inc	hl
   00E5 56                  241 	ld	d,(hl)
   00E6 3E 00               242 	ld	a,#0x00
   00E8 12                  243 	ld	(de),a
   00E9                     244 00109$:
   00E9 E8 2C               245 	lda	sp,44(sp)
   00EB C9                  246 	ret
   00EC                     247 __ultoa_end::
                            248 ;../_ltoa.c:52: void _ltoa(long value, char* string, unsigned char radix)
                            249 ;	---------------------------------
                            250 ; Function _ltoa
                            251 ; ---------------------------------
   00EC                     252 __ltoa_start::
   00EC                     253 __ltoa:
                            254 	
                            255 ;../_ltoa.c:54: if (value < 0 && radix == 10) {
   00EC F8 05               256 	lda	hl,5(sp)
   00EE 7E                  257 	ld	a,(hl)
   00EF CB 7F               258 	bit	7,a
   00F1 CAr2Fs01            259 	jp	Z,00102$
   00F4 F8 08               260 	lda	hl,8(sp)
   00F6 7E                  261 	ld	a,(hl)
   00F7 D6 0A               262 	sub	a,#0x0A
   00F9 C2r2Fs01            263 	jp	NZ,00102$
   00FC 18 03               264 	jr	00109$
   00FE                     265 00108$:
   00FE C3r2Fs01            266 	jp	00102$
   0101                     267 00109$:
                            268 ;../_ltoa.c:55: *string++ = '-';
   0101 2B                  269 	dec	hl
   0102 2B                  270 	dec	hl
   0103 4E                  271 	ld	c,(hl)
   0104 23                  272 	inc	hl
   0105 46                  273 	ld	b,(hl)
   0106 3E 2D               274 	ld	a,#0x2D
   0108 02                  275 	ld	(bc),a
   0109 21 01 00            276 	ld	hl,#0x0001
   010C 09                  277 	add	hl,bc
   010D 7D                  278 	ld	a,l
   010E 54                  279 	ld	d,h
   010F F8 06               280 	lda	hl,6(sp)
   0111 22                  281 	ld	(hl+),a
   0112 72                  282 	ld	(hl),d
                            283 ;../_ltoa.c:56: value = -value;
   0113 11 00 00            284 	ld	de,#0x0000
   0116 7B                  285 	ld	a,e
   0117 F8 02               286 	lda	hl,2(sp)
   0119 96                  287 	sub	a,(hl)
   011A 5F                  288 	ld	e,a
   011B 7A                  289 	ld	a,d
   011C 23                  290 	inc	hl
   011D 9E                  291 	sbc	a,(hl)
   011E F5                  292 	push	af
   011F 32                  293 	ld	(hl-),a
   0120 73                  294 	ld	(hl),e
   0121 11 00 00            295 	ld	de,#0x0000
   0124 23                  296 	inc	hl
   0125 23                  297 	inc	hl
   0126 F1                  298 	pop	af
   0127 7B                  299 	ld	a,e
   0128 9E                  300 	sbc	a,(hl)
   0129 5F                  301 	ld	e,a
   012A 7A                  302 	ld	a,d
   012B 23                  303 	inc	hl
   012C 9E                  304 	sbc	a,(hl)
   012D 32                  305 	ld	(hl-),a
   012E 73                  306 	ld	(hl),e
   012F                     307 00102$:
                            308 ;../_ltoa.c:58: _ultoa(value, string, radix);
   012F F8 08               309 	lda	hl,8(sp)
   0131 7E                  310 	ld	a,(hl)
   0132 F5                  311 	push	af
   0133 33                  312 	inc	sp
   0134 2B                  313 	dec	hl
   0135 2B                  314 	dec	hl
   0136 2A                  315 	ld	a,(hl+)
   0137 66                  316 	ld	h,(hl)
   0138 6F                  317 	ld	l,a
   0139 E5                  318 	push	hl
   013A F8 07               319 	lda	hl,7(sp)
   013C 2A                  320 	ld	a,(hl+)
   013D 66                  321 	ld	h,(hl)
   013E 6F                  322 	ld	l,a
   013F E5                  323 	push	hl
   0140 F8 07               324 	lda	hl,7(sp)
   0142 2A                  325 	ld	a,(hl+)
   0143 66                  326 	ld	h,(hl)
   0144 6F                  327 	ld	l,a
   0145 E5                  328 	push	hl
   0146 CDr00s00            329 	call	__ultoa
   0149 E8 07               330 	lda	sp,7(sp)
   014B                     331 00104$:
                            332 	
   014B C9                  333 	ret
   014C                     334 __ltoa_end::
                            335 	.area _CODE
                            336 	.area _CABS
