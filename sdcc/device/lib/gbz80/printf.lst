                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:10 2013
                              5 ;--------------------------------------------------------
                              6 	.module printf
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl __buf_emitter
                             13 	.globl __char_emitter
                             14 	.globl __printf
                             15 	.globl _printf
                             16 	.globl _sprintf
                             17 ;--------------------------------------------------------
                             18 ;  ram data
                             19 ;--------------------------------------------------------
                             20 	.area _DATA
                             21 ;--------------------------------------------------------
                             22 ; overlayable items in  ram 
                             23 ;--------------------------------------------------------
                             24 	.area _OVERLAY
                             25 ;--------------------------------------------------------
                             26 ; external initialized ram data
                             27 ;--------------------------------------------------------
                             28 ;--------------------------------------------------------
                             29 ; global & static initialisations
                             30 ;--------------------------------------------------------
                             31 	.area _HOME
                             32 	.area _GSINIT
                             33 	.area _GSFINAL
                             34 	.area _GSINIT
                             35 ;--------------------------------------------------------
                             36 ; Home
                             37 ;--------------------------------------------------------
                             38 	.area _HOME
                             39 	.area _HOME
                             40 ;--------------------------------------------------------
                             41 ; code
                             42 ;--------------------------------------------------------
                             43 	.area _CODE
                             44 ;printf.c:10: static void _printn(unsigned u, unsigned base, char issigned, void (*emitter)(char, void *), void *pData)
                             45 ;	---------------------------------
                             46 ; Function _printn
                             47 ; ---------------------------------
   0000                      48 __printn:
                             49 	
                             50 ;printf.c:12: const char *_hex = "0123456789ABCDEF";
                             51 ;printf.c:13: if (issigned && ((int)u < 0)) {
   0000 AF                   52 	xor	a,a
   0001 F8 06                53 	lda	hl,6(sp)
   0003 B6                   54 	or	a,(hl)
   0004 CAr37s00             55 	jp	Z,00102$
   0007 F8 03                56 	lda	hl,3(sp)
   0009 2B                   57 	dec	hl
   000A 4E                   58 	ld	c,(hl)
   000B 23                   59 	inc	hl
   000C 46                   60 	ld	b,(hl)
   000D 78                   61 	ld	a,b
   000E CB 7F                62 	bit	7,a
   0010 CAr37s00             63 	jp	Z,00102$
                             64 ;printf.c:14: (*emitter)('-', pData);
   0013 C5                   65 	push	bc
   0014 F8 0B                66 	lda	hl,11(sp)
   0016 2A                   67 	ld	a,(hl+)
   0017 66                   68 	ld	h,(hl)
   0018 6F                   69 	ld	l,a
   0019 E5                   70 	push	hl
   001A 3E 2D                71 	ld	a,#0x2D
   001C F5                   72 	push	af
   001D 33                   73 	inc	sp
   001E 21r28s00             74 	ld	hl,#00111$
   0021 E5                   75 	push	hl
   0022 F8 0E                76 	lda	hl,14(sp)
   0024 2A                   77 	ld	a,(hl+)
   0025 66                   78 	ld	h,(hl)
   0026 6F                   79 	ld	l,a
   0027 E9                   80 	jp	(hl)
   0028                      81 00111$:
   0028 E8 03                82 	lda	sp,3(sp)
   002A C1                   83 	pop	bc
                             84 ;printf.c:15: u = (unsigned)-((int)u);
   002B AF                   85 	xor	a,a
   002C 99                   86 	sbc	a,c
   002D 4F                   87 	ld	c,a
   002E 3E 00                88 	ld	a,#0x00
   0030 98                   89 	sbc	a,b
   0031 47                   90 	ld	b,a
   0032 F8 02                91 	lda	hl,2(sp)
   0034 71                   92 	ld	(hl),c
   0035 23                   93 	inc	hl
   0036 70                   94 	ld	(hl),b
   0037                      95 00102$:
                             96 ;printf.c:17: if (u >= base)
   0037 F8 02                97 	lda	hl,2(sp)
   0039 54                   98 	ld	d,h
   003A 5D                   99 	ld	e,l
   003B 23                  100 	inc	hl
   003C 23                  101 	inc	hl
   003D 1A                  102 	ld	a,(de)
   003E 96                  103 	sub	a,(hl)
   003F 23                  104 	inc	hl
   0040 13                  105 	inc	de
   0041 1A                  106 	ld	a,(de)
   0042 9E                  107 	sbc	a,(hl)
   0043 DAr75s00            108 	jp	C,00105$
                            109 ;printf.c:18: _printn(u/base, base, 0, emitter, pData);
   0046 F8 04               110 	lda	hl,4(sp)
   0048 2A                  111 	ld	a,(hl+)
   0049 66                  112 	ld	h,(hl)
   004A 6F                  113 	ld	l,a
   004B E5                  114 	push	hl
   004C F8 04               115 	lda	hl,4(sp)
   004E 2A                  116 	ld	a,(hl+)
   004F 66                  117 	ld	h,(hl)
   0050 6F                  118 	ld	l,a
   0051 E5                  119 	push	hl
   0052 CDr00s00            120 	call	__divuint_rrx_s
   0055 E8 04               121 	lda	sp,4(sp)
   0057 42                  122 	ld	b,d
   0058 4B                  123 	ld	c,e
   0059 F8 09               124 	lda	hl,9(sp)
   005B 2A                  125 	ld	a,(hl+)
   005C 66                  126 	ld	h,(hl)
   005D 6F                  127 	ld	l,a
   005E E5                  128 	push	hl
   005F F8 09               129 	lda	hl,9(sp)
   0061 2A                  130 	ld	a,(hl+)
   0062 66                  131 	ld	h,(hl)
   0063 6F                  132 	ld	l,a
   0064 E5                  133 	push	hl
   0065 3E 00               134 	ld	a,#0x00
   0067 F5                  135 	push	af
   0068 33                  136 	inc	sp
   0069 F8 09               137 	lda	hl,9(sp)
   006B 2A                  138 	ld	a,(hl+)
   006C 66                  139 	ld	h,(hl)
   006D 6F                  140 	ld	l,a
   006E E5                  141 	push	hl
   006F C5                  142 	push	bc
   0070 CDr00s00            143 	call	__printn
   0073 E8 09               144 	lda	sp,9(sp)
   0075                     145 00105$:
                            146 ;printf.c:19: (*emitter)(_hex[u%base], pData);
   0075 F8 04               147 	lda	hl,4(sp)
   0077 2A                  148 	ld	a,(hl+)
   0078 66                  149 	ld	h,(hl)
   0079 6F                  150 	ld	l,a
   007A E5                  151 	push	hl
   007B F8 04               152 	lda	hl,4(sp)
   007D 2A                  153 	ld	a,(hl+)
   007E 66                  154 	ld	h,(hl)
   007F 6F                  155 	ld	l,a
   0080 E5                  156 	push	hl
   0081 CDr00s00            157 	call	__moduint_rrx_s
   0084 E8 04               158 	lda	sp,4(sp)
   0086 42                  159 	ld	b,d
   0087 4B                  160 	ld	c,e
   0088 21rA6s00            161 	ld	hl,#__str_0
   008B 09                  162 	add	hl,bc
   008C 4D                  163 	ld	c,l
   008D 44                  164 	ld	b,h
   008E 0A                  165 	ld	a,(bc)
   008F 4F                  166 	ld	c,a
   0090 F8 09               167 	lda	hl,9(sp)
   0092 2A                  168 	ld	a,(hl+)
   0093 66                  169 	ld	h,(hl)
   0094 6F                  170 	ld	l,a
   0095 E5                  171 	push	hl
   0096 79                  172 	ld	a,c
   0097 F5                  173 	push	af
   0098 33                  174 	inc	sp
   0099 21rA3s00            175 	ld	hl,#00112$
   009C E5                  176 	push	hl
   009D F8 0C               177 	lda	hl,12(sp)
   009F 2A                  178 	ld	a,(hl+)
   00A0 66                  179 	ld	h,(hl)
   00A1 6F                  180 	ld	l,a
   00A2 E9                  181 	jp	(hl)
   00A3                     182 00112$:
   00A3 E8 03               183 	lda	sp,3(sp)
   00A5                     184 00106$:
                            185 	
   00A5 C9                  186 	ret
   00A6                     187 __str_0:
   00A6 30 31 32 33 34 35   188 	.ascii "0123456789ABCDEF"
        36 37 38 39 41 42
        43 44 45 46
   00B6 00                  189 	.db 0x00
                            190 ;printf.c:22: STATIC void _printf(const char *format, void (*emitter)(char, void *), void *pData, va_list va)
                            191 ;	---------------------------------
                            192 ; Function _printf
                            193 ; ---------------------------------
   00B7                     194 __printf_start::
   00B7                     195 __printf:
                            196 	
   00B7 F5                  197 	push	af
                            198 ;printf.c:24: while (*format) {
   00B8                     199 00113$:
   00B8 F8 05               200 	lda	hl,5(sp)
   00BA 2B                  201 	dec	hl
   00BB 4E                  202 	ld	c,(hl)
   00BC 23                  203 	inc	hl
   00BD 46                  204 	ld	b,(hl)
   00BE 0A                  205 	ld	a,(bc)
   00BF F8 01               206 	lda	hl,1(sp)
   00C1 77                  207 	ld	(hl),a
   00C2 B7                  208 	or	a,a
   00C3 CAr1As02            209 	jp	Z,00116$
                            210 ;printf.c:25: if (*format == '%') {
   00C6 7E                  211 	ld	a,(hl)
   00C7 D6 25               212 	sub	a,#0x25
   00C9 C2rF9s01            213 	jp	NZ,00111$
   00CC 18 03               214 	jr	00130$
   00CE                     215 00129$:
   00CE C3rF9s01            216 	jp	00111$
   00D1                     217 00130$:
                            218 ;printf.c:26: switch (*++format) {
   00D1 21 01 00            219 	ld	hl,#0x0001
   00D4 09                  220 	add	hl,bc
   00D5 7D                  221 	ld	a,l
   00D6 54                  222 	ld	d,h
   00D7 F8 04               223 	lda	hl,4(sp)
   00D9 22                  224 	ld	(hl+),a
   00DA 72                  225 	ld	(hl),d
   00DB 2B                  226 	dec	hl
   00DC 4E                  227 	ld	c,(hl)
   00DD 23                  228 	inc	hl
   00DE 46                  229 	ld	b,(hl)
   00DF 0A                  230 	ld	a,(bc)
   00E0 4F                  231 	ld	c,a
   00E1 D6 63               232 	sub	a,#0x63
   00E3 CAr01s01            233 	jp	Z,00101$
   00E6                     234 00131$:
   00E6 79                  235 	ld	a,c
   00E7 D6 64               236 	sub	a,#0x64
   00E9 CAr5Es01            237 	jp	Z,00103$
   00EC                     238 00132$:
   00EC 79                  239 	ld	a,c
   00ED D6 73               240 	sub	a,#0x73
   00EF CArC0s01            241 	jp	Z,00105$
   00F2                     242 00133$:
   00F2 79                  243 	ld	a,c
   00F3 D6 75               244 	sub	a,#0x75
   00F5 CAr2Ds01            245 	jp	Z,00102$
   00F8                     246 00134$:
   00F8 79                  247 	ld	a,c
   00F9 D6 78               248 	sub	a,#0x78
   00FB CAr8Fs01            249 	jp	Z,00104$
   00FE                     250 00135$:
   00FE C3r10s02            251 	jp	00112$
                            252 ;printf.c:27: case 'c': {
   0101                     253 00101$:
                            254 ;printf.c:28: char c = (char)va_arg(va, int);
   0101 F8 0A               255 	lda	hl,10(sp)
   0103 4E                  256 	ld	c,(hl)
   0104 23                  257 	inc	hl
   0105 46                  258 	ld	b,(hl)
   0106 03                  259 	inc	bc
   0107 03                  260 	inc	bc
   0108 2B                  261 	dec	hl
   0109 71                  262 	ld	(hl),c
   010A 23                  263 	inc	hl
   010B 70                  264 	ld	(hl),b
   010C 0B                  265 	dec	bc
   010D 0B                  266 	dec	bc
   010E 59                  267 	ld	e,c
   010F 50                  268 	ld	d,b
   0110 1A                  269 	ld	a,(de)
   0111 4F                  270 	ld	c,a
   0112 13                  271 	inc	de
   0113 1A                  272 	ld	a,(de)
   0114 47                  273 	ld	b,a
                            274 ;printf.c:29: (*emitter)(c, pData);
   0115 F8 08               275 	lda	hl,8(sp)
   0117 2A                  276 	ld	a,(hl+)
   0118 66                  277 	ld	h,(hl)
   0119 6F                  278 	ld	l,a
   011A E5                  279 	push	hl
   011B 79                  280 	ld	a,c
   011C F5                  281 	push	af
   011D 33                  282 	inc	sp
   011E 21r28s01            283 	ld	hl,#00136$
   0121 E5                  284 	push	hl
   0122 F8 0B               285 	lda	hl,11(sp)
   0124 2A                  286 	ld	a,(hl+)
   0125 66                  287 	ld	h,(hl)
   0126 6F                  288 	ld	l,a
   0127 E9                  289 	jp	(hl)
   0128                     290 00136$:
   0128 E8 03               291 	lda	sp,3(sp)
                            292 ;printf.c:30: break;
   012A C3r10s02            293 	jp	00112$
                            294 ;printf.c:32: case 'u':
   012D                     295 00102$:
                            296 ;printf.c:34: unsigned u = va_arg(va, unsigned);
   012D F8 0A               297 	lda	hl,10(sp)
   012F 4E                  298 	ld	c,(hl)
   0130 23                  299 	inc	hl
   0131 46                  300 	ld	b,(hl)
   0132 03                  301 	inc	bc
   0133 03                  302 	inc	bc
   0134 2B                  303 	dec	hl
   0135 71                  304 	ld	(hl),c
   0136 23                  305 	inc	hl
   0137 70                  306 	ld	(hl),b
   0138 0B                  307 	dec	bc
   0139 0B                  308 	dec	bc
   013A 59                  309 	ld	e,c
   013B 50                  310 	ld	d,b
   013C 1A                  311 	ld	a,(de)
   013D 4F                  312 	ld	c,a
   013E 13                  313 	inc	de
   013F 1A                  314 	ld	a,(de)
   0140 47                  315 	ld	b,a
                            316 ;printf.c:35: _printn(u, 10, 0, emitter, pData);
   0141 F8 08               317 	lda	hl,8(sp)
   0143 2A                  318 	ld	a,(hl+)
   0144 66                  319 	ld	h,(hl)
   0145 6F                  320 	ld	l,a
   0146 E5                  321 	push	hl
   0147 F8 08               322 	lda	hl,8(sp)
   0149 2A                  323 	ld	a,(hl+)
   014A 66                  324 	ld	h,(hl)
   014B 6F                  325 	ld	l,a
   014C E5                  326 	push	hl
   014D 3E 00               327 	ld	a,#0x00
   014F F5                  328 	push	af
   0150 33                  329 	inc	sp
   0151 21 0A 00            330 	ld	hl,#0x000A
   0154 E5                  331 	push	hl
   0155 C5                  332 	push	bc
   0156 CDr00s00            333 	call	__printn
   0159 E8 09               334 	lda	sp,9(sp)
                            335 ;printf.c:36: break;
   015B C3r10s02            336 	jp	00112$
                            337 ;printf.c:38: case 'd':
   015E                     338 00103$:
                            339 ;printf.c:40: unsigned u = va_arg(va, unsigned);
   015E F8 0A               340 	lda	hl,10(sp)
   0160 4E                  341 	ld	c,(hl)
   0161 23                  342 	inc	hl
   0162 46                  343 	ld	b,(hl)
   0163 03                  344 	inc	bc
   0164 03                  345 	inc	bc
   0165 2B                  346 	dec	hl
   0166 71                  347 	ld	(hl),c
   0167 23                  348 	inc	hl
   0168 70                  349 	ld	(hl),b
   0169 0B                  350 	dec	bc
   016A 0B                  351 	dec	bc
   016B 59                  352 	ld	e,c
   016C 50                  353 	ld	d,b
   016D 1A                  354 	ld	a,(de)
   016E 4F                  355 	ld	c,a
   016F 13                  356 	inc	de
   0170 1A                  357 	ld	a,(de)
   0171 47                  358 	ld	b,a
                            359 ;printf.c:41: _printn(u, 10, 1, emitter, pData);
   0172 F8 08               360 	lda	hl,8(sp)
   0174 2A                  361 	ld	a,(hl+)
   0175 66                  362 	ld	h,(hl)
   0176 6F                  363 	ld	l,a
   0177 E5                  364 	push	hl
   0178 F8 08               365 	lda	hl,8(sp)
   017A 2A                  366 	ld	a,(hl+)
   017B 66                  367 	ld	h,(hl)
   017C 6F                  368 	ld	l,a
   017D E5                  369 	push	hl
   017E 3E 01               370 	ld	a,#0x01
   0180 F5                  371 	push	af
   0181 33                  372 	inc	sp
   0182 21 0A 00            373 	ld	hl,#0x000A
   0185 E5                  374 	push	hl
   0186 C5                  375 	push	bc
   0187 CDr00s00            376 	call	__printn
   018A E8 09               377 	lda	sp,9(sp)
                            378 ;printf.c:42: break;
   018C C3r10s02            379 	jp	00112$
                            380 ;printf.c:44: case 'x':
   018F                     381 00104$:
                            382 ;printf.c:46: unsigned u = va_arg(va, unsigned);
   018F F8 0A               383 	lda	hl,10(sp)
   0191 4E                  384 	ld	c,(hl)
   0192 23                  385 	inc	hl
   0193 46                  386 	ld	b,(hl)
   0194 03                  387 	inc	bc
   0195 03                  388 	inc	bc
   0196 2B                  389 	dec	hl
   0197 71                  390 	ld	(hl),c
   0198 23                  391 	inc	hl
   0199 70                  392 	ld	(hl),b
   019A 0B                  393 	dec	bc
   019B 0B                  394 	dec	bc
   019C 59                  395 	ld	e,c
   019D 50                  396 	ld	d,b
   019E 1A                  397 	ld	a,(de)
   019F 4F                  398 	ld	c,a
   01A0 13                  399 	inc	de
   01A1 1A                  400 	ld	a,(de)
   01A2 47                  401 	ld	b,a
                            402 ;printf.c:47: _printn(u, 16, 0, emitter, pData);
   01A3 F8 08               403 	lda	hl,8(sp)
   01A5 2A                  404 	ld	a,(hl+)
   01A6 66                  405 	ld	h,(hl)
   01A7 6F                  406 	ld	l,a
   01A8 E5                  407 	push	hl
   01A9 F8 08               408 	lda	hl,8(sp)
   01AB 2A                  409 	ld	a,(hl+)
   01AC 66                  410 	ld	h,(hl)
   01AD 6F                  411 	ld	l,a
   01AE E5                  412 	push	hl
   01AF 3E 00               413 	ld	a,#0x00
   01B1 F5                  414 	push	af
   01B2 33                  415 	inc	sp
   01B3 21 10 00            416 	ld	hl,#0x0010
   01B6 E5                  417 	push	hl
   01B7 C5                  418 	push	bc
   01B8 CDr00s00            419 	call	__printn
   01BB E8 09               420 	lda	sp,9(sp)
                            421 ;printf.c:48: break;
   01BD C3r10s02            422 	jp	00112$
                            423 ;printf.c:50: case 's':
   01C0                     424 00105$:
                            425 ;printf.c:52: char *s = va_arg(va, char *);
   01C0 F8 0A               426 	lda	hl,10(sp)
   01C2 4E                  427 	ld	c,(hl)
   01C3 23                  428 	inc	hl
   01C4 46                  429 	ld	b,(hl)
   01C5 03                  430 	inc	bc
   01C6 03                  431 	inc	bc
   01C7 2B                  432 	dec	hl
   01C8 71                  433 	ld	(hl),c
   01C9 23                  434 	inc	hl
   01CA 70                  435 	ld	(hl),b
   01CB 0B                  436 	dec	bc
   01CC 0B                  437 	dec	bc
   01CD 59                  438 	ld	e,c
   01CE 50                  439 	ld	d,b
   01CF 1A                  440 	ld	a,(de)
   01D0 4F                  441 	ld	c,a
   01D1 13                  442 	inc	de
   01D2 1A                  443 	ld	a,(de)
   01D3 47                  444 	ld	b,a
                            445 ;printf.c:53: while (*s) {
   01D4                     446 00106$:
   01D4 0A                  447 	ld	a,(bc)
   01D5 F8 00               448 	lda	hl,0(sp)
   01D7 77                  449 	ld	(hl),a
   01D8 B7                  450 	or	a,a
   01D9 CAr10s02            451 	jp	Z,00112$
                            452 ;printf.c:54: (*emitter)(*s, pData);
   01DC C5                  453 	push	bc
   01DD F8 0A               454 	lda	hl,10(sp)
   01DF 2A                  455 	ld	a,(hl+)
   01E0 66                  456 	ld	h,(hl)
   01E1 6F                  457 	ld	l,a
   01E2 E5                  458 	push	hl
   01E3 F8 04               459 	lda	hl,4(sp)
   01E5 7E                  460 	ld	a,(hl)
   01E6 F5                  461 	push	af
   01E7 33                  462 	inc	sp
   01E8 21rF2s01            463 	ld	hl,#00137$
   01EB E5                  464 	push	hl
   01EC F8 0D               465 	lda	hl,13(sp)
   01EE 2A                  466 	ld	a,(hl+)
   01EF 66                  467 	ld	h,(hl)
   01F0 6F                  468 	ld	l,a
   01F1 E9                  469 	jp	(hl)
   01F2                     470 00137$:
   01F2 E8 03               471 	lda	sp,3(sp)
   01F4 C1                  472 	pop	bc
                            473 ;printf.c:55: s++;
   01F5 03                  474 	inc	bc
   01F6 C3rD4s01            475 	jp	00106$
                            476 ;printf.c:58: }
   01F9                     477 00111$:
                            478 ;printf.c:61: (*emitter)(*format, pData);
   01F9 F8 08               479 	lda	hl,8(sp)
   01FB 2A                  480 	ld	a,(hl+)
   01FC 66                  481 	ld	h,(hl)
   01FD 6F                  482 	ld	l,a
   01FE E5                  483 	push	hl
   01FF F8 03               484 	lda	hl,3(sp)
   0201 7E                  485 	ld	a,(hl)
   0202 F5                  486 	push	af
   0203 33                  487 	inc	sp
   0204 21r0Es02            488 	ld	hl,#00138$
   0207 E5                  489 	push	hl
   0208 F8 0B               490 	lda	hl,11(sp)
   020A 2A                  491 	ld	a,(hl+)
   020B 66                  492 	ld	h,(hl)
   020C 6F                  493 	ld	l,a
   020D E9                  494 	jp	(hl)
   020E                     495 00138$:
   020E E8 03               496 	lda	sp,3(sp)
   0210                     497 00112$:
                            498 ;printf.c:63: format++;
   0210 F8 04               499 	lda	hl,4(sp)
   0212 34                  500 	inc	(hl)
   0213 20 02               501 	jr	NZ,00139$
   0215 23                  502 	inc	hl
   0216 34                  503 	inc	(hl)
   0217                     504 00139$:
   0217 C3rB8s00            505 	jp	00113$
   021A                     506 00116$:
   021A E8 02               507 	lda	sp,2(sp)
   021C C9                  508 	ret
   021D                     509 __printf_end::
                            510 ;printf.c:69: STATIC void _char_emitter(char c, void *pData)
                            511 ;	---------------------------------
                            512 ; Function _char_emitter
                            513 ; ---------------------------------
   021D                     514 __char_emitter_start::
   021D                     515 __char_emitter:
                            516 	
                            517 ;printf.c:74: putchar(c);
   021D F8 02               518 	lda	hl,2(sp)
   021F 7E                  519 	ld	a,(hl)
   0220 F5                  520 	push	af
   0221 33                  521 	inc	sp
   0222 CDr00s00            522 	call	_putchar
   0225 E8 01               523 	lda	sp,1(sp)
   0227                     524 00101$:
                            525 	
   0227 C9                  526 	ret
   0228                     527 __char_emitter_end::
                            528 ;printf.c:77: int printf(const char *format, ...)
                            529 ;	---------------------------------
                            530 ; Function printf
                            531 ; ---------------------------------
   0228                     532 _printf_start::
   0228                     533 _printf:
                            534 	
                            535 ;printf.c:80: va_start(va, format);
   0228 F8 02               536 	lda	hl,2(sp)
   022A 4D                  537 	ld	c,l
   022B 44                  538 	ld	b,h
   022C 03                  539 	inc	bc
   022D 03                  540 	inc	bc
                            541 ;printf.c:82: _printf(format, _char_emitter, NULL, va);
   022E C5                  542 	push	bc
   022F 21 00 00            543 	ld	hl,#0x0000
   0232 E5                  544 	push	hl
   0233 21r1Ds02            545 	ld	hl,#__char_emitter
   0236 E5                  546 	push	hl
   0237 F8 08               547 	lda	hl,8(sp)
   0239 2A                  548 	ld	a,(hl+)
   023A 66                  549 	ld	h,(hl)
   023B 6F                  550 	ld	l,a
   023C E5                  551 	push	hl
   023D CDrB7s00            552 	call	__printf
   0240 E8 08               553 	lda	sp,8(sp)
                            554 ;printf.c:85: return 0;
   0242 11 00 00            555 	ld	de,#0x0000
   0245                     556 00101$:
                            557 	
   0245 C9                  558 	ret
   0246                     559 _printf_end::
                            560 ;printf.c:88: STATIC void _buf_emitter(char c, void *pData)
                            561 ;	---------------------------------
                            562 ; Function _buf_emitter
                            563 ; ---------------------------------
   0246                     564 __buf_emitter_start::
   0246                     565 __buf_emitter:
                            566 	
   0246 F5                  567 	push	af
                            568 ;printf.c:90: *((*((char **)pData)))++ = c;
   0247 F8 06               569 	lda	hl,6(sp)
   0249 2B                  570 	dec	hl
   024A 5E                  571 	ld	e,(hl)
   024B 23                  572 	inc	hl
   024C 56                  573 	ld	d,(hl)
   024D 1A                  574 	ld	a,(de)
   024E F8 00               575 	lda	hl,0(sp)
   0250 22                  576 	ld	(hl+),a
   0251 13                  577 	inc	de
   0252 1A                  578 	ld	a,(de)
   0253 32                  579 	ld	(hl-),a
   0254 4E                  580 	ld	c,(hl)
   0255 23                  581 	inc	hl
   0256 46                  582 	ld	b,(hl)
   0257 03                  583 	inc	bc
   0258 F8 06               584 	lda	hl,6(sp)
   025A 2B                  585 	dec	hl
   025B 5E                  586 	ld	e,(hl)
   025C 23                  587 	inc	hl
   025D 56                  588 	ld	d,(hl)
   025E 79                  589 	ld	a,c
   025F 12                  590 	ld	(de),a
   0260 13                  591 	inc	de
   0261 78                  592 	ld	a,b
   0262 12                  593 	ld	(de),a
   0263 F8 01               594 	lda	hl,1(sp)
   0265 2B                  595 	dec	hl
   0266 5E                  596 	ld	e,(hl)
   0267 23                  597 	inc	hl
   0268 56                  598 	ld	d,(hl)
   0269 F8 04               599 	lda	hl,4(sp)
   026B 7E                  600 	ld	a,(hl)
   026C 12                  601 	ld	(de),a
   026D                     602 00101$:
   026D E8 02               603 	lda	sp,2(sp)
   026F C9                  604 	ret
   0270                     605 __buf_emitter_end::
                            606 ;printf.c:93: int sprintf(char *pInto, const char *format, ...)
                            607 ;	---------------------------------
                            608 ; Function sprintf
                            609 ; ---------------------------------
   0270                     610 _sprintf_start::
   0270                     611 _sprintf:
                            612 	
   0270 F5                  613 	push	af
                            614 ;printf.c:96: va_start(va, format);
   0271 F8 06               615 	lda	hl,6(sp)
   0273 4D                  616 	ld	c,l
   0274 44                  617 	ld	b,h
   0275 21 02 00            618 	ld	hl,#0x0002
   0278 09                  619 	add	hl,bc
   0279 7D                  620 	ld	a,l
   027A 54                  621 	ld	d,h
   027B F8 00               622 	lda	hl,0(sp)
   027D 22                  623 	ld	(hl+),a
   027E 72                  624 	ld	(hl),d
                            625 ;printf.c:98: _printf(format, _buf_emitter, &pInto, va);
   027F F8 04               626 	lda	hl,4(sp)
   0281 4D                  627 	ld	c,l
   0282 44                  628 	ld	b,h
   0283 F8 00               629 	lda	hl,0(sp)
   0285 2A                  630 	ld	a,(hl+)
   0286 66                  631 	ld	h,(hl)
   0287 6F                  632 	ld	l,a
   0288 E5                  633 	push	hl
   0289 C5                  634 	push	bc
   028A 21r46s02            635 	ld	hl,#__buf_emitter
   028D E5                  636 	push	hl
   028E F8 0C               637 	lda	hl,12(sp)
   0290 2A                  638 	ld	a,(hl+)
   0291 66                  639 	ld	h,(hl)
   0292 6F                  640 	ld	l,a
   0293 E5                  641 	push	hl
   0294 CDrB7s00            642 	call	__printf
   0297 E8 08               643 	lda	sp,8(sp)
                            644 ;printf.c:99: *pInto++ = '\0';
   0299 F8 05               645 	lda	hl,5(sp)
   029B 2B                  646 	dec	hl
   029C 4E                  647 	ld	c,(hl)
   029D 23                  648 	inc	hl
   029E 46                  649 	ld	b,(hl)
   029F 3E 00               650 	ld	a,#0x00
   02A1 02                  651 	ld	(bc),a
                            652 ;printf.c:102: return 0;
   02A2 11 00 00            653 	ld	de,#0x0000
   02A5                     654 00101$:
   02A5 E8 02               655 	lda	sp,2(sp)
   02A7 C9                  656 	ret
   02A8                     657 _sprintf_end::
                            658 	.area _CODE
                            659 	.area _CABS
