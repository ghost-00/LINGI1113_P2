                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:10 2013
                              5 ;--------------------------------------------------------
                              6 	.module _ulong2fs
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl ___ulong2fs
                             13 ;--------------------------------------------------------
                             14 ;  ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; overlayable items in  ram 
                             19 ;--------------------------------------------------------
                             20 	.area _OVERLAY
                             21 ;--------------------------------------------------------
                             22 ; external initialized ram data
                             23 ;--------------------------------------------------------
                             24 ;--------------------------------------------------------
                             25 ; global & static initialisations
                             26 ;--------------------------------------------------------
                             27 	.area _HOME
                             28 	.area _GSINIT
                             29 	.area _GSFINAL
                             30 	.area _GSINIT
                             31 ;--------------------------------------------------------
                             32 ; Home
                             33 ;--------------------------------------------------------
                             34 	.area _HOME
                             35 	.area _HOME
                             36 ;--------------------------------------------------------
                             37 ; code
                             38 ;--------------------------------------------------------
                             39 	.area _CODE
                             40 ;../_ulong2fs.c:73: float __ulong2fs (unsigned long a )
                             41 ;	---------------------------------
                             42 ; Function __ulong2fs
                             43 ; ---------------------------------
   0000                      44 ___ulong2fs_start::
   0000                      45 ___ulong2fs:
   0000 E8 F2                46 	lda	sp,-14(sp)
                             47 ;../_ulong2fs.c:78: if (!a)
   0002 F8 10                48 	lda	hl,16(sp)
   0004 2A                   49 	ld	a,(hl+)
   0005 B6                   50 	or	a,(hl)
   0006 23                   51 	inc	hl
   0007 B6                   52 	or	a,(hl)
   0008 23                   53 	inc	hl
   0009 B6                   54 	or	a,(hl)
   000A C2r16s00             55 	jp	NZ,00115$
                             56 ;../_ulong2fs.c:80: return 0.0;
   000D 11 00 00             57 	ld	de,#0x0000
   0010 21 00 00             58 	ld	hl,#0x0000
   0013 C3r7Fs01             59 	jp	00111$
                             60 ;../_ulong2fs.c:83: while (a & NORM) 
   0016                      61 00115$:
   0016 01 96 00             62 	ld	bc,#0x0096
   0019                      63 00103$:
   0019 F8 13                64 	lda	hl,19(sp)
   001B 7E                   65 	ld	a,(hl)
   001C B7                   66 	or	a,a
   001D 20 03                67 	jr	NZ,00121$
   001F C3r58s00             68 	jp	00117$
   0022                      69 00121$:
                             70 ;../_ulong2fs.c:86: a >>= 1;
   0022 C5                   71 	push	bc
   0023 3E 01                72 	ld	a,#0x01
   0025 F5                   73 	push	af
   0026 33                   74 	inc	sp
   0027 2B                   75 	dec	hl
   0028 2A                   76 	ld	a,(hl+)
   0029 66                   77 	ld	h,(hl)
   002A 6F                   78 	ld	l,a
   002B E5                   79 	push	hl
   002C F8 15                80 	lda	hl,21(sp)
   002E 2A                   81 	ld	a,(hl+)
   002F 66                   82 	ld	h,(hl)
   0030 6F                   83 	ld	l,a
   0031 E5                   84 	push	hl
   0032 CDr00s00             85 	call	__rrulong_rrx_s
   0035 E8 05                86 	lda	sp,5(sp)
   0037 E5                   87 	push	hl
   0038 F8 08                88 	lda	hl,8(sp)
   003A 73                   89 	ld	(hl),e
   003B 23                   90 	inc	hl
   003C 72                   91 	ld	(hl),d
   003D D1                   92 	pop	de
   003E 23                   93 	inc	hl
   003F 73                   94 	ld	(hl),e
   0040 23                   95 	inc	hl
   0041 72                   96 	ld	(hl),d
   0042 C1                   97 	pop	bc
   0043 F8 04                98 	lda	hl,4(sp)
   0045 54                   99 	ld	d,h
   0046 5D                  100 	ld	e,l
   0047 F8 10               101 	lda	hl,16(sp)
   0049 1A                  102 	ld	a,(de)
   004A 22                  103 	ld	(hl+),a
   004B 13                  104 	inc	de
   004C 1A                  105 	ld	a,(de)
   004D 22                  106 	ld	(hl+),a
   004E 13                  107 	inc	de
   004F 1A                  108 	ld	a,(de)
   0050 22                  109 	ld	(hl+),a
   0051 13                  110 	inc	de
   0052 1A                  111 	ld	a,(de)
   0053 77                  112 	ld	(hl),a
                            113 ;../_ulong2fs.c:87: exp++;
   0054 03                  114 	inc	bc
   0055 C3r19s00            115 	jp	00103$
                            116 ;../_ulong2fs.c:90: while (a < HIDDEN)
   0058                     117 00117$:
   0058 F8 0C               118 	lda	hl,12(sp)
   005A 71                  119 	ld	(hl),c
   005B 23                  120 	inc	hl
   005C 70                  121 	ld	(hl),b
   005D                     122 00106$:
   005D F8 10               123 	lda	hl,16(sp)
   005F 7E                  124 	ld	a,(hl)
   0060 D6 00               125 	sub	a,#0x00
   0062 23                  126 	inc	hl
   0063 7E                  127 	ld	a,(hl)
   0064 DE 00               128 	sbc	a,#0x00
   0066 23                  129 	inc	hl
   0067 7E                  130 	ld	a,(hl)
   0068 DE 80               131 	sbc	a,#0x80
   006A 23                  132 	inc	hl
   006B 7E                  133 	ld	a,(hl)
   006C DE 00               134 	sbc	a,#0x00
   006E D2rAFs00            135 	jp	NC,00120$
                            136 ;../_ulong2fs.c:92: a <<= 1;
   0071 3E 01               137 	ld	a,#0x01
   0073 F5                  138 	push	af
   0074 33                  139 	inc	sp
   0075 2B                  140 	dec	hl
   0076 2A                  141 	ld	a,(hl+)
   0077 66                  142 	ld	h,(hl)
   0078 6F                  143 	ld	l,a
   0079 E5                  144 	push	hl
   007A F8 13               145 	lda	hl,19(sp)
   007C 2A                  146 	ld	a,(hl+)
   007D 66                  147 	ld	h,(hl)
   007E 6F                  148 	ld	l,a
   007F E5                  149 	push	hl
   0080 CDr00s00            150 	call	__rlulong_rrx_s
   0083 E8 05               151 	lda	sp,5(sp)
   0085 E5                  152 	push	hl
   0086 F8 06               153 	lda	hl,6(sp)
   0088 73                  154 	ld	(hl),e
   0089 23                  155 	inc	hl
   008A 72                  156 	ld	(hl),d
   008B D1                  157 	pop	de
   008C 23                  158 	inc	hl
   008D 73                  159 	ld	(hl),e
   008E 23                  160 	inc	hl
   008F 72                  161 	ld	(hl),d
   0090 F8 04               162 	lda	hl,4(sp)
   0092 54                  163 	ld	d,h
   0093 5D                  164 	ld	e,l
   0094 F8 10               165 	lda	hl,16(sp)
   0096 1A                  166 	ld	a,(de)
   0097 22                  167 	ld	(hl+),a
   0098 13                  168 	inc	de
   0099 1A                  169 	ld	a,(de)
   009A 22                  170 	ld	(hl+),a
   009B 13                  171 	inc	de
   009C 1A                  172 	ld	a,(de)
   009D 22                  173 	ld	(hl+),a
   009E 13                  174 	inc	de
   009F 1A                  175 	ld	a,(de)
   00A0 77                  176 	ld	(hl),a
                            177 ;../_ulong2fs.c:93: exp--;
   00A1 F8 0D               178 	lda	hl,13(sp)
   00A3 2B                  179 	dec	hl
   00A4 5E                  180 	ld	e,(hl)
   00A5 23                  181 	inc	hl
   00A6 56                  182 	ld	d,(hl)
   00A7 1B                  183 	dec	de
   00A8 2B                  184 	dec	hl
   00A9 73                  185 	ld	(hl),e
   00AA 23                  186 	inc	hl
   00AB 72                  187 	ld	(hl),d
   00AC C3r5Ds00            188 	jp	00106$
   00AF                     189 00120$:
   00AF F8 0D               190 	lda	hl,13(sp)
   00B1 2B                  191 	dec	hl
   00B2 4E                  192 	ld	c,(hl)
   00B3 23                  193 	inc	hl
   00B4 46                  194 	ld	b,(hl)
                            195 ;../_ulong2fs.c:97: if ((a&0x7fffff)==0x7fffff) {
   00B5 F8 10               196 	lda	hl,16(sp)
   00B7 7E                  197 	ld	a,(hl)
   00B8 F8 00               198 	lda	hl,0(sp)
   00BA 77                  199 	ld	(hl),a
   00BB F8 11               200 	lda	hl,17(sp)
   00BD 7E                  201 	ld	a,(hl)
   00BE F8 01               202 	lda	hl,1(sp)
   00C0 77                  203 	ld	(hl),a
   00C1 F8 12               204 	lda	hl,18(sp)
   00C3 7E                  205 	ld	a,(hl)
   00C4 E6 7F               206 	and	a,#0x7F
   00C6 F8 02               207 	lda	hl,2(sp)
   00C8 22                  208 	ld	(hl+),a
   00C9 36 00               209 	ld	(hl),#0x00
   00CB F8 00               210 	lda	hl,0(sp)
   00CD 7E                  211 	ld	a,(hl)
   00CE 3C                  212 	inc	a
   00CF C2rF7s00            213 	jp	NZ,00110$
   00D2 23                  214 	inc	hl
   00D3 7E                  215 	ld	a,(hl)
   00D4 3C                  216 	inc	a
   00D5 C2rF7s00            217 	jp	NZ,00110$
   00D8 23                  218 	inc	hl
   00D9 7E                  219 	ld	a,(hl)
   00DA D6 7F               220 	sub	a,#0x7F
   00DC C2rF7s00            221 	jp	NZ,00110$
   00DF 23                  222 	inc	hl
   00E0 7E                  223 	ld	a,(hl)
   00E1 B7                  224 	or	a,a
   00E2 C2rF7s00            225 	jp	NZ,00110$
   00E5 18 03               226 	jr	00123$
   00E7                     227 00122$:
   00E7 C3rF7s00            228 	jp	00110$
   00EA                     229 00123$:
                            230 ;../_ulong2fs.c:98: a=0;
   00EA AF                  231 	xor	a,a
   00EB F8 10               232 	lda	hl,16(sp)
   00ED 22                  233 	ld	(hl+),a
   00EE 22                  234 	ld	(hl+),a
   00EF 22                  235 	ld	(hl+),a
   00F0 77                  236 	ld	(hl),a
                            237 ;../_ulong2fs.c:99: exp++;
   00F1 F8 0C               238 	lda	hl,12(sp)
   00F3 4E                  239 	ld	c,(hl)
   00F4 23                  240 	inc	hl
   00F5 46                  241 	ld	b,(hl)
   00F6 03                  242 	inc	bc
   00F7                     243 00110$:
                            244 ;../_ulong2fs.c:103: a &= ~HIDDEN ;
   00F7 F8 12               245 	lda	hl,18(sp)
   00F9 7E                  246 	ld	a,(hl)
   00FA E6 7F               247 	and	a,#0x7F
   00FC 77                  248 	ld	(hl),a
                            249 ;../_ulong2fs.c:105: fl.l = PACK(0,(unsigned long)exp, a);
   00FD F8 08               250 	lda	hl,8(sp)
   00FF 7D                  251 	ld	a,l
   0100 54                  252 	ld	d,h
   0101 F8 00               253 	lda	hl,0(sp)
   0103 22                  254 	ld	(hl+),a
   0104 72                  255 	ld	(hl),d
   0105 F8 04               256 	lda	hl,4(sp)
   0107 71                  257 	ld	(hl),c
   0108 23                  258 	inc	hl
   0109 70                  259 	ld	(hl),b
   010A 78                  260 	ld	a,b
   010B 17                  261 	rla	
   010C 9F                  262 	sbc	a,a
   010D 23                  263 	inc	hl
   010E 22                  264 	ld	(hl+),a
   010F 77                  265 	ld	(hl),a
   0110 3E 17               266 	ld	a,#0x17
   0112 F5                  267 	push	af
   0113 33                  268 	inc	sp
   0114 2B                  269 	dec	hl
   0115 2A                  270 	ld	a,(hl+)
   0116 66                  271 	ld	h,(hl)
   0117 6F                  272 	ld	l,a
   0118 E5                  273 	push	hl
   0119 F8 07               274 	lda	hl,7(sp)
   011B 2A                  275 	ld	a,(hl+)
   011C 66                  276 	ld	h,(hl)
   011D 6F                  277 	ld	l,a
   011E E5                  278 	push	hl
   011F CDr00s00            279 	call	__rlulong_rrx_s
   0122 E8 05               280 	lda	sp,5(sp)
   0124 E5                  281 	push	hl
   0125 F8 06               282 	lda	hl,6(sp)
   0127 73                  283 	ld	(hl),e
   0128 23                  284 	inc	hl
   0129 72                  285 	ld	(hl),d
   012A D1                  286 	pop	de
   012B 23                  287 	inc	hl
   012C 73                  288 	ld	(hl),e
   012D 23                  289 	inc	hl
   012E 72                  290 	ld	(hl),d
   012F F8 04               291 	lda	hl,4(sp)
   0131 7E                  292 	ld	a,(hl)
   0132 F8 10               293 	lda	hl,16(sp)
   0134 B6                  294 	or	a,(hl)
   0135 F8 04               295 	lda	hl,4(sp)
   0137 22                  296 	ld	(hl+),a
   0138 7E                  297 	ld	a,(hl)
   0139 F8 11               298 	lda	hl,17(sp)
   013B B6                  299 	or	a,(hl)
   013C F8 05               300 	lda	hl,5(sp)
   013E 22                  301 	ld	(hl+),a
   013F 7E                  302 	ld	a,(hl)
   0140 F8 12               303 	lda	hl,18(sp)
   0142 B6                  304 	or	a,(hl)
   0143 F8 06               305 	lda	hl,6(sp)
   0145 22                  306 	ld	(hl+),a
   0146 7E                  307 	ld	a,(hl)
   0147 F8 13               308 	lda	hl,19(sp)
   0149 B6                  309 	or	a,(hl)
   014A F8 07               310 	lda	hl,7(sp)
   014C 77                  311 	ld	(hl),a
   014D F8 01               312 	lda	hl,1(sp)
   014F 2B                  313 	dec	hl
   0150 5E                  314 	ld	e,(hl)
   0151 23                  315 	inc	hl
   0152 56                  316 	ld	d,(hl)
   0153 F8 04               317 	lda	hl,4(sp)
   0155 7E                  318 	ld	a,(hl)
   0156 12                  319 	ld	(de),a
   0157 13                  320 	inc	de
   0158 23                  321 	inc	hl
   0159 7E                  322 	ld	a,(hl)
   015A 12                  323 	ld	(de),a
   015B 13                  324 	inc	de
   015C 23                  325 	inc	hl
   015D 7E                  326 	ld	a,(hl)
   015E 12                  327 	ld	(de),a
   015F 13                  328 	inc	de
   0160 23                  329 	inc	hl
   0161 7E                  330 	ld	a,(hl)
   0162 12                  331 	ld	(de),a
                            332 ;../_ulong2fs.c:107: return (fl.f);
   0163 F8 08               333 	lda	hl,8(sp)
   0165 4D                  334 	ld	c,l
   0166 44                  335 	ld	b,h
   0167 59                  336 	ld	e,c
   0168 50                  337 	ld	d,b
   0169 1A                  338 	ld	a,(de)
   016A F8 00               339 	lda	hl,0(sp)
   016C 22                  340 	ld	(hl+),a
   016D 13                  341 	inc	de
   016E 1A                  342 	ld	a,(de)
   016F 22                  343 	ld	(hl+),a
   0170 13                  344 	inc	de
   0171 1A                  345 	ld	a,(de)
   0172 22                  346 	ld	(hl+),a
   0173 13                  347 	inc	de
   0174 1A                  348 	ld	a,(de)
   0175 32                  349 	ld	(hl-),a
   0176 2B                  350 	dec	hl
   0177 2B                  351 	dec	hl
   0178 5E                  352 	ld	e,(hl)
   0179 23                  353 	inc	hl
   017A 56                  354 	ld	d,(hl)
   017B 23                  355 	inc	hl
   017C 2A                  356 	ld	a,(hl+)
   017D 66                  357 	ld	h,(hl)
   017E 6F                  358 	ld	l,a
   017F                     359 00111$:
   017F E8 0E               360 	lda	sp,14(sp)
   0181 C9                  361 	ret
   0182                     362 ___ulong2fs_end::
                            363 	.area _CODE
                            364 	.area _CABS
