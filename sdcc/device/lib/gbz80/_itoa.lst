                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:13 2013
                              5 ;--------------------------------------------------------
                              6 	.module _itoa
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl __itoa
                             13 	.globl __uitoa
                             14 ;--------------------------------------------------------
                             15 ;  ram data
                             16 ;--------------------------------------------------------
                             17 	.area _DATA
                             18 ;--------------------------------------------------------
                             19 ; overlayable items in  ram 
                             20 ;--------------------------------------------------------
                             21 	.area _OVERLAY
                             22 ;--------------------------------------------------------
                             23 ; external initialized ram data
                             24 ;--------------------------------------------------------
                             25 ;--------------------------------------------------------
                             26 ; global & static initialisations
                             27 ;--------------------------------------------------------
                             28 	.area _HOME
                             29 	.area _GSINIT
                             30 	.area _GSFINAL
                             31 	.area _GSINIT
                             32 ;--------------------------------------------------------
                             33 ; Home
                             34 ;--------------------------------------------------------
                             35 	.area _HOME
                             36 	.area _HOME
                             37 ;--------------------------------------------------------
                             38 ; code
                             39 ;--------------------------------------------------------
                             40 	.area _CODE
                             41 ;../_itoa.c:16: void _uitoa(unsigned int value, char* string, unsigned char radix)
                             42 ;	---------------------------------
                             43 ; Function _uitoa
                             44 ; ---------------------------------
   0000                      45 __uitoa_start::
   0000                      46 __uitoa:
   0000 E8 F9                47 	lda	sp,-7(sp)
                             48 ;../_itoa.c:21: do {
   0002 F8 06                49 	lda	hl,6(sp)
   0004 36 00                50 	ld	(hl),#0x00
   0006                      51 00103$:
                             52 ;../_itoa.c:22: string[index] = '0' + (value % radix);
   0006 F8 0C                53 	lda	hl,12(sp)
   0008 2B                   54 	dec	hl
   0009 5E                   55 	ld	e,(hl)
   000A 23                   56 	inc	hl
   000B 56                   57 	ld	d,(hl)
   000C F8 06                58 	lda	hl,6(sp)
   000E 6E                   59 	ld	l,(hl)
   000F 26 00                60 	ld	h,#0x00
   0011 19                   61 	add	hl,de
   0012 7D                   62 	ld	a,l
   0013 54                   63 	ld	d,h
   0014 F8 00                64 	lda	hl,0(sp)
   0016 22                   65 	ld	(hl+),a
   0017 72                   66 	ld	(hl),d
   0018 F8 0D                67 	lda	hl,13(sp)
   001A 7E                   68 	ld	a,(hl)
   001B F8 02                69 	lda	hl,2(sp)
   001D 22                   70 	ld	(hl+),a
   001E 36 00                71 	ld	(hl),#0x00
   0020 2B                   72 	dec	hl
   0021 2A                   73 	ld	a,(hl+)
   0022 66                   74 	ld	h,(hl)
   0023 6F                   75 	ld	l,a
   0024 E5                   76 	push	hl
   0025 F8 0B                77 	lda	hl,11(sp)
   0027 2A                   78 	ld	a,(hl+)
   0028 66                   79 	ld	h,(hl)
   0029 6F                   80 	ld	l,a
   002A E5                   81 	push	hl
   002B CDr00s00             82 	call	__moduint_rrx_s
   002E E8 04                83 	lda	sp,4(sp)
   0030 42                   84 	ld	b,d
   0031 4B                   85 	ld	c,e
   0032 79                   86 	ld	a,c
   0033 C6 30                87 	add	a,#0x30
   0035 4F                   88 	ld	c,a
   0036 F8 01                89 	lda	hl,1(sp)
   0038 2B                   90 	dec	hl
   0039 5E                   91 	ld	e,(hl)
   003A 23                   92 	inc	hl
   003B 56                   93 	ld	d,(hl)
   003C 79                   94 	ld	a,c
   003D 12                   95 	ld	(de),a
                             96 ;../_itoa.c:23: if (string[index] > '9')
   003E 3E 39                97 	ld	a,#0x39
   0040 91                   98 	sub	a,c
   0041 07                   99 	rlca
   0042 D2r52s00            100 	jp	NC,00102$
                            101 ;../_itoa.c:24: string[index] += 'A' - '9' - 1;
   0045 2B                  102 	dec	hl
   0046 5E                  103 	ld	e,(hl)
   0047 23                  104 	inc	hl
   0048 56                  105 	ld	d,(hl)
   0049 1A                  106 	ld	a,(de)
   004A 4F                  107 	ld	c,a
   004B C6 07               108 	add	a,#0x07
   004D 2B                  109 	dec	hl
   004E 5E                  110 	ld	e,(hl)
   004F 23                  111 	inc	hl
   0050 56                  112 	ld	d,(hl)
   0051 12                  113 	ld	(de),a
   0052                     114 00102$:
                            115 ;../_itoa.c:25: value /= radix;
   0052 F8 02               116 	lda	hl,2(sp)
   0054 2A                  117 	ld	a,(hl+)
   0055 66                  118 	ld	h,(hl)
   0056 6F                  119 	ld	l,a
   0057 E5                  120 	push	hl
   0058 F8 0B               121 	lda	hl,11(sp)
   005A 2A                  122 	ld	a,(hl+)
   005B 66                  123 	ld	h,(hl)
   005C 6F                  124 	ld	l,a
   005D E5                  125 	push	hl
   005E CDr00s00            126 	call	__divuint_rrx_s
   0061 E8 04               127 	lda	sp,4(sp)
   0063 42                  128 	ld	b,d
   0064 4B                  129 	ld	c,e
   0065 F8 09               130 	lda	hl,9(sp)
   0067 71                  131 	ld	(hl),c
   0068 23                  132 	inc	hl
   0069 70                  133 	ld	(hl),b
                            134 ;../_itoa.c:26: ++index;
   006A F8 06               135 	lda	hl,6(sp)
   006C 34                  136 	inc	(hl)
                            137 ;../_itoa.c:27: } while (value != 0);
   006D F8 09               138 	lda	hl,9(sp)
   006F 2A                  139 	ld	a,(hl+)
   0070 B6                  140 	or	a,(hl)
   0071 C2r06s00            141 	jp	NZ,00103$
                            142 ;../_itoa.c:30: string[index--] = '\0';
   0074 F8 06               143 	lda	hl,6(sp)
   0076 7E                  144 	ld	a,(hl)
   0077 3D                  145 	dec	a
   0078 F8 00               146 	lda	hl,0(sp)
   007A 77                  147 	ld	(hl),a
   007B F8 0C               148 	lda	hl,12(sp)
   007D 2B                  149 	dec	hl
   007E 5E                  150 	ld	e,(hl)
   007F 23                  151 	inc	hl
   0080 56                  152 	ld	d,(hl)
   0081 F8 06               153 	lda	hl,6(sp)
   0083 6E                  154 	ld	l,(hl)
   0084 26 00               155 	ld	h,#0x00
   0086 19                  156 	add	hl,de
   0087 4D                  157 	ld	c,l
   0088 44                  158 	ld	b,h
   0089 3E 00               159 	ld	a,#0x00
   008B 02                  160 	ld	(bc),a
                            161 ;../_itoa.c:33: while (index > i) {
   008C F8 05               162 	lda	hl,5(sp)
   008E 36 00               163 	ld	(hl),#0x00
   0090 F8 00               164 	lda	hl,0(sp)
   0092 7E                  165 	ld	a,(hl)
   0093 77                  166 	ld	(hl),a
   0094                     167 00106$:
   0094 F8 05               168 	lda	hl,5(sp)
   0096 7E                  169 	ld	a,(hl)
   0097 F8 00               170 	lda	hl,0(sp)
   0099 96                  171 	sub	a,(hl)
   009A 07                  172 	rlca
   009B D2rD5s00            173 	jp	NC,00109$
                            174 ;../_itoa.c:34: char tmp = string[i];
   009E F8 0C               175 	lda	hl,12(sp)
   00A0 2B                  176 	dec	hl
   00A1 5E                  177 	ld	e,(hl)
   00A2 23                  178 	inc	hl
   00A3 56                  179 	ld	d,(hl)
   00A4 F8 05               180 	lda	hl,5(sp)
   00A6 6E                  181 	ld	l,(hl)
   00A7 26 00               182 	ld	h,#0x00
   00A9 19                  183 	add	hl,de
   00AA 7D                  184 	ld	a,l
   00AB 54                  185 	ld	d,h
   00AC F8 02               186 	lda	hl,2(sp)
   00AE 22                  187 	ld	(hl+),a
   00AF 72                  188 	ld	(hl),d
   00B0 5F                  189 	ld	e,a
   00B1 1A                  190 	ld	a,(de)
   00B2 23                  191 	inc	hl
   00B3 77                  192 	ld	(hl),a
                            193 ;../_itoa.c:35: string[i] = string[index];
   00B4 F8 0C               194 	lda	hl,12(sp)
   00B6 2B                  195 	dec	hl
   00B7 5E                  196 	ld	e,(hl)
   00B8 23                  197 	inc	hl
   00B9 56                  198 	ld	d,(hl)
   00BA F8 00               199 	lda	hl,0(sp)
   00BC 6E                  200 	ld	l,(hl)
   00BD 26 00               201 	ld	h,#0x00
   00BF 19                  202 	add	hl,de
   00C0 4D                  203 	ld	c,l
   00C1 44                  204 	ld	b,h
   00C2 0A                  205 	ld	a,(bc)
   00C3 F8 03               206 	lda	hl,3(sp)
   00C5 2B                  207 	dec	hl
   00C6 5E                  208 	ld	e,(hl)
   00C7 23                  209 	inc	hl
   00C8 56                  210 	ld	d,(hl)
   00C9 12                  211 	ld	(de),a
                            212 ;../_itoa.c:36: string[index] = tmp;
   00CA 23                  213 	inc	hl
   00CB 7E                  214 	ld	a,(hl)
   00CC 02                  215 	ld	(bc),a
                            216 ;../_itoa.c:37: ++i;
   00CD 23                  217 	inc	hl
   00CE 34                  218 	inc	(hl)
                            219 ;../_itoa.c:38: --index;
   00CF F8 00               220 	lda	hl,0(sp)
   00D1 35                  221 	dec	(hl)
   00D2 C3r94s00            222 	jp	00106$
   00D5                     223 00109$:
   00D5 E8 07               224 	lda	sp,7(sp)
   00D7 C9                  225 	ret
   00D8                     226 __uitoa_end::
                            227 ;../_itoa.c:42: void _itoa(int value, char* string, unsigned char radix)
                            228 ;	---------------------------------
                            229 ; Function _itoa
                            230 ; ---------------------------------
   00D8                     231 __itoa_start::
   00D8                     232 __itoa:
                            233 	
                            234 ;../_itoa.c:44: if (value < 0 && radix == 10) {
   00D8 F8 03               235 	lda	hl,3(sp)
   00DA 7E                  236 	ld	a,(hl)
   00DB CB 7F               237 	bit	7,a
   00DD CAr0As01            238 	jp	Z,00102$
   00E0 F8 06               239 	lda	hl,6(sp)
   00E2 7E                  240 	ld	a,(hl)
   00E3 D6 0A               241 	sub	a,#0x0A
   00E5 C2r0As01            242 	jp	NZ,00102$
   00E8 18 03               243 	jr	00109$
   00EA                     244 00108$:
   00EA C3r0As01            245 	jp	00102$
   00ED                     246 00109$:
                            247 ;../_itoa.c:45: *string++ = '-';
   00ED 2B                  248 	dec	hl
   00EE 2B                  249 	dec	hl
   00EF 4E                  250 	ld	c,(hl)
   00F0 23                  251 	inc	hl
   00F1 46                  252 	ld	b,(hl)
   00F2 3E 2D               253 	ld	a,#0x2D
   00F4 02                  254 	ld	(bc),a
   00F5 21 01 00            255 	ld	hl,#0x0001
   00F8 09                  256 	add	hl,bc
   00F9 7D                  257 	ld	a,l
   00FA 54                  258 	ld	d,h
   00FB F8 04               259 	lda	hl,4(sp)
   00FD 22                  260 	ld	(hl+),a
   00FE 72                  261 	ld	(hl),d
                            262 ;../_itoa.c:46: value = -value;
   00FF AF                  263 	xor	a,a
   0100 F8 02               264 	lda	hl,2(sp)
   0102 3E 00               265 	ld	a,#0x00
   0104 9E                  266 	sbc	a,(hl)
   0105 22                  267 	ld	(hl+),a
   0106 3E 00               268 	ld	a,#0x00
   0108 9E                  269 	sbc	a,(hl)
   0109 77                  270 	ld	(hl),a
   010A                     271 00102$:
                            272 ;../_itoa.c:48: _uitoa(value, string, radix);
   010A F8 03               273 	lda	hl,3(sp)
   010C 2B                  274 	dec	hl
   010D 4E                  275 	ld	c,(hl)
   010E 23                  276 	inc	hl
   010F 46                  277 	ld	b,(hl)
   0110 F8 06               278 	lda	hl,6(sp)
   0112 7E                  279 	ld	a,(hl)
   0113 F5                  280 	push	af
   0114 33                  281 	inc	sp
   0115 2B                  282 	dec	hl
   0116 2B                  283 	dec	hl
   0117 2A                  284 	ld	a,(hl+)
   0118 66                  285 	ld	h,(hl)
   0119 6F                  286 	ld	l,a
   011A E5                  287 	push	hl
   011B C5                  288 	push	bc
   011C CDr00s00            289 	call	__uitoa
   011F E8 05               290 	lda	sp,5(sp)
   0121                     291 00104$:
                            292 	
   0121 C9                  293 	ret
   0122                     294 __itoa_end::
                            295 	.area _CODE
                            296 	.area _CABS
