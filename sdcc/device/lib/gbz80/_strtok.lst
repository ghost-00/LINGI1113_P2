                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:12 2013
                              5 ;--------------------------------------------------------
                              6 	.module _strtok
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _strtok
                             13 ;--------------------------------------------------------
                             14 ;  ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
   0000                      17 _strtok_s_1_1:
   0000                      18 	.ds 2
                             19 ;--------------------------------------------------------
                             20 ; overlayable items in  ram 
                             21 ;--------------------------------------------------------
                             22 	.area _OVERLAY
                             23 ;--------------------------------------------------------
                             24 ; external initialized ram data
                             25 ;--------------------------------------------------------
                             26 ;--------------------------------------------------------
                             27 ; global & static initialisations
                             28 ;--------------------------------------------------------
                             29 	.area _HOME
                             30 	.area _GSINIT
                             31 	.area _GSFINAL
                             32 	.area _GSINIT
                             33 ;--------------------------------------------------------
                             34 ; Home
                             35 ;--------------------------------------------------------
                             36 	.area _HOME
                             37 	.area _HOME
                             38 ;--------------------------------------------------------
                             39 ; code
                             40 ;--------------------------------------------------------
                             41 	.area _CODE
                             42 ;../_strtok.c:31: char * strtok (
                             43 ;	---------------------------------
                             44 ; Function strtok
                             45 ; ---------------------------------
   0000                      46 _strtok_start::
   0000                      47 _strtok:
                             48 	
   0000 F5                   49 	push	af
                             50 ;../_strtok.c:38: if ( str )
   0001 F8 04                51 	lda	hl,4(sp)
   0003 2A                   52 	ld	a,(hl+)
   0004 B6                   53 	or	a,(hl)
   0005 CAr13s00             54 	jp	Z,00102$
                             55 ;../_strtok.c:39: s = str ;
   0008 2B                   56 	dec	hl
   0009 2A                   57 	ld	a,(hl+)
   000A 5E                   58 	ld	e,(hl)
   000B 21r00s00             59 	ld	hl,#_strtok_s_1_1
   000E 77                   60 	ld	(hl),a
   000F 21r01s00             61 	ld	hl,#_strtok_s_1_1 + 1
   0012 73                   62 	ld	(hl),e
   0013                      63 00102$:
                             64 ;../_strtok.c:40: if ( !s )
   0013 21r00s00             65 	ld	hl,#_strtok_s_1_1
   0016 7E                   66 	ld	a,(hl)
   0017 21r01s00             67 	ld	hl,#_strtok_s_1_1 + 1
   001A B6                   68 	or	a,(hl)
   001B C2r24s00             69 	jp	NZ,00108$
                             70 ;../_strtok.c:41: return NULL;
   001E 11 00 00             71 	ld	de,#0x0000
   0021 C3rECs00             72 	jp	00119$
                             73 ;../_strtok.c:43: while (*s) {
   0024                      74 00108$:
   0024 21r01s00             75 	ld	hl,#_strtok_s_1_1 + 1
   0027 21r00s00             76 	ld	hl,#_strtok_s_1_1
   002A 4E                   77 	ld	c,(hl)
   002B 21r01s00             78 	ld	hl,#_strtok_s_1_1 + 1
   002E 46                   79 	ld	b,(hl)
   002F 0A                   80 	ld	a,(bc)
   0030 B7                   81 	or	a,a
   0031 CAr62s00             82 	jp	Z,00110$
                             83 ;../_strtok.c:44: if (strchr(control,*s))
   0034 21r01s00             84 	ld	hl,#_strtok_s_1_1 + 1
   0037 21r00s00             85 	ld	hl,#_strtok_s_1_1
   003A 4E                   86 	ld	c,(hl)
   003B 21r01s00             87 	ld	hl,#_strtok_s_1_1 + 1
   003E 46                   88 	ld	b,(hl)
   003F 0A                   89 	ld	a,(bc)
   0040 4F                   90 	ld	c,a
   0041 F5                   91 	push	af
   0042 33                   92 	inc	sp
   0043 F8 07                93 	lda	hl,7(sp)
   0045 2A                   94 	ld	a,(hl+)
   0046 66                   95 	ld	h,(hl)
   0047 6F                   96 	ld	l,a
   0048 E5                   97 	push	hl
   0049 CDr00s00             98 	call	_strchr
   004C E8 03                99 	lda	sp,3(sp)
   004E 42                  100 	ld	b,d
   004F 4B                  101 	ld	c,e
   0050 79                  102 	ld	a,c
   0051 B0                  103 	or	a,b
   0052 CAr62s00            104 	jp	Z,00110$
                            105 ;../_strtok.c:45: s++;
   0055 21r00s00            106 	ld	hl,#_strtok_s_1_1
   0058 34                  107 	inc	(hl)
   0059 20 04               108 	jr	NZ,00130$
   005B 21r01s00            109 	ld	hl,#_strtok_s_1_1 + 1
   005E 34                  110 	inc	(hl)
   005F                     111 00130$:
   005F C3r24s00            112 	jp	00108$
                            113 ;../_strtok.c:47: break;
   0062                     114 00110$:
                            115 ;../_strtok.c:50: s1 = s ;
   0062 21r00s00            116 	ld	hl,#_strtok_s_1_1
   0065 7E                  117 	ld	a,(hl)
   0066 21r01s00            118 	ld	hl,#_strtok_s_1_1 + 1
   0069 5E                  119 	ld	e,(hl)
   006A F8 00               120 	lda	hl,0(sp)
   006C 22                  121 	ld	(hl+),a
   006D 73                  122 	ld	(hl),e
                            123 ;../_strtok.c:52: while (*s) {
   006E                     124 00113$:
   006E 21r01s00            125 	ld	hl,#_strtok_s_1_1 + 1
   0071 21r00s00            126 	ld	hl,#_strtok_s_1_1
   0074 4E                  127 	ld	c,(hl)
   0075 21r01s00            128 	ld	hl,#_strtok_s_1_1 + 1
   0078 46                  129 	ld	b,(hl)
   0079 0A                  130 	ld	a,(bc)
   007A B7                  131 	or	a,a
   007B CArCDs00            132 	jp	Z,00115$
                            133 ;../_strtok.c:53: if (strchr(control,*s)) {
   007E 21r01s00            134 	ld	hl,#_strtok_s_1_1 + 1
   0081 21r00s00            135 	ld	hl,#_strtok_s_1_1
   0084 4E                  136 	ld	c,(hl)
   0085 21r01s00            137 	ld	hl,#_strtok_s_1_1 + 1
   0088 46                  138 	ld	b,(hl)
   0089 0A                  139 	ld	a,(bc)
   008A 4F                  140 	ld	c,a
   008B F5                  141 	push	af
   008C 33                  142 	inc	sp
   008D F8 07               143 	lda	hl,7(sp)
   008F 2A                  144 	ld	a,(hl+)
   0090 66                  145 	ld	h,(hl)
   0091 6F                  146 	ld	l,a
   0092 E5                  147 	push	hl
   0093 CDr00s00            148 	call	_strchr
   0096 E8 03               149 	lda	sp,3(sp)
   0098 42                  150 	ld	b,d
   0099 4B                  151 	ld	c,e
   009A 79                  152 	ld	a,c
   009B B0                  153 	or	a,b
   009C CArC0s00            154 	jp	Z,00112$
                            155 ;../_strtok.c:54: *s++ = '\0';
   009F 21r01s00            156 	ld	hl,#_strtok_s_1_1 + 1
   00A2 21r00s00            157 	ld	hl,#_strtok_s_1_1
   00A5 4E                  158 	ld	c,(hl)
   00A6 21r01s00            159 	ld	hl,#_strtok_s_1_1 + 1
   00A9 46                  160 	ld	b,(hl)
   00AA 3E 00               161 	ld	a,#0x00
   00AC 02                  162 	ld	(bc),a
   00AD 21r00s00            163 	ld	hl,#_strtok_s_1_1
   00B0 34                  164 	inc	(hl)
   00B1 20 04               165 	jr	NZ,00131$
   00B3 21r01s00            166 	ld	hl,#_strtok_s_1_1 + 1
   00B6 34                  167 	inc	(hl)
   00B7                     168 00131$:
                            169 ;../_strtok.c:55: return s1 ;
   00B7 F8 01               170 	lda	hl,1(sp)
   00B9 2B                  171 	dec	hl
   00BA 5E                  172 	ld	e,(hl)
   00BB 23                  173 	inc	hl
   00BC 56                  174 	ld	d,(hl)
   00BD C3rECs00            175 	jp	00119$
   00C0                     176 00112$:
                            177 ;../_strtok.c:57: s++ ;
   00C0 21r00s00            178 	ld	hl,#_strtok_s_1_1
   00C3 34                  179 	inc	(hl)
   00C4 20 04               180 	jr	NZ,00132$
   00C6 21r01s00            181 	ld	hl,#_strtok_s_1_1 + 1
   00C9 34                  182 	inc	(hl)
   00CA                     183 00132$:
   00CA C3r6Es00            184 	jp	00113$
   00CD                     185 00115$:
                            186 ;../_strtok.c:60: s = NULL;
   00CD 21r00s00            187 	ld	hl,#_strtok_s_1_1
   00D0 36 00               188 	ld	(hl),#0x00
   00D2 21r01s00            189 	ld	hl,#_strtok_s_1_1 + 1
   00D5 36 00               190 	ld	(hl),#0x00
                            191 ;../_strtok.c:62: if (*s1)
   00D7 F8 01               192 	lda	hl,1(sp)
   00D9 2B                  193 	dec	hl
   00DA 5E                  194 	ld	e,(hl)
   00DB 23                  195 	inc	hl
   00DC 56                  196 	ld	d,(hl)
   00DD 1A                  197 	ld	a,(de)
   00DE B7                  198 	or	a,a
   00DF CArE9s00            199 	jp	Z,00117$
                            200 ;../_strtok.c:63: return s1;
   00E2 2B                  201 	dec	hl
   00E3 5E                  202 	ld	e,(hl)
   00E4 23                  203 	inc	hl
   00E5 56                  204 	ld	d,(hl)
   00E6 C3rECs00            205 	jp	00119$
   00E9                     206 00117$:
                            207 ;../_strtok.c:65: return NULL;
   00E9 11 00 00            208 	ld	de,#0x0000
   00EC                     209 00119$:
   00EC E8 02               210 	lda	sp,2(sp)
   00EE C9                  211 	ret
   00EF                     212 _strtok_end::
                            213 	.area _CODE
                            214 	.area _CABS
