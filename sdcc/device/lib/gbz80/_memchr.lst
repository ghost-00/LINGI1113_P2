                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:12 2013
                              5 ;--------------------------------------------------------
                              6 	.module _memchr
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _memchr
                             13 ;--------------------------------------------------------
                             14 ;  ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; overlayable items in  ram 
                             19 ;--------------------------------------------------------
                             20 	.area _OVERLAY
                             21 ;--------------------------------------------------------
                             22 ; external initialized ram data
                             23 ;--------------------------------------------------------
                             24 ;--------------------------------------------------------
                             25 ; global & static initialisations
                             26 ;--------------------------------------------------------
                             27 	.area _HOME
                             28 	.area _GSINIT
                             29 	.area _GSFINAL
                             30 	.area _GSINIT
                             31 ;--------------------------------------------------------
                             32 ; Home
                             33 ;--------------------------------------------------------
                             34 	.area _HOME
                             35 	.area _HOME
                             36 ;--------------------------------------------------------
                             37 ; code
                             38 ;--------------------------------------------------------
                             39 	.area _CODE
                             40 ;../_memchr.c:32: void *memchr(const void *s, int c, size_t n)
                             41 ;	---------------------------------
                             42 ; Function memchr
                             43 ; ---------------------------------
   0000                      44 _memchr_start::
   0000                      45 _memchr:
   0000 E8 FA                46 	lda	sp,-6(sp)
                             47 ;../_memchr.c:34: unsigned char *p = (unsigned char *)s;
   0002 F8 08                48 	lda	hl,8(sp)
   0004 2A                   49 	ld	a,(hl+)
   0005 5E                   50 	ld	e,(hl)
   0006 F8 00                51 	lda	hl,0(sp)
   0008 22                   52 	ld	(hl+),a
   0009 73                   53 	ld	(hl),e
                             54 ;../_memchr.c:35: unsigned char *end = p + n;
   000A F8 09                55 	lda	hl,9(sp)
   000C 2B                   56 	dec	hl
   000D 5E                   57 	ld	e,(hl)
   000E 23                   58 	inc	hl
   000F 56                   59 	ld	d,(hl)
   0010 F8 0C                60 	lda	hl,12(sp)
   0012 2A                   61 	ld	a,(hl+)
   0013 66                   62 	ld	h,(hl)
   0014 6F                   63 	ld	l,a
   0015 19                   64 	add	hl,de
   0016 4D                   65 	ld	c,l
   0017 44                   66 	ld	b,h
   0018 F8 02                67 	lda	hl,2(sp)
   001A 71                   68 	ld	(hl),c
   001B 23                   69 	inc	hl
   001C 70                   70 	ld	(hl),b
                             71 ;../_memchr.c:39: return(0);
   001D F8 08                72 	lda	hl,8(sp)
   001F 2A                   73 	ld	a,(hl+)
   0020 5E                   74 	ld	e,(hl)
   0021 F8 04                75 	lda	hl,4(sp)
   0023 22                   76 	ld	(hl+),a
   0024 73                   77 	ld	(hl),e
   0025                      78 00103$:
                             79 ;../_memchr.c:36: for(; p != end; p++)
   0025 F8 04                80 	lda	hl,4(sp)
   0027 7E                   81 	ld	a,(hl)
   0028 2B                   82 	dec	hl
   0029 2B                   83 	dec	hl
   002A 96                   84 	sub	a,(hl)
   002B C2r37s00             85 	jp	NZ,00112$
   002E F8 05                86 	lda	hl,5(sp)
   0030 7E                   87 	ld	a,(hl)
   0031 2B                   88 	dec	hl
   0032 2B                   89 	dec	hl
   0033 96                   90 	sub	a,(hl)
   0034 CAr6Ds00             91 	jp	Z,00106$
   0037                      92 00112$:
                             93 ;../_memchr.c:37: if(*p == c)
   0037 23                   94 	inc	hl
   0038 23                   95 	inc	hl
   0039 2B                   96 	dec	hl
   003A 5E                   97 	ld	e,(hl)
   003B 23                   98 	inc	hl
   003C 56                   99 	ld	d,(hl)
   003D 1A                  100 	ld	a,(de)
   003E 4F                  101 	ld	c,a
   003F 06 00               102 	ld	b,#0x00
   0041 79                  103 	ld	a,c
   0042 F8 0A               104 	lda	hl,10(sp)
   0044 96                  105 	sub	a,(hl)
   0045 C2r5Cs00            106 	jp	NZ,00105$
   0048 78                  107 	ld	a,b
   0049 23                  108 	inc	hl
   004A 96                  109 	sub	a,(hl)
   004B C2r5Cs00            110 	jp	NZ,00105$
   004E 18 03               111 	jr	00114$
   0050                     112 00113$:
   0050 C3r5Cs00            113 	jp	00105$
   0053                     114 00114$:
                            115 ;../_memchr.c:38: return((void *)p);
   0053 F8 01               116 	lda	hl,1(sp)
   0055 2B                  117 	dec	hl
   0056 5E                  118 	ld	e,(hl)
   0057 23                  119 	inc	hl
   0058 56                  120 	ld	d,(hl)
   0059 C3r70s00            121 	jp	00107$
   005C                     122 00105$:
                            123 ;../_memchr.c:36: for(; p != end; p++)
   005C F8 04               124 	lda	hl,4(sp)
   005E 34                  125 	inc	(hl)
   005F 20 02               126 	jr	NZ,00115$
   0061 23                  127 	inc	hl
   0062 34                  128 	inc	(hl)
   0063                     129 00115$:
   0063 2B                  130 	dec	hl
   0064 2A                  131 	ld	a,(hl+)
   0065 5E                  132 	ld	e,(hl)
   0066 F8 00               133 	lda	hl,0(sp)
   0068 22                  134 	ld	(hl+),a
   0069 73                  135 	ld	(hl),e
   006A C3r25s00            136 	jp	00103$
   006D                     137 00106$:
                            138 ;../_memchr.c:39: return(0);
   006D 11 00 00            139 	ld	de,#0x0000
   0070                     140 00107$:
   0070 E8 06               141 	lda	sp,6(sp)
   0072 C9                  142 	ret
   0073                     143 _memchr_end::
                            144 	.area _CODE
                            145 	.area _CABS
