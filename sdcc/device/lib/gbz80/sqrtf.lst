                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:11 2013
                              5 ;--------------------------------------------------------
                              6 	.module sqrtf
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _sqrtf
                             13 ;--------------------------------------------------------
                             14 ;  ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; overlayable items in  ram 
                             19 ;--------------------------------------------------------
                             20 	.area _OVERLAY
                             21 ;--------------------------------------------------------
                             22 ; external initialized ram data
                             23 ;--------------------------------------------------------
                             24 ;--------------------------------------------------------
                             25 ; global & static initialisations
                             26 ;--------------------------------------------------------
                             27 	.area _HOME
                             28 	.area _GSINIT
                             29 	.area _GSFINAL
                             30 	.area _GSINIT
                             31 ;--------------------------------------------------------
                             32 ; Home
                             33 ;--------------------------------------------------------
                             34 	.area _HOME
                             35 	.area _HOME
                             36 ;--------------------------------------------------------
                             37 ; code
                             38 ;--------------------------------------------------------
                             39 	.area _CODE
                             40 ;../sqrtf.c:27: float sqrtf(const float x) _FLOAT_FUNC_REENTRANT
                             41 ;	---------------------------------
                             42 ; Function sqrtf
                             43 ; ---------------------------------
   0000                      44 _sqrtf_start::
   0000                      45 _sqrtf:
   0000 E8 EE                46 	lda	sp,-18(sp)
                             47 ;../sqrtf.c:32: if (x==0.0) return x;
   0002 F8 14                48 	lda	hl,20(sp)
   0004 2A                   49 	ld	a,(hl+)
   0005 B6                   50 	or	a,(hl)
   0006 23                   51 	inc	hl
   0007 B6                   52 	or	a,(hl)
   0008 23                   53 	inc	hl
   0009 B6                   54 	or	a,(hl)
   000A C2r1As00             55 	jp	NZ,00107$
   000D 2B                   56 	dec	hl
   000E 2B                   57 	dec	hl
   000F 2B                   58 	dec	hl
   0010 5E                   59 	ld	e,(hl)
   0011 23                   60 	inc	hl
   0012 56                   61 	ld	d,(hl)
   0013 23                   62 	inc	hl
   0014 2A                   63 	ld	a,(hl+)
   0015 66                   64 	ld	h,(hl)
   0016 6F                   65 	ld	l,a
   0017 C3r3Ds02             66 	jp	00111$
   001A                      67 00107$:
                             68 ;../sqrtf.c:33: else if (x==1.0) return 1.0;
   001A 21 80 3F             69 	ld	hl,#0x3F80
   001D E5                   70 	push	hl
   001E 21 00 00             71 	ld	hl,#0x0000
   0021 E5                   72 	push	hl
   0022 F8 1A                73 	lda	hl,26(sp)
   0024 2A                   74 	ld	a,(hl+)
   0025 66                   75 	ld	h,(hl)
   0026 6F                   76 	ld	l,a
   0027 E5                   77 	push	hl
   0028 F8 1A                78 	lda	hl,26(sp)
   002A 2A                   79 	ld	a,(hl+)
   002B 66                   80 	ld	h,(hl)
   002C 6F                   81 	ld	l,a
   002D E5                   82 	push	hl
   002E CDr00s00             83 	call	___fseq
   0031 E8 08                84 	lda	sp,8(sp)
   0033 4B                   85 	ld	c,e
   0034 AF                   86 	xor	a,a
   0035 B1                   87 	or	a,c
   0036 CAr42s00             88 	jp	Z,00104$
   0039 11 00 00             89 	ld	de,#0x0000
   003C 21 80 3F             90 	ld	hl,#0x3F80
   003F C3r3Ds02             91 	jp	00111$
   0042                      92 00104$:
                             93 ;../sqrtf.c:34: else if (x<0.0)
   0042 21 00 00             94 	ld	hl,#0x0000
   0045 E5                   95 	push	hl
   0046 21 00 00             96 	ld	hl,#0x0000
   0049 E5                   97 	push	hl
   004A F8 1A                98 	lda	hl,26(sp)
   004C 2A                   99 	ld	a,(hl+)
   004D 66                  100 	ld	h,(hl)
   004E 6F                  101 	ld	l,a
   004F E5                  102 	push	hl
   0050 F8 1A               103 	lda	hl,26(sp)
   0052 2A                  104 	ld	a,(hl+)
   0053 66                  105 	ld	h,(hl)
   0054 6F                  106 	ld	l,a
   0055 E5                  107 	push	hl
   0056 CDr00s00            108 	call	___fslt
   0059 E8 08               109 	lda	sp,8(sp)
   005B 4B                  110 	ld	c,e
   005C AF                  111 	xor	a,a
   005D B1                  112 	or	a,c
   005E CAr74s00            113 	jp	Z,00108$
                            114 ;../sqrtf.c:36: errno=EDOM;
   0061 21r00s00            115 	ld	hl,#_errno
   0064 36 21               116 	ld	(hl),#0x21
   0066 21r01s00            117 	ld	hl,#_errno + 1
   0069 36 00               118 	ld	(hl),#0x00
                            119 ;../sqrtf.c:37: return 0.0;
   006B 11 00 00            120 	ld	de,#0x0000
   006E 21 00 00            121 	ld	hl,#0x0000
   0071 C3r3Ds02            122 	jp	00111$
   0074                     123 00108$:
                            124 ;../sqrtf.c:39: f=frexpf(x, &n);
   0074 F8 08               125 	lda	hl,8(sp)
   0076 4D                  126 	ld	c,l
   0077 44                  127 	ld	b,h
   0078 C5                  128 	push	bc
   0079 F8 18               129 	lda	hl,24(sp)
   007B 2A                  130 	ld	a,(hl+)
   007C 66                  131 	ld	h,(hl)
   007D 6F                  132 	ld	l,a
   007E E5                  133 	push	hl
   007F F8 18               134 	lda	hl,24(sp)
   0081 2A                  135 	ld	a,(hl+)
   0082 66                  136 	ld	h,(hl)
   0083 6F                  137 	ld	l,a
   0084 E5                  138 	push	hl
   0085 CDr00s00            139 	call	_frexpf
   0088 E8 06               140 	lda	sp,6(sp)
   008A E5                  141 	push	hl
   008B F8 10               142 	lda	hl,16(sp)
   008D 73                  143 	ld	(hl),e
   008E 23                  144 	inc	hl
   008F 72                  145 	ld	(hl),d
   0090 D1                  146 	pop	de
   0091 23                  147 	inc	hl
   0092 73                  148 	ld	(hl),e
   0093 23                  149 	inc	hl
   0094 72                  150 	ld	(hl),d
                            151 ;../sqrtf.c:40: y=0.41731+0.59016*f; /*Educated guess*/
   0095 F8 10               152 	lda	hl,16(sp)
   0097 2A                  153 	ld	a,(hl+)
   0098 66                  154 	ld	h,(hl)
   0099 6F                  155 	ld	l,a
   009A E5                  156 	push	hl
   009B F8 10               157 	lda	hl,16(sp)
   009D 2A                  158 	ld	a,(hl+)
   009E 66                  159 	ld	h,(hl)
   009F 6F                  160 	ld	l,a
   00A0 E5                  161 	push	hl
   00A1 21 17 3F            162 	ld	hl,#0x3F17
   00A4 E5                  163 	push	hl
   00A5 21 BA 14            164 	ld	hl,#0x14BA
   00A8 E5                  165 	push	hl
   00A9 CDr00s00            166 	call	___fsmul
   00AC E8 08               167 	lda	sp,8(sp)
   00AE E5                  168 	push	hl
   00AF F8 06               169 	lda	hl,6(sp)
   00B1 73                  170 	ld	(hl),e
   00B2 23                  171 	inc	hl
   00B3 72                  172 	ld	(hl),d
   00B4 D1                  173 	pop	de
   00B5 23                  174 	inc	hl
   00B6 73                  175 	ld	(hl),e
   00B7 23                  176 	inc	hl
   00B8 72                  177 	ld	(hl),d
   00B9 21 D5 3E            178 	ld	hl,#0x3ED5
   00BC E5                  179 	push	hl
   00BD 21 A8 A9            180 	ld	hl,#0xA9A8
   00C0 E5                  181 	push	hl
   00C1 F8 0A               182 	lda	hl,10(sp)
   00C3 2A                  183 	ld	a,(hl+)
   00C4 66                  184 	ld	h,(hl)
   00C5 6F                  185 	ld	l,a
   00C6 E5                  186 	push	hl
   00C7 F8 0A               187 	lda	hl,10(sp)
   00C9 2A                  188 	ld	a,(hl+)
   00CA 66                  189 	ld	h,(hl)
   00CB 6F                  190 	ld	l,a
   00CC E5                  191 	push	hl
   00CD CDr00s00            192 	call	___fsadd
   00D0 E8 08               193 	lda	sp,8(sp)
   00D2 E5                  194 	push	hl
   00D3 F8 0C               195 	lda	hl,12(sp)
   00D5 73                  196 	ld	(hl),e
   00D6 23                  197 	inc	hl
   00D7 72                  198 	ld	(hl),d
   00D8 D1                  199 	pop	de
   00D9 23                  200 	inc	hl
   00DA 73                  201 	ld	(hl),e
   00DB 23                  202 	inc	hl
   00DC 72                  203 	ld	(hl),d
                            204 ;../sqrtf.c:42: y+=f/y;
   00DD F8 0C               205 	lda	hl,12(sp)
   00DF 2A                  206 	ld	a,(hl+)
   00E0 66                  207 	ld	h,(hl)
   00E1 6F                  208 	ld	l,a
   00E2 E5                  209 	push	hl
   00E3 F8 0C               210 	lda	hl,12(sp)
   00E5 2A                  211 	ld	a,(hl+)
   00E6 66                  212 	ld	h,(hl)
   00E7 6F                  213 	ld	l,a
   00E8 E5                  214 	push	hl
   00E9 F8 14               215 	lda	hl,20(sp)
   00EB 2A                  216 	ld	a,(hl+)
   00EC 66                  217 	ld	h,(hl)
   00ED 6F                  218 	ld	l,a
   00EE E5                  219 	push	hl
   00EF F8 14               220 	lda	hl,20(sp)
   00F1 2A                  221 	ld	a,(hl+)
   00F2 66                  222 	ld	h,(hl)
   00F3 6F                  223 	ld	l,a
   00F4 E5                  224 	push	hl
   00F5 CDr00s00            225 	call	___fsdiv
   00F8 E8 08               226 	lda	sp,8(sp)
   00FA E5                  227 	push	hl
   00FB F8 06               228 	lda	hl,6(sp)
   00FD 73                  229 	ld	(hl),e
   00FE 23                  230 	inc	hl
   00FF 72                  231 	ld	(hl),d
   0100 D1                  232 	pop	de
   0101 23                  233 	inc	hl
   0102 73                  234 	ld	(hl),e
   0103 23                  235 	inc	hl
   0104 72                  236 	ld	(hl),d
   0105 F8 06               237 	lda	hl,6(sp)
   0107 2A                  238 	ld	a,(hl+)
   0108 66                  239 	ld	h,(hl)
   0109 6F                  240 	ld	l,a
   010A E5                  241 	push	hl
   010B F8 06               242 	lda	hl,6(sp)
   010D 2A                  243 	ld	a,(hl+)
   010E 66                  244 	ld	h,(hl)
   010F 6F                  245 	ld	l,a
   0110 E5                  246 	push	hl
   0111 F8 10               247 	lda	hl,16(sp)
   0113 2A                  248 	ld	a,(hl+)
   0114 66                  249 	ld	h,(hl)
   0115 6F                  250 	ld	l,a
   0116 E5                  251 	push	hl
   0117 F8 10               252 	lda	hl,16(sp)
   0119 2A                  253 	ld	a,(hl+)
   011A 66                  254 	ld	h,(hl)
   011B 6F                  255 	ld	l,a
   011C E5                  256 	push	hl
   011D CDr00s00            257 	call	___fsadd
   0120 E8 08               258 	lda	sp,8(sp)
   0122 E5                  259 	push	hl
   0123 F8 06               260 	lda	hl,6(sp)
   0125 73                  261 	ld	(hl),e
   0126 23                  262 	inc	hl
   0127 72                  263 	ld	(hl),d
   0128 D1                  264 	pop	de
   0129 23                  265 	inc	hl
   012A 73                  266 	ld	(hl),e
   012B 23                  267 	inc	hl
   012C 72                  268 	ld	(hl),d
   012D F8 04               269 	lda	hl,4(sp)
   012F 54                  270 	ld	d,h
   0130 5D                  271 	ld	e,l
   0131 F8 0A               272 	lda	hl,10(sp)
   0133 1A                  273 	ld	a,(de)
   0134 22                  274 	ld	(hl+),a
   0135 13                  275 	inc	de
   0136 1A                  276 	ld	a,(de)
   0137 22                  277 	ld	(hl+),a
   0138 13                  278 	inc	de
   0139 1A                  279 	ld	a,(de)
   013A 22                  280 	ld	(hl+),a
   013B 13                  281 	inc	de
   013C 1A                  282 	ld	a,(de)
   013D 77                  283 	ld	(hl),a
                            284 ;../sqrtf.c:43: y=ldexpf(y, -2) + f/y; /*Faster version of 0.25 * y + f/y*/
   013E 21 FE FF            285 	ld	hl,#0xFFFFFFFE
   0141 E5                  286 	push	hl
   0142 F8 0E               287 	lda	hl,14(sp)
   0144 2A                  288 	ld	a,(hl+)
   0145 66                  289 	ld	h,(hl)
   0146 6F                  290 	ld	l,a
   0147 E5                  291 	push	hl
   0148 F8 0E               292 	lda	hl,14(sp)
   014A 2A                  293 	ld	a,(hl+)
   014B 66                  294 	ld	h,(hl)
   014C 6F                  295 	ld	l,a
   014D E5                  296 	push	hl
   014E CDr00s00            297 	call	_ldexpf
   0151 E8 06               298 	lda	sp,6(sp)
   0153 E5                  299 	push	hl
   0154 F8 06               300 	lda	hl,6(sp)
   0156 73                  301 	ld	(hl),e
   0157 23                  302 	inc	hl
   0158 72                  303 	ld	(hl),d
   0159 D1                  304 	pop	de
   015A 23                  305 	inc	hl
   015B 73                  306 	ld	(hl),e
   015C 23                  307 	inc	hl
   015D 72                  308 	ld	(hl),d
   015E F8 0C               309 	lda	hl,12(sp)
   0160 2A                  310 	ld	a,(hl+)
   0161 66                  311 	ld	h,(hl)
   0162 6F                  312 	ld	l,a
   0163 E5                  313 	push	hl
   0164 F8 0C               314 	lda	hl,12(sp)
   0166 2A                  315 	ld	a,(hl+)
   0167 66                  316 	ld	h,(hl)
   0168 6F                  317 	ld	l,a
   0169 E5                  318 	push	hl
   016A F8 14               319 	lda	hl,20(sp)
   016C 2A                  320 	ld	a,(hl+)
   016D 66                  321 	ld	h,(hl)
   016E 6F                  322 	ld	l,a
   016F E5                  323 	push	hl
   0170 F8 14               324 	lda	hl,20(sp)
   0172 2A                  325 	ld	a,(hl+)
   0173 66                  326 	ld	h,(hl)
   0174 6F                  327 	ld	l,a
   0175 E5                  328 	push	hl
   0176 CDr00s00            329 	call	___fsdiv
   0179 E8 08               330 	lda	sp,8(sp)
   017B E5                  331 	push	hl
   017C F8 02               332 	lda	hl,2(sp)
   017E 73                  333 	ld	(hl),e
   017F 23                  334 	inc	hl
   0180 72                  335 	ld	(hl),d
   0181 D1                  336 	pop	de
   0182 23                  337 	inc	hl
   0183 73                  338 	ld	(hl),e
   0184 23                  339 	inc	hl
   0185 72                  340 	ld	(hl),d
   0186 F8 02               341 	lda	hl,2(sp)
   0188 2A                  342 	ld	a,(hl+)
   0189 66                  343 	ld	h,(hl)
   018A 6F                  344 	ld	l,a
   018B E5                  345 	push	hl
   018C F8 02               346 	lda	hl,2(sp)
   018E 2A                  347 	ld	a,(hl+)
   018F 66                  348 	ld	h,(hl)
   0190 6F                  349 	ld	l,a
   0191 E5                  350 	push	hl
   0192 F8 0A               351 	lda	hl,10(sp)
   0194 2A                  352 	ld	a,(hl+)
   0195 66                  353 	ld	h,(hl)
   0196 6F                  354 	ld	l,a
   0197 E5                  355 	push	hl
   0198 F8 0A               356 	lda	hl,10(sp)
   019A 2A                  357 	ld	a,(hl+)
   019B 66                  358 	ld	h,(hl)
   019C 6F                  359 	ld	l,a
   019D E5                  360 	push	hl
   019E CDr00s00            361 	call	___fsadd
   01A1 E8 08               362 	lda	sp,8(sp)
   01A3 E5                  363 	push	hl
   01A4 F8 02               364 	lda	hl,2(sp)
   01A6 73                  365 	ld	(hl),e
   01A7 23                  366 	inc	hl
   01A8 72                  367 	ld	(hl),d
   01A9 D1                  368 	pop	de
   01AA 23                  369 	inc	hl
   01AB 73                  370 	ld	(hl),e
   01AC 23                  371 	inc	hl
   01AD 72                  372 	ld	(hl),d
   01AE F8 00               373 	lda	hl,0(sp)
   01B0 54                  374 	ld	d,h
   01B1 5D                  375 	ld	e,l
   01B2 F8 0A               376 	lda	hl,10(sp)
   01B4 1A                  377 	ld	a,(de)
   01B5 22                  378 	ld	(hl+),a
   01B6 13                  379 	inc	de
   01B7 1A                  380 	ld	a,(de)
   01B8 22                  381 	ld	(hl+),a
   01B9 13                  382 	inc	de
   01BA 1A                  383 	ld	a,(de)
   01BB 22                  384 	ld	(hl+),a
   01BC 13                  385 	inc	de
   01BD 1A                  386 	ld	a,(de)
   01BE 77                  387 	ld	(hl),a
                            388 ;../sqrtf.c:45: if (n&1)
   01BF F8 08               389 	lda	hl,8(sp)
   01C1 7E                  390 	ld	a,(hl)
   01C2 E6 01               391 	and	a,#0x01
   01C4 20 03               392 	jr	NZ,00117$
   01C6 C3r05s02            393 	jp	00110$
   01C9                     394 00117$:
                            395 ;../sqrtf.c:47: y*=0.7071067812;
   01C9 F8 0C               396 	lda	hl,12(sp)
   01CB 2A                  397 	ld	a,(hl+)
   01CC 66                  398 	ld	h,(hl)
   01CD 6F                  399 	ld	l,a
   01CE E5                  400 	push	hl
   01CF F8 0C               401 	lda	hl,12(sp)
   01D1 2A                  402 	ld	a,(hl+)
   01D2 66                  403 	ld	h,(hl)
   01D3 6F                  404 	ld	l,a
   01D4 E5                  405 	push	hl
   01D5 21 35 3F            406 	ld	hl,#0x3F35
   01D8 E5                  407 	push	hl
   01D9 21 F3 04            408 	ld	hl,#0x04F3
   01DC E5                  409 	push	hl
   01DD CDr00s00            410 	call	___fsmul
   01E0 E8 08               411 	lda	sp,8(sp)
   01E2 E5                  412 	push	hl
   01E3 F8 02               413 	lda	hl,2(sp)
   01E5 73                  414 	ld	(hl),e
   01E6 23                  415 	inc	hl
   01E7 72                  416 	ld	(hl),d
   01E8 D1                  417 	pop	de
   01E9 23                  418 	inc	hl
   01EA 73                  419 	ld	(hl),e
   01EB 23                  420 	inc	hl
   01EC 72                  421 	ld	(hl),d
   01ED F8 00               422 	lda	hl,0(sp)
   01EF 54                  423 	ld	d,h
   01F0 5D                  424 	ld	e,l
   01F1 F8 0A               425 	lda	hl,10(sp)
   01F3 1A                  426 	ld	a,(de)
   01F4 22                  427 	ld	(hl+),a
   01F5 13                  428 	inc	de
   01F6 1A                  429 	ld	a,(de)
   01F7 22                  430 	ld	(hl+),a
   01F8 13                  431 	inc	de
   01F9 1A                  432 	ld	a,(de)
   01FA 22                  433 	ld	(hl+),a
   01FB 13                  434 	inc	de
   01FC 1A                  435 	ld	a,(de)
   01FD 77                  436 	ld	(hl),a
                            437 ;../sqrtf.c:48: ++n;
   01FE F8 08               438 	lda	hl,8(sp)
   0200 34                  439 	inc	(hl)
   0201 20 02               440 	jr	NZ,00118$
   0203 23                  441 	inc	hl
   0204 34                  442 	inc	(hl)
   0205                     443 00118$:
   0205                     444 00110$:
                            445 ;../sqrtf.c:50: return ldexpf(y, n/2);
   0205 21 02 00            446 	ld	hl,#0x0002
   0208 E5                  447 	push	hl
   0209 F8 0A               448 	lda	hl,10(sp)
   020B 2A                  449 	ld	a,(hl+)
   020C 66                  450 	ld	h,(hl)
   020D 6F                  451 	ld	l,a
   020E E5                  452 	push	hl
   020F CDr00s00            453 	call	__divsint_rrx_s
   0212 E8 04               454 	lda	sp,4(sp)
   0214 42                  455 	ld	b,d
   0215 4B                  456 	ld	c,e
   0216 C5                  457 	push	bc
   0217 F8 0E               458 	lda	hl,14(sp)
   0219 2A                  459 	ld	a,(hl+)
   021A 66                  460 	ld	h,(hl)
   021B 6F                  461 	ld	l,a
   021C E5                  462 	push	hl
   021D F8 0E               463 	lda	hl,14(sp)
   021F 2A                  464 	ld	a,(hl+)
   0220 66                  465 	ld	h,(hl)
   0221 6F                  466 	ld	l,a
   0222 E5                  467 	push	hl
   0223 CDr00s00            468 	call	_ldexpf
   0226 E8 06               469 	lda	sp,6(sp)
   0228 E5                  470 	push	hl
   0229 F8 02               471 	lda	hl,2(sp)
   022B 73                  472 	ld	(hl),e
   022C 23                  473 	inc	hl
   022D 72                  474 	ld	(hl),d
   022E D1                  475 	pop	de
   022F 23                  476 	inc	hl
   0230 73                  477 	ld	(hl),e
   0231 23                  478 	inc	hl
   0232 72                  479 	ld	(hl),d
   0233 F8 01               480 	lda	hl,1(sp)
   0235 2B                  481 	dec	hl
   0236 5E                  482 	ld	e,(hl)
   0237 23                  483 	inc	hl
   0238 56                  484 	ld	d,(hl)
   0239 23                  485 	inc	hl
   023A 2A                  486 	ld	a,(hl+)
   023B 66                  487 	ld	h,(hl)
   023C 6F                  488 	ld	l,a
   023D                     489 00111$:
   023D E8 12               490 	lda	sp,18(sp)
   023F C9                  491 	ret
   0240                     492 _sqrtf_end::
                            493 	.area _CODE
                            494 	.area _CABS
