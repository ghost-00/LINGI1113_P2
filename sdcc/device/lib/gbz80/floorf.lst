                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:11 2013
                              5 ;--------------------------------------------------------
                              6 	.module floorf
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _floorf
                             13 ;--------------------------------------------------------
                             14 ;  ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; overlayable items in  ram 
                             19 ;--------------------------------------------------------
                             20 	.area _OVERLAY
                             21 ;--------------------------------------------------------
                             22 ; external initialized ram data
                             23 ;--------------------------------------------------------
                             24 ;--------------------------------------------------------
                             25 ; global & static initialisations
                             26 ;--------------------------------------------------------
                             27 	.area _HOME
                             28 	.area _GSINIT
                             29 	.area _GSFINAL
                             30 	.area _GSINIT
                             31 ;--------------------------------------------------------
                             32 ; Home
                             33 ;--------------------------------------------------------
                             34 	.area _HOME
                             35 	.area _HOME
                             36 ;--------------------------------------------------------
                             37 ; code
                             38 ;--------------------------------------------------------
                             39 	.area _CODE
                             40 ;../floorf.c:23: float floorf (float x) _FLOAT_FUNC_REENTRANT
                             41 ;	---------------------------------
                             42 ; Function floorf
                             43 ; ---------------------------------
   0000                      44 _floorf_start::
   0000                      45 _floorf:
   0000 E8 F8                46 	lda	sp,-8(sp)
                             47 ;../floorf.c:26: r=x;
   0002 F8 0C                48 	lda	hl,12(sp)
   0004 2A                   49 	ld	a,(hl+)
   0005 66                   50 	ld	h,(hl)
   0006 6F                   51 	ld	l,a
   0007 E5                   52 	push	hl
   0008 F8 0C                53 	lda	hl,12(sp)
   000A 2A                   54 	ld	a,(hl+)
   000B 66                   55 	ld	h,(hl)
   000C 6F                   56 	ld	l,a
   000D E5                   57 	push	hl
   000E CDr00s00             58 	call	___fs2slong
   0011 E8 04                59 	lda	sp,4(sp)
   0013 E5                   60 	push	hl
   0014 F8 06                61 	lda	hl,6(sp)
   0016 73                   62 	ld	(hl),e
   0017 23                   63 	inc	hl
   0018 72                   64 	ld	(hl),d
   0019 D1                   65 	pop	de
   001A 23                   66 	inc	hl
   001B 73                   67 	ld	(hl),e
   001C 23                   68 	inc	hl
   001D 72                   69 	ld	(hl),d
                             70 ;../floorf.c:27: if (r<=0)
   001E 3E 00                71 	ld	a,#0x00
   0020 F8 04                72 	lda	hl,4(sp)
   0022 96                   73 	sub	a,(hl)
   0023 3E 00                74 	ld	a,#0x00
   0025 23                   75 	inc	hl
   0026 9E                   76 	sbc	a,(hl)
   0027 3E 00                77 	ld	a,#0x00
   0029 23                   78 	inc	hl
   002A 9E                   79 	sbc	a,(hl)
   002B 3E 00                80 	ld	a,#0x00
   002D 23                   81 	inc	hl
   002E 9E                   82 	sbc	a,(hl)
   002F 07                   83 	rlca
   0030 DArCAs00             84 	jp	C,00102$
                             85 ;../floorf.c:28: return (r+((r>x)?-1:0));
   0033 2B                   86 	dec	hl
   0034 2A                   87 	ld	a,(hl+)
   0035 66                   88 	ld	h,(hl)
   0036 6F                   89 	ld	l,a
   0037 E5                   90 	push	hl
   0038 F8 06                91 	lda	hl,6(sp)
   003A 2A                   92 	ld	a,(hl+)
   003B 66                   93 	ld	h,(hl)
   003C 6F                   94 	ld	l,a
   003D E5                   95 	push	hl
   003E CDr00s00             96 	call	___slong2fs
   0041 E8 04                97 	lda	sp,4(sp)
   0043 E5                   98 	push	hl
   0044 F8 02                99 	lda	hl,2(sp)
   0046 73                  100 	ld	(hl),e
   0047 23                  101 	inc	hl
   0048 72                  102 	ld	(hl),d
   0049 D1                  103 	pop	de
   004A 23                  104 	inc	hl
   004B 73                  105 	ld	(hl),e
   004C 23                  106 	inc	hl
   004D 72                  107 	ld	(hl),d
   004E F8 0C               108 	lda	hl,12(sp)
   0050 2A                  109 	ld	a,(hl+)
   0051 66                  110 	ld	h,(hl)
   0052 6F                  111 	ld	l,a
   0053 E5                  112 	push	hl
   0054 F8 0C               113 	lda	hl,12(sp)
   0056 2A                  114 	ld	a,(hl+)
   0057 66                  115 	ld	h,(hl)
   0058 6F                  116 	ld	l,a
   0059 E5                  117 	push	hl
   005A F8 06               118 	lda	hl,6(sp)
   005C 2A                  119 	ld	a,(hl+)
   005D 66                  120 	ld	h,(hl)
   005E 6F                  121 	ld	l,a
   005F E5                  122 	push	hl
   0060 F8 06               123 	lda	hl,6(sp)
   0062 2A                  124 	ld	a,(hl+)
   0063 66                  125 	ld	h,(hl)
   0064 6F                  126 	ld	l,a
   0065 E5                  127 	push	hl
   0066 CDr00s00            128 	call	___fsgt
   0069 E8 08               129 	lda	sp,8(sp)
   006B 4B                  130 	ld	c,e
   006C AF                  131 	xor	a,a
   006D B1                  132 	or	a,c
   006E CAr76s00            133 	jp	Z,00106$
   0071 0E FF               134 	ld	c,#0xFF
   0073 C3r78s00            135 	jp	00107$
   0076                     136 00106$:
   0076 0E 00               137 	ld	c,#0x00
   0078                     138 00107$:
   0078 F8 00               139 	lda	hl,0(sp)
   007A 71                  140 	ld	(hl),c
   007B 79                  141 	ld	a,c
   007C 17                  142 	rla	
   007D 9F                  143 	sbc	a,a
   007E 23                  144 	inc	hl
   007F 22                  145 	ld	(hl+),a
   0080 22                  146 	ld	(hl+),a
   0081 22                  147 	ld	(hl+),a
   0082 23                  148 	inc	hl
   0083 2B                  149 	dec	hl
   0084 5E                  150 	ld	e,(hl)
   0085 23                  151 	inc	hl
   0086 56                  152 	ld	d,(hl)
   0087 7B                  153 	ld	a,e
   0088 F8 00               154 	lda	hl,0(sp)
   008A 86                  155 	add	a,(hl)
   008B 5F                  156 	ld	e,a
   008C 7A                  157 	ld	a,d
   008D 23                  158 	inc	hl
   008E 8E                  159 	adc	a,(hl)
   008F F5                  160 	push	af
   0090 32                  161 	ld	(hl-),a
   0091 73                  162 	ld	(hl),e
   0092 F8 09               163 	lda	hl,9(sp)
   0094 2B                  164 	dec	hl
   0095 5E                  165 	ld	e,(hl)
   0096 23                  166 	inc	hl
   0097 56                  167 	ld	d,(hl)
   0098 F8 04               168 	lda	hl,4(sp)
   009A F1                  169 	pop	af
   009B 7B                  170 	ld	a,e
   009C 8E                  171 	adc	a,(hl)
   009D 5F                  172 	ld	e,a
   009E 7A                  173 	ld	a,d
   009F 23                  174 	inc	hl
   00A0 8E                  175 	adc	a,(hl)
   00A1 32                  176 	ld	(hl-),a
   00A2 73                  177 	ld	(hl),e
   00A3 2A                  178 	ld	a,(hl+)
   00A4 66                  179 	ld	h,(hl)
   00A5 6F                  180 	ld	l,a
   00A6 E5                  181 	push	hl
   00A7 F8 02               182 	lda	hl,2(sp)
   00A9 2A                  183 	ld	a,(hl+)
   00AA 66                  184 	ld	h,(hl)
   00AB 6F                  185 	ld	l,a
   00AC E5                  186 	push	hl
   00AD CDr00s00            187 	call	___slong2fs
   00B0 E8 04               188 	lda	sp,4(sp)
   00B2 E5                  189 	push	hl
   00B3 F8 02               190 	lda	hl,2(sp)
   00B5 73                  191 	ld	(hl),e
   00B6 23                  192 	inc	hl
   00B7 72                  193 	ld	(hl),d
   00B8 D1                  194 	pop	de
   00B9 23                  195 	inc	hl
   00BA 73                  196 	ld	(hl),e
   00BB 23                  197 	inc	hl
   00BC 72                  198 	ld	(hl),d
   00BD F8 01               199 	lda	hl,1(sp)
   00BF 2B                  200 	dec	hl
   00C0 5E                  201 	ld	e,(hl)
   00C1 23                  202 	inc	hl
   00C2 56                  203 	ld	d,(hl)
   00C3 23                  204 	inc	hl
   00C4 2A                  205 	ld	a,(hl+)
   00C5 66                  206 	ld	h,(hl)
   00C6 6F                  207 	ld	l,a
   00C7 C3rF0s00            208 	jp	00104$
   00CA                     209 00102$:
                            210 ;../floorf.c:30: return r;
   00CA F8 06               211 	lda	hl,6(sp)
   00CC 2A                  212 	ld	a,(hl+)
   00CD 66                  213 	ld	h,(hl)
   00CE 6F                  214 	ld	l,a
   00CF E5                  215 	push	hl
   00D0 F8 06               216 	lda	hl,6(sp)
   00D2 2A                  217 	ld	a,(hl+)
   00D3 66                  218 	ld	h,(hl)
   00D4 6F                  219 	ld	l,a
   00D5 E5                  220 	push	hl
   00D6 CDr00s00            221 	call	___slong2fs
   00D9 E8 04               222 	lda	sp,4(sp)
   00DB E5                  223 	push	hl
   00DC F8 02               224 	lda	hl,2(sp)
   00DE 73                  225 	ld	(hl),e
   00DF 23                  226 	inc	hl
   00E0 72                  227 	ld	(hl),d
   00E1 D1                  228 	pop	de
   00E2 23                  229 	inc	hl
   00E3 73                  230 	ld	(hl),e
   00E4 23                  231 	inc	hl
   00E5 72                  232 	ld	(hl),d
   00E6 F8 01               233 	lda	hl,1(sp)
   00E8 2B                  234 	dec	hl
   00E9 5E                  235 	ld	e,(hl)
   00EA 23                  236 	inc	hl
   00EB 56                  237 	ld	d,(hl)
   00EC 23                  238 	inc	hl
   00ED 2A                  239 	ld	a,(hl+)
   00EE 66                  240 	ld	h,(hl)
   00EF 6F                  241 	ld	l,a
   00F0                     242 00104$:
   00F0 E8 08               243 	lda	sp,8(sp)
   00F2 C9                  244 	ret
   00F3                     245 _floorf_end::
                            246 	.area _CODE
                            247 	.area _CABS
