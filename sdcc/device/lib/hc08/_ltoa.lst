                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:25:39 2013
                              5 ;--------------------------------------------------------
                              6 	.module _ltoa
                              7 	.optsdcc -mhc08
                              8 	
                              9 	.area HOME (CODE)
                             10 	.area GSINIT0 (CODE)
                             11 	.area GSINIT (CODE)
                             12 	.area GSFINAL (CODE)
                             13 	.area CSEG (CODE)
                             14 	.area XINIT
                             15 	.area CONST   (CODE)
                             16 	.area DSEG
                             17 	.area OSEG    (OVR)
                             18 	.area BSEG
                             19 	.area XSEG
                             20 	.area XISEG
                             21 ;--------------------------------------------------------
                             22 ; Public variables in this module
                             23 ;--------------------------------------------------------
                             24 	.globl __ltoa
                             25 	.globl __ultoa
                             26 	.globl __ltoa_PARM_3
                             27 	.globl __ltoa_PARM_2
                             28 	.globl __ltoa_PARM_1
                             29 	.globl __ultoa_PARM_3
                             30 	.globl __ultoa_PARM_2
                             31 	.globl __ultoa_PARM_1
                             32 ;--------------------------------------------------------
                             33 ;  ram data
                             34 ;--------------------------------------------------------
                             35 	.area DSEG
   0000                      36 __ultoa_sloc0_1_0:
   0000                      37 	.ds 1
   0001                      38 __ultoa_sloc1_1_0:
   0001                      39 	.ds 4
   0005                      40 __ultoa_sloc2_1_0:
   0005                      41 	.ds 2
   0007                      42 __ltoa_sloc0_1_0:
   0007                      43 	.ds 2
                             44 ;--------------------------------------------------------
                             45 ; overlayable items in  ram 
                             46 ;--------------------------------------------------------
                             47 	.area OSEG    (OVR)
                             48 ;--------------------------------------------------------
                             49 ; absolute external ram data
                             50 ;--------------------------------------------------------
                             51 	.area XABS    (ABS)
                             52 ;--------------------------------------------------------
                             53 ; external initialized ram data
                             54 ;--------------------------------------------------------
                             55 	.area XISEG
                             56 ;--------------------------------------------------------
                             57 ; extended address mode data
                             58 ;--------------------------------------------------------
                             59 	.area XSEG
   0000                      60 __ultoa_PARM_1:
   0000                      61 	.ds 4
   0004                      62 __ultoa_PARM_2:
   0004                      63 	.ds 2
   0006                      64 __ultoa_PARM_3:
   0006                      65 	.ds 1
   0007                      66 __ultoa_buffer_1_1:
   0007                      67 	.ds 32
   0027                      68 __ultoa_c_2_2:
   0027                      69 	.ds 1
   0028                      70 __ltoa_PARM_1:
   0028                      71 	.ds 4
   002C                      72 __ltoa_PARM_2:
   002C                      73 	.ds 2
   002E                      74 __ltoa_PARM_3:
   002E                      75 	.ds 1
                             76 ;--------------------------------------------------------
                             77 ; global & static initialisations
                             78 ;--------------------------------------------------------
                             79 	.area HOME (CODE)
                             80 	.area GSINIT (CODE)
                             81 	.area GSFINAL (CODE)
                             82 	.area GSINIT (CODE)
                             83 ;--------------------------------------------------------
                             84 ; Home
                             85 ;--------------------------------------------------------
                             86 	.area HOME (CODE)
                             87 	.area HOME (CODE)
                             88 ;--------------------------------------------------------
                             89 ; code
                             90 ;--------------------------------------------------------
                             91 	.area CSEG (CODE)
                             92 ;------------------------------------------------------------
                             93 ;Allocation info for local variables in function '_ultoa'
                             94 ;------------------------------------------------------------
                             95 ;sloc0                     Allocated with name '__ultoa_sloc0_1_0'
                             96 ;sloc1                     Allocated with name '__ultoa_sloc1_1_0'
                             97 ;sloc2                     Allocated with name '__ultoa_sloc2_1_0'
                             98 ;value                     Allocated with name '__ultoa_PARM_1'
                             99 ;string                    Allocated with name '__ultoa_PARM_2'
                            100 ;radix                     Allocated with name '__ultoa_PARM_3'
                            101 ;buffer                    Allocated with name '__ultoa_buffer_1_1'
                            102 ;index                     Allocated to registers 
                            103 ;c                         Allocated with name '__ultoa_c_2_2'
                            104 ;------------------------------------------------------------
                            105 ;../_ltoa.c:32: void _ultoa(unsigned long value, char* string, unsigned char radix)
                            106 ;	-----------------------------------------
                            107 ;	 function _ultoa
                            108 ;	-----------------------------------------
   0000                     109 __ultoa:
                            110 ;../_ltoa.c:37: do {
   0000 6E 20*00            111 	mov	#0x20,*__ultoa_sloc0_1_0
   0003                     112 00103$:
                            113 ;../_ltoa.c:38: unsigned char c = '0' + (value % radix);
   0003 C6s00r06            114 	lda	__ultoa_PARM_3
   0006 C7s00r03            115 	sta	(__modulong_PARM_2 + 3)
   0009 4F                  116 	clra
   000A C7s00r02            117 	sta	(__modulong_PARM_2 + 2)
   000D C7s00r01            118 	sta	(__modulong_PARM_2 + 1)
   0010 C7s00r00            119 	sta	__modulong_PARM_2
   0013 C6s00r00            120 	lda	__ultoa_PARM_1
   0016 C7s00r00            121 	sta	__modulong_PARM_1
   0019 C6s00r01            122 	lda	(__ultoa_PARM_1 + 1)
   001C C7s00r01            123 	sta	(__modulong_PARM_1 + 1)
   001F C6s00r02            124 	lda	(__ultoa_PARM_1 + 2)
   0022 C7s00r02            125 	sta	(__modulong_PARM_1 + 2)
   0025 C6s00r03            126 	lda	(__ultoa_PARM_1 + 3)
   0028 C7s00r03            127 	sta	(__modulong_PARM_1 + 3)
   002B CDs00r00            128 	jsr	__modulong
   002E B7*04               129 	sta	*(__ultoa_sloc1_1_0 + 3)
   0030 BF*03               130 	stx	*(__ultoa_sloc1_1_0 + 2)
   0032 4E*00*02            131 	mov	*__ret2,*(__ultoa_sloc1_1_0 + 1)
   0035 4E*00*01            132 	mov	*__ret3,*__ultoa_sloc1_1_0
   0038 B6*04               133 	lda	*(__ultoa_sloc1_1_0 + 3)
   003A AB 30               134 	add	#0x30
                            135 ;../_ltoa.c:39: if (c > (unsigned char)'9')
   003C C7s00r27            136 	sta	__ultoa_c_2_2
   003F A1 39               137 	cmp	#0x39
   0041 23 08               138 	bls	00102$
   0043                     139 00117$:
                            140 ;../_ltoa.c:40: c += 'A' - '9' - 1;
   0043 C6s00r27            141 	lda	__ultoa_c_2_2
   0046 AB 07               142 	add	#0x07
   0048 C7s00r27            143 	sta	__ultoa_c_2_2
   004B                     144 00102$:
                            145 ;../_ltoa.c:41: buffer[--index] = c;
   004B 3A*00               146 	dec	*__ultoa_sloc0_1_0
   004D BE*00               147 	ldx	*__ultoa_sloc0_1_0
   004F 8C                  148 	clrh
   0050 C6s00r27            149 	lda	__ultoa_c_2_2
   0053 D7s00r07            150 	sta	__ultoa_buffer_1_1,x
                            151 ;../_ltoa.c:42: value /= radix;
   0056 C6s00r06            152 	lda	__ultoa_PARM_3
   0059 C7s00r03            153 	sta	(__divulong_PARM_2 + 3)
   005C 4F                  154 	clra
   005D C7s00r02            155 	sta	(__divulong_PARM_2 + 2)
   0060 C7s00r01            156 	sta	(__divulong_PARM_2 + 1)
   0063 C7s00r00            157 	sta	__divulong_PARM_2
   0066 C6s00r00            158 	lda	__ultoa_PARM_1
   0069 C7s00r00            159 	sta	__divulong_PARM_1
   006C C6s00r01            160 	lda	(__ultoa_PARM_1 + 1)
   006F C7s00r01            161 	sta	(__divulong_PARM_1 + 1)
   0072 C6s00r02            162 	lda	(__ultoa_PARM_1 + 2)
   0075 C7s00r02            163 	sta	(__divulong_PARM_1 + 2)
   0078 C6s00r03            164 	lda	(__ultoa_PARM_1 + 3)
   007B C7s00r03            165 	sta	(__divulong_PARM_1 + 3)
   007E CDs00r00            166 	jsr	__divulong
   0081 C7s00r03            167 	sta	(__ultoa_PARM_1 + 3)
   0084 CFs00r02            168 	stx	(__ultoa_PARM_1 + 2)
   0087 B6*00               169 	lda	*__ret2
   0089 C7s00r01            170 	sta	(__ultoa_PARM_1 + 1)
   008C B6*00               171 	lda	*__ret3
   008E C7s00r00            172 	sta	__ultoa_PARM_1
                            173 ;../_ltoa.c:43: } while (value);
   0091 C6s00r03            174 	lda	(__ultoa_PARM_1 + 3)
   0094 CAs00r02            175 	ora	(__ultoa_PARM_1 + 2)
   0097 CAs00r01            176 	ora	(__ultoa_PARM_1 + 1)
   009A CAs00r00            177 	ora	__ultoa_PARM_1
   009D 27 03               178 	beq	00118$
   009F CCs00r03            179 	jmp	00103$
   00A2                     180 00118$:
                            181 ;../_ltoa.c:45: do {
   00A2 C6s00r04            182 	lda	__ultoa_PARM_2
   00A5 B7*01               183 	sta	*__ultoa_sloc1_1_0
   00A7 C6s00r05            184 	lda	(__ultoa_PARM_2 + 1)
   00AA B7*02               185 	sta	*(__ultoa_sloc1_1_0 + 1)
   00AC                     186 00106$:
                            187 ;../_ltoa.c:46: *string++ = buffer[index];
   00AC BE*00               188 	ldx	*__ultoa_sloc0_1_0
   00AE 8C                  189 	clrh
   00AF D6s00r07            190 	lda	__ultoa_buffer_1_1,x
   00B2 55*01               191 	ldhx	*__ultoa_sloc1_1_0
   00B4 F7                  192 	sta	,x
   00B5 AF 01               193 	aix	#1
   00B7 35*01               194 	sthx	*__ultoa_sloc1_1_0
                            195 ;../_ltoa.c:47: } while ( ++index != NUMBER_OF_DIGITS );
   00B9 3C*00               196 	inc	*__ultoa_sloc0_1_0
   00BB B6*00               197 	lda	*__ultoa_sloc0_1_0
   00BD A1 20               198 	cmp	#0x20
   00BF 26 EB               199 	bne	00106$
   00C1                     200 00119$:
                            201 ;../_ltoa.c:49: *string = 0;  /* string terminator */
   00C1 55*01               202 	ldhx	*__ultoa_sloc1_1_0
   00C3 4F                  203 	clra
   00C4 F7                  204 	sta	,x
   00C5                     205 00109$:
   00C5 81                  206 	rts
                            207 ;------------------------------------------------------------
                            208 ;Allocation info for local variables in function '_ltoa'
                            209 ;------------------------------------------------------------
                            210 ;sloc0                     Allocated with name '__ltoa_sloc0_1_0'
                            211 ;value                     Allocated with name '__ltoa_PARM_1'
                            212 ;string                    Allocated with name '__ltoa_PARM_2'
                            213 ;radix                     Allocated with name '__ltoa_PARM_3'
                            214 ;------------------------------------------------------------
                            215 ;../_ltoa.c:52: void _ltoa(long value, char* string, unsigned char radix)
                            216 ;	-----------------------------------------
                            217 ;	 function _ltoa
                            218 ;	-----------------------------------------
   00C6                     219 __ltoa:
                            220 ;../_ltoa.c:54: if (value < 0 && radix == 10) {
   00C6 C6s00r28            221 	lda	__ltoa_PARM_1
   00C9 A0 00               222 	sub	#0x00
   00CB 90 40               223 	bge	00102$
   00CD                     224 00108$:
   00CD C6s00r2E            225 	lda	__ltoa_PARM_3
   00D0 A1 0A               226 	cmp	#0x0A
   00D2 26 39               227 	bne	00102$
   00D4                     228 00109$:
                            229 ;../_ltoa.c:55: *string++ = '-';
   00D4 C6s00r2C            230 	lda	__ltoa_PARM_2
   00D7 B7*07               231 	sta	*__ltoa_sloc0_1_0
   00D9 C6s00r2D            232 	lda	(__ltoa_PARM_2 + 1)
   00DC B7*08               233 	sta	*(__ltoa_sloc0_1_0 + 1)
   00DE 55*07               234 	ldhx	*__ltoa_sloc0_1_0
   00E0 A6 2D               235 	lda	#0x2D
   00E2 F7                  236 	sta	,x
   00E3 B6*08               237 	lda	*(__ltoa_sloc0_1_0 + 1)
   00E5 AB 01               238 	add	#0x01
   00E7 C7s00r2D            239 	sta	(__ltoa_PARM_2 + 1)
   00EA B6*07               240 	lda	*__ltoa_sloc0_1_0
   00EC A9 00               241 	adc	#0x00
   00EE C7s00r2C            242 	sta	__ltoa_PARM_2
                            243 ;../_ltoa.c:56: value = -value;
   00F1 4F                  244 	clra
   00F2 C0s00r2B            245 	sub	(__ltoa_PARM_1 + 3)
   00F5 C7s00r2B            246 	sta	(__ltoa_PARM_1 + 3)
   00F8 4F                  247 	clra
   00F9 C2s00r2A            248 	sbc	(__ltoa_PARM_1 + 2)
   00FC C7s00r2A            249 	sta	(__ltoa_PARM_1 + 2)
   00FF 4F                  250 	clra
   0100 C2s00r29            251 	sbc	(__ltoa_PARM_1 + 1)
   0103 C7s00r29            252 	sta	(__ltoa_PARM_1 + 1)
   0106 4F                  253 	clra
   0107 C2s00r28            254 	sbc	__ltoa_PARM_1
   010A C7s00r28            255 	sta	__ltoa_PARM_1
   010D                     256 00102$:
                            257 ;../_ltoa.c:58: _ultoa(value, string, radix);
   010D C6s00r28            258 	lda	__ltoa_PARM_1
   0110 C7s00r00            259 	sta	__ultoa_PARM_1
   0113 C6s00r29            260 	lda	(__ltoa_PARM_1 + 1)
   0116 C7s00r01            261 	sta	(__ultoa_PARM_1 + 1)
   0119 C6s00r2A            262 	lda	(__ltoa_PARM_1 + 2)
   011C C7s00r02            263 	sta	(__ultoa_PARM_1 + 2)
   011F C6s00r2B            264 	lda	(__ltoa_PARM_1 + 3)
   0122 C7s00r03            265 	sta	(__ultoa_PARM_1 + 3)
   0125 C6s00r2C            266 	lda	__ltoa_PARM_2
   0128 C7s00r04            267 	sta	__ultoa_PARM_2
   012B C6s00r2D            268 	lda	(__ltoa_PARM_2 + 1)
   012E C7s00r05            269 	sta	(__ultoa_PARM_2 + 1)
   0131 C6s00r2E            270 	lda	__ltoa_PARM_3
   0134 C7s00r06            271 	sta	__ultoa_PARM_3
   0137 CDs00r00            272 	jsr	__ultoa
   013A                     273 00104$:
   013A 81                  274 	rts
                            275 	.area CSEG (CODE)
                            276 	.area CONST   (CODE)
                            277 	.area XINIT
                            278 	.area CABS    (ABS,CODE)
