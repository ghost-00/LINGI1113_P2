                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:25:56 2013
                              5 ;--------------------------------------------------------
                              6 	.module _ltoa
                              7 	.optsdcc -mmcs51 --model-large
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl __ltoa
                             13 	.globl __ultoa
                             14 	.globl __ltoa_PARM_3
                             15 	.globl __ltoa_PARM_2
                             16 	.globl __ultoa_PARM_3
                             17 	.globl __ultoa_PARM_2
                             18 ;--------------------------------------------------------
                             19 ; special function registers
                             20 ;--------------------------------------------------------
                             21 	.area RSEG    (ABS,DATA)
   0000                      22 	.org 0x0000
                             23 ;--------------------------------------------------------
                             24 ; special function bits
                             25 ;--------------------------------------------------------
                             26 	.area RSEG    (ABS,DATA)
   0000                      27 	.org 0x0000
                             28 ;--------------------------------------------------------
                             29 ; overlayable register banks
                             30 ;--------------------------------------------------------
                             31 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      32 	.ds 8
                             33 ;--------------------------------------------------------
                             34 ; internal ram data
                             35 ;--------------------------------------------------------
                             36 	.area DSEG    (DATA)
   0000                      37 __ultoa_sloc0_1_0:
   0000                      38 	.ds 4
                             39 ;--------------------------------------------------------
                             40 ; overlayable items in internal ram 
                             41 ;--------------------------------------------------------
                             42 	.area OSEG    (OVR,DATA)
                             43 ;--------------------------------------------------------
                             44 ; indirectly addressable internal ram data
                             45 ;--------------------------------------------------------
                             46 	.area ISEG    (DATA)
                             47 ;--------------------------------------------------------
                             48 ; absolute internal ram data
                             49 ;--------------------------------------------------------
                             50 	.area IABS    (ABS,DATA)
                             51 	.area IABS    (ABS,DATA)
                             52 ;--------------------------------------------------------
                             53 ; bit data
                             54 ;--------------------------------------------------------
                             55 	.area BSEG    (BIT)
                             56 ;--------------------------------------------------------
                             57 ; paged external ram data
                             58 ;--------------------------------------------------------
                             59 	.area PSEG    (PAG,XDATA)
                             60 ;--------------------------------------------------------
                             61 ; external ram data
                             62 ;--------------------------------------------------------
                             63 	.area XSEG    (XDATA)
   0000                      64 __ultoa_PARM_2:
   0000                      65 	.ds 3
   0003                      66 __ultoa_PARM_3:
   0003                      67 	.ds 1
   0004                      68 __ultoa_value_1_1:
   0004                      69 	.ds 4
   0008                      70 __ultoa_buffer_1_1:
   0008                      71 	.ds 32
   0028                      72 __ultoa_c_2_2:
   0028                      73 	.ds 1
   0029                      74 __ltoa_PARM_2:
   0029                      75 	.ds 3
   002C                      76 __ltoa_PARM_3:
   002C                      77 	.ds 1
   002D                      78 __ltoa_value_1_1:
   002D                      79 	.ds 4
                             80 ;--------------------------------------------------------
                             81 ; absolute external ram data
                             82 ;--------------------------------------------------------
                             83 	.area XABS    (ABS,XDATA)
                             84 ;--------------------------------------------------------
                             85 ; external initialized ram data
                             86 ;--------------------------------------------------------
                             87 	.area XISEG   (XDATA)
                             88 	.area HOME    (CODE)
                             89 	.area GSINIT0 (CODE)
                             90 	.area GSINIT1 (CODE)
                             91 	.area GSINIT2 (CODE)
                             92 	.area GSINIT3 (CODE)
                             93 	.area GSINIT4 (CODE)
                             94 	.area GSINIT5 (CODE)
                             95 	.area GSINIT  (CODE)
                             96 	.area GSFINAL (CODE)
                             97 	.area CSEG    (CODE)
                             98 ;--------------------------------------------------------
                             99 ; global & static initialisations
                            100 ;--------------------------------------------------------
                            101 	.area HOME    (CODE)
                            102 	.area GSINIT  (CODE)
                            103 	.area GSFINAL (CODE)
                            104 	.area GSINIT  (CODE)
                            105 ;--------------------------------------------------------
                            106 ; Home
                            107 ;--------------------------------------------------------
                            108 	.area HOME    (CODE)
                            109 	.area HOME    (CODE)
                            110 ;--------------------------------------------------------
                            111 ; code
                            112 ;--------------------------------------------------------
                            113 	.area CSEG    (CODE)
                            114 ;------------------------------------------------------------
                            115 ;Allocation info for local variables in function '_ultoa'
                            116 ;------------------------------------------------------------
                            117 ;sloc0                     Allocated with name '__ultoa_sloc0_1_0'
                            118 ;string                    Allocated with name '__ultoa_PARM_2'
                            119 ;radix                     Allocated with name '__ultoa_PARM_3'
                            120 ;value                     Allocated with name '__ultoa_value_1_1'
                            121 ;buffer                    Allocated with name '__ultoa_buffer_1_1'
                            122 ;index                     Allocated with name '__ultoa_index_1_1'
                            123 ;c                         Allocated with name '__ultoa_c_2_2'
                            124 ;------------------------------------------------------------
                            125 ;	_ltoa.c:32: void _ultoa(unsigned long value, char* string, unsigned char radix)
                            126 ;	-----------------------------------------
                            127 ;	 function _ultoa
                            128 ;	-----------------------------------------
   0000                     129 __ultoa:
                    0002    130 	ar2 = 0x02
                    0003    131 	ar3 = 0x03
                    0004    132 	ar4 = 0x04
                    0005    133 	ar5 = 0x05
                    0006    134 	ar6 = 0x06
                    0007    135 	ar7 = 0x07
                    0000    136 	ar0 = 0x00
                    0001    137 	ar1 = 0x01
   0000 AA 82               138 	mov	r2,dpl
   0002 AB 83               139 	mov	r3,dph
   0004 AC F0               140 	mov	r4,b
   0006 FD                  141 	mov	r5,a
   0007 90s00r04            142 	mov	dptr,#__ultoa_value_1_1
   000A EA                  143 	mov	a,r2
   000B F0                  144 	movx	@dptr,a
   000C A3                  145 	inc	dptr
   000D EB                  146 	mov	a,r3
   000E F0                  147 	movx	@dptr,a
   000F A3                  148 	inc	dptr
   0010 EC                  149 	mov	a,r4
   0011 F0                  150 	movx	@dptr,a
   0012 A3                  151 	inc	dptr
   0013 ED                  152 	mov	a,r5
   0014 F0                  153 	movx	@dptr,a
                            154 ;	_ltoa.c:37: do {
   0015 90s00r03            155 	mov	dptr,#__ultoa_PARM_3
   0018 E0                  156 	movx	a,@dptr
   0019 FA                  157 	mov	r2,a
   001A 7B 20               158 	mov	r3,#0x20
   001C                     159 00103$:
                            160 ;	_ltoa.c:38: unsigned char c = '0' + (value % radix);
   001C 90s00r04            161 	mov	dptr,#__ultoa_value_1_1
   001F E0                  162 	movx	a,@dptr
   0020 FC                  163 	mov	r4,a
   0021 A3                  164 	inc	dptr
   0022 E0                  165 	movx	a,@dptr
   0023 FD                  166 	mov	r5,a
   0024 A3                  167 	inc	dptr
   0025 E0                  168 	movx	a,@dptr
   0026 FE                  169 	mov	r6,a
   0027 A3                  170 	inc	dptr
   0028 E0                  171 	movx	a,@dptr
   0029 FF                  172 	mov	r7,a
   002A 8A*00               173 	mov	__ultoa_sloc0_1_0,r2
   002C 75*01 00            174 	mov	(__ultoa_sloc0_1_0 + 1),#0x00
   002F 75*02 00            175 	mov	(__ultoa_sloc0_1_0 + 2),#0x00
   0032 75*03 00            176 	mov	(__ultoa_sloc0_1_0 + 3),#0x00
   0035 90s00r00            177 	mov	dptr,#__modulong_PARM_2
   0038 E5*00               178 	mov	a,__ultoa_sloc0_1_0
   003A F0                  179 	movx	@dptr,a
   003B A3                  180 	inc	dptr
   003C E5*01               181 	mov	a,(__ultoa_sloc0_1_0 + 1)
   003E F0                  182 	movx	@dptr,a
   003F A3                  183 	inc	dptr
   0040 E5*02               184 	mov	a,(__ultoa_sloc0_1_0 + 2)
   0042 F0                  185 	movx	@dptr,a
   0043 A3                  186 	inc	dptr
   0044 E5*03               187 	mov	a,(__ultoa_sloc0_1_0 + 3)
   0046 F0                  188 	movx	@dptr,a
   0047 8C 82               189 	mov	dpl,r4
   0049 8D 83               190 	mov	dph,r5
   004B 8E F0               191 	mov	b,r6
   004D EF                  192 	mov	a,r7
   004E C0 02               193 	push	ar2
   0050 C0 03               194 	push	ar3
   0052 12s00r00            195 	lcall	__modulong
   0055 AC 82               196 	mov	r4,dpl
   0057 AE F0               197 	mov	r6,b
   0059 FF                  198 	mov	r7,a
   005A D0 03               199 	pop	ar3
   005C D0 02               200 	pop	ar2
   005E 74 30               201 	mov	a,#0x30
   0060 2C                  202 	add	a,r4
   0061 FD                  203 	mov	r5,a
   0062 90s00r28            204 	mov	dptr,#__ultoa_c_2_2
   0065 F0                  205 	movx	@dptr,a
                            206 ;	_ltoa.c:39: if (c > (unsigned char)'9')
   0066 ED                  207 	mov	a,r5
   0067 24 C6               208 	add	a,#0xff - 0x39
   0069 50 07               209 	jnc	00102$
                            210 ;	_ltoa.c:40: c += 'A' - '9' - 1;
   006B 90s00r28            211 	mov	dptr,#__ultoa_c_2_2
   006E 74 37               212 	mov	a,#0x37
   0070 2C                  213 	add	a,r4
   0071 F0                  214 	movx	@dptr,a
   0072                     215 00102$:
                            216 ;	_ltoa.c:41: buffer[--index] = c;
   0072 1B                  217 	dec	r3
   0073 EB                  218 	mov	a,r3
   0074 24r08               219 	add	a,#__ultoa_buffer_1_1
   0076 FC                  220 	mov	r4,a
   0077 E4                  221 	clr	a
   0078 34s00               222 	addc	a,#(__ultoa_buffer_1_1 >> 8)
   007A FD                  223 	mov	r5,a
   007B 90s00r28            224 	mov	dptr,#__ultoa_c_2_2
   007E E0                  225 	movx	a,@dptr
   007F 8C 82               226 	mov	dpl,r4
   0081 8D 83               227 	mov	dph,r5
   0083 F0                  228 	movx	@dptr,a
                            229 ;	_ltoa.c:42: value /= radix;
   0084 90s00r04            230 	mov	dptr,#__ultoa_value_1_1
   0087 E0                  231 	movx	a,@dptr
   0088 FC                  232 	mov	r4,a
   0089 A3                  233 	inc	dptr
   008A E0                  234 	movx	a,@dptr
   008B FD                  235 	mov	r5,a
   008C A3                  236 	inc	dptr
   008D E0                  237 	movx	a,@dptr
   008E FE                  238 	mov	r6,a
   008F A3                  239 	inc	dptr
   0090 E0                  240 	movx	a,@dptr
   0091 FF                  241 	mov	r7,a
   0092 90s00r00            242 	mov	dptr,#__divulong_PARM_2
   0095 E5*00               243 	mov	a,__ultoa_sloc0_1_0
   0097 F0                  244 	movx	@dptr,a
   0098 A3                  245 	inc	dptr
   0099 E5*01               246 	mov	a,(__ultoa_sloc0_1_0 + 1)
   009B F0                  247 	movx	@dptr,a
   009C A3                  248 	inc	dptr
   009D E5*02               249 	mov	a,(__ultoa_sloc0_1_0 + 2)
   009F F0                  250 	movx	@dptr,a
   00A0 A3                  251 	inc	dptr
   00A1 E5*03               252 	mov	a,(__ultoa_sloc0_1_0 + 3)
   00A3 F0                  253 	movx	@dptr,a
   00A4 8C 82               254 	mov	dpl,r4
   00A6 8D 83               255 	mov	dph,r5
   00A8 8E F0               256 	mov	b,r6
   00AA EF                  257 	mov	a,r7
   00AB C0 02               258 	push	ar2
   00AD C0 03               259 	push	ar3
   00AF 12s00r00            260 	lcall	__divulong
   00B2 AC 82               261 	mov	r4,dpl
   00B4 AD 83               262 	mov	r5,dph
   00B6 AE F0               263 	mov	r6,b
   00B8 FF                  264 	mov	r7,a
   00B9 D0 03               265 	pop	ar3
   00BB D0 02               266 	pop	ar2
   00BD 90s00r04            267 	mov	dptr,#__ultoa_value_1_1
   00C0 EC                  268 	mov	a,r4
   00C1 F0                  269 	movx	@dptr,a
   00C2 A3                  270 	inc	dptr
   00C3 ED                  271 	mov	a,r5
   00C4 F0                  272 	movx	@dptr,a
   00C5 A3                  273 	inc	dptr
   00C6 EE                  274 	mov	a,r6
   00C7 F0                  275 	movx	@dptr,a
   00C8 A3                  276 	inc	dptr
   00C9 EF                  277 	mov	a,r7
   00CA F0                  278 	movx	@dptr,a
                            279 ;	_ltoa.c:43: } while (value);
   00CB 90s00r04            280 	mov	dptr,#__ultoa_value_1_1
   00CE E0                  281 	movx	a,@dptr
   00CF FC                  282 	mov	r4,a
   00D0 A3                  283 	inc	dptr
   00D1 E0                  284 	movx	a,@dptr
   00D2 FD                  285 	mov	r5,a
   00D3 A3                  286 	inc	dptr
   00D4 E0                  287 	movx	a,@dptr
   00D5 FE                  288 	mov	r6,a
   00D6 A3                  289 	inc	dptr
   00D7 E0                  290 	movx	a,@dptr
   00D8 FF                  291 	mov	r7,a
   00D9 EC                  292 	mov	a,r4
   00DA 4D                  293 	orl	a,r5
   00DB 4E                  294 	orl	a,r6
   00DC 4F                  295 	orl	a,r7
   00DD 60 03               296 	jz	00118$
   00DF 02s00r1C            297 	ljmp	00103$
   00E2                     298 00118$:
                            299 ;	_ltoa.c:45: do {
   00E2 90s00r00            300 	mov	dptr,#__ultoa_PARM_2
   00E5 E0                  301 	movx	a,@dptr
   00E6 FA                  302 	mov	r2,a
   00E7 A3                  303 	inc	dptr
   00E8 E0                  304 	movx	a,@dptr
   00E9 FC                  305 	mov	r4,a
   00EA A3                  306 	inc	dptr
   00EB E0                  307 	movx	a,@dptr
   00EC FD                  308 	mov	r5,a
   00ED                     309 00106$:
                            310 ;	_ltoa.c:46: *string++ = buffer[index];
   00ED EB                  311 	mov	a,r3
   00EE 24r08               312 	add	a,#__ultoa_buffer_1_1
   00F0 F5 82               313 	mov	dpl,a
   00F2 E4                  314 	clr	a
   00F3 34s00               315 	addc	a,#(__ultoa_buffer_1_1 >> 8)
   00F5 F5 83               316 	mov	dph,a
   00F7 E0                  317 	movx	a,@dptr
   00F8 FE                  318 	mov	r6,a
   00F9 8A 82               319 	mov	dpl,r2
   00FB 8C 83               320 	mov	dph,r4
   00FD 8D F0               321 	mov	b,r5
   00FF 12s00r00            322 	lcall	__gptrput
   0102 A3                  323 	inc	dptr
   0103 AA 82               324 	mov	r2,dpl
   0105 AC 83               325 	mov	r4,dph
                            326 ;	_ltoa.c:47: } while ( ++index != NUMBER_OF_DIGITS );
   0107 0B                  327 	inc	r3
   0108 BB 20 E2            328 	cjne	r3,#0x20,00106$
                            329 ;	_ltoa.c:49: *string = 0;  /* string terminator */
   010B 8A 82               330 	mov	dpl,r2
   010D 8C 83               331 	mov	dph,r4
   010F 8D F0               332 	mov	b,r5
   0111 E4                  333 	clr	a
   0112 02s00r00            334 	ljmp	__gptrput
                            335 ;------------------------------------------------------------
                            336 ;Allocation info for local variables in function '_ltoa'
                            337 ;------------------------------------------------------------
                            338 ;string                    Allocated with name '__ltoa_PARM_2'
                            339 ;radix                     Allocated with name '__ltoa_PARM_3'
                            340 ;value                     Allocated with name '__ltoa_value_1_1'
                            341 ;------------------------------------------------------------
                            342 ;	_ltoa.c:52: void _ltoa(long value, char* string, unsigned char radix)
                            343 ;	-----------------------------------------
                            344 ;	 function _ltoa
                            345 ;	-----------------------------------------
   0115                     346 __ltoa:
   0115 AA 82               347 	mov	r2,dpl
   0117 AB 83               348 	mov	r3,dph
   0119 AC F0               349 	mov	r4,b
   011B FD                  350 	mov	r5,a
   011C 90s00r2D            351 	mov	dptr,#__ltoa_value_1_1
   011F EA                  352 	mov	a,r2
   0120 F0                  353 	movx	@dptr,a
   0121 A3                  354 	inc	dptr
   0122 EB                  355 	mov	a,r3
   0123 F0                  356 	movx	@dptr,a
   0124 A3                  357 	inc	dptr
   0125 EC                  358 	mov	a,r4
   0126 F0                  359 	movx	@dptr,a
   0127 A3                  360 	inc	dptr
   0128 ED                  361 	mov	a,r5
   0129 F0                  362 	movx	@dptr,a
                            363 ;	_ltoa.c:54: if (value < 0 && radix == 10) {
   012A 90s00r2D            364 	mov	dptr,#__ltoa_value_1_1
   012D E0                  365 	movx	a,@dptr
   012E FA                  366 	mov	r2,a
   012F A3                  367 	inc	dptr
   0130 E0                  368 	movx	a,@dptr
   0131 FB                  369 	mov	r3,a
   0132 A3                  370 	inc	dptr
   0133 E0                  371 	movx	a,@dptr
   0134 FC                  372 	mov	r4,a
   0135 A3                  373 	inc	dptr
   0136 E0                  374 	movx	a,@dptr
   0137 FD                  375 	mov	r5,a
   0138 30 E7 3F            376 	jnb	acc.7,00102$
   013B 90s00r2C            377 	mov	dptr,#__ltoa_PARM_3
   013E E0                  378 	movx	a,@dptr
   013F FE                  379 	mov	r6,a
   0140 BE 0A 37            380 	cjne	r6,#0x0A,00102$
                            381 ;	_ltoa.c:55: *string++ = '-';
   0143 90s00r29            382 	mov	dptr,#__ltoa_PARM_2
   0146 E0                  383 	movx	a,@dptr
   0147 FE                  384 	mov	r6,a
   0148 A3                  385 	inc	dptr
   0149 E0                  386 	movx	a,@dptr
   014A FF                  387 	mov	r7,a
   014B A3                  388 	inc	dptr
   014C E0                  389 	movx	a,@dptr
   014D F8                  390 	mov	r0,a
   014E 8E 82               391 	mov	dpl,r6
   0150 8F 83               392 	mov	dph,r7
   0152 88 F0               393 	mov	b,r0
   0154 74 2D               394 	mov	a,#0x2D
   0156 12s00r00            395 	lcall	__gptrput
   0159 90s00r29            396 	mov	dptr,#__ltoa_PARM_2
   015C 74 01               397 	mov	a,#0x01
   015E 2E                  398 	add	a,r6
   015F F0                  399 	movx	@dptr,a
   0160 E4                  400 	clr	a
   0161 3F                  401 	addc	a,r7
   0162 A3                  402 	inc	dptr
   0163 F0                  403 	movx	@dptr,a
   0164 A3                  404 	inc	dptr
   0165 E8                  405 	mov	a,r0
   0166 F0                  406 	movx	@dptr,a
                            407 ;	_ltoa.c:56: value = -value;
   0167 90s00r2D            408 	mov	dptr,#__ltoa_value_1_1
   016A C3                  409 	clr	c
   016B E4                  410 	clr	a
   016C 9A                  411 	subb	a,r2
   016D F0                  412 	movx	@dptr,a
   016E E4                  413 	clr	a
   016F 9B                  414 	subb	a,r3
   0170 A3                  415 	inc	dptr
   0171 F0                  416 	movx	@dptr,a
   0172 E4                  417 	clr	a
   0173 9C                  418 	subb	a,r4
   0174 A3                  419 	inc	dptr
   0175 F0                  420 	movx	@dptr,a
   0176 E4                  421 	clr	a
   0177 9D                  422 	subb	a,r5
   0178 A3                  423 	inc	dptr
   0179 F0                  424 	movx	@dptr,a
   017A                     425 00102$:
                            426 ;	_ltoa.c:58: _ultoa(value, string, radix);
   017A 90s00r2D            427 	mov	dptr,#__ltoa_value_1_1
   017D E0                  428 	movx	a,@dptr
   017E FA                  429 	mov	r2,a
   017F A3                  430 	inc	dptr
   0180 E0                  431 	movx	a,@dptr
   0181 FB                  432 	mov	r3,a
   0182 A3                  433 	inc	dptr
   0183 E0                  434 	movx	a,@dptr
   0184 FC                  435 	mov	r4,a
   0185 A3                  436 	inc	dptr
   0186 E0                  437 	movx	a,@dptr
   0187 FD                  438 	mov	r5,a
   0188 90s00r29            439 	mov	dptr,#__ltoa_PARM_2
   018B E0                  440 	movx	a,@dptr
   018C FE                  441 	mov	r6,a
   018D A3                  442 	inc	dptr
   018E E0                  443 	movx	a,@dptr
   018F FF                  444 	mov	r7,a
   0190 A3                  445 	inc	dptr
   0191 E0                  446 	movx	a,@dptr
   0192 F8                  447 	mov	r0,a
   0193 90s00r2C            448 	mov	dptr,#__ltoa_PARM_3
   0196 E0                  449 	movx	a,@dptr
   0197 F9                  450 	mov	r1,a
   0198 90s00r00            451 	mov	dptr,#__ultoa_PARM_2
   019B EE                  452 	mov	a,r6
   019C F0                  453 	movx	@dptr,a
   019D A3                  454 	inc	dptr
   019E EF                  455 	mov	a,r7
   019F F0                  456 	movx	@dptr,a
   01A0 A3                  457 	inc	dptr
   01A1 E8                  458 	mov	a,r0
   01A2 F0                  459 	movx	@dptr,a
   01A3 90s00r03            460 	mov	dptr,#__ultoa_PARM_3
   01A6 E9                  461 	mov	a,r1
   01A7 F0                  462 	movx	@dptr,a
   01A8 8A 82               463 	mov	dpl,r2
   01AA 8B 83               464 	mov	dph,r3
   01AC 8C F0               465 	mov	b,r4
   01AE ED                  466 	mov	a,r5
   01AF 02s00r00            467 	ljmp	__ultoa
                            468 	.area CSEG    (CODE)
                            469 	.area CONST   (CODE)
                            470 	.area XINIT   (CODE)
                            471 	.area CABS    (ABS,CODE)
