                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:06 2013
                              5 ;--------------------------------------------------------
                              6 	.module _fsadd
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl ___fsadd
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../_fsadd.c:161: float __fsadd (float a1, float a2)
                             44 ;	---------------------------------
                             45 ; Function __fsadd
                             46 ; ---------------------------------
   0000                      47 ___fsadd_start::
   0000                      48 ___fsadd:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 21 EB FF             52 	ld	hl,#-21
   000B 39                   53 	add	hl,sp
   000C F9                   54 	ld	sp,hl
                             55 ;../_fsadd.c:169: pfl2 = (long _AUTOMEM *)&a2;
   000D 21 1D 00             56 	ld	hl,#0x001D
   0010 39                   57 	add	hl,sp
                             58 ;../_fsadd.c:170: exp2 = EXP (*pfl2);
   0011 7E                   59 	ld	a,(hl)
   0012 DD 77 ED             60 	ld	-19 (ix),a
   0015 23                   61 	inc	hl
   0016 7E                   62 	ld	a,(hl)
   0017 DD 77 EE             63 	ld	-18 (ix),a
   001A 23                   64 	inc	hl
   001B 7E                   65 	ld	a,(hl)
   001C DD 77 EF             66 	ld	-17 (ix),a
   001F 23                   67 	inc	hl
   0020 7E                   68 	ld	a,(hl)
   0021 DD 77 F0             69 	ld	-16 (ix),a
   0024 DD 4E ED             70 	ld	c,-19 (ix)
   0027 DD 46 EE             71 	ld	b,-18 (ix)
   002A DD 5E EF             72 	ld	e,-17 (ix)
   002D DD 56 F0             73 	ld	d,-16 (ix)
   0030 3E 17                74 	ld	a,#0x17
   0032 F5                   75 	push	af
   0033 33                   76 	inc	sp
   0034 D5                   77 	push	de
   0035 C5                   78 	push	bc
   0036 CDr00s00             79 	call	__rrulong_rrx_s
   0039 F1                   80 	pop	af
   003A F1                   81 	pop	af
   003B 33                   82 	inc	sp
   003C 4D                   83 	ld	c,l
   003D 06 00                84 	ld	b,#0x00
   003F DD 71 F2             85 	ld	-14 (ix),c
   0042 DD 70 F3             86 	ld	-13 (ix),b
                             87 ;../_fsadd.c:171: mant2 = MANT (*pfl2) << 4;
   0045 DD 5E ED             88 	ld	e,-19 (ix)
   0048 DD 56 EE             89 	ld	d,-18 (ix)
   004B DD 7E EF             90 	ld	a,-17 (ix)
   004E E6 7F                91 	and	a,#0x7F
   0050 06 00                92 	ld	b,#0x00
   0052 F6 80                93 	or	a,#0x80
   0054 4F                   94 	ld	c,a
   0055 3E 04                95 	ld	a,#0x04
   0057 F5                   96 	push	af
   0058 33                   97 	inc	sp
   0059 C5                   98 	push	bc
   005A D5                   99 	push	de
   005B CDr00s00            100 	call	__rlulong_rrx_s
   005E F1                  101 	pop	af
   005F F1                  102 	pop	af
   0060 33                  103 	inc	sp
   0061 44                  104 	ld	b,h
   0062 DD 75 F8            105 	ld	-8 (ix),l
   0065 DD 70 F9            106 	ld	-7 (ix),b
   0068 DD 73 FA            107 	ld	-6 (ix),e
   006B DD 72 FB            108 	ld	-5 (ix),d
                            109 ;../_fsadd.c:172: if (SIGN (*pfl2))
   006E DD 4E ED            110 	ld	c,-19 (ix)
   0071 DD 46 EE            111 	ld	b,-18 (ix)
   0074 DD 5E EF            112 	ld	e,-17 (ix)
   0077 DD 56 F0            113 	ld	d,-16 (ix)
   007A 7A                  114 	ld	a,d
   007B CB 07               115 	rlc	a
   007D E6 01               116 	and	a,#0x01
   007F 28 1F               117 	jr	Z,00102$
                            118 ;../_fsadd.c:173: mant2 = -mant2;
   0081 AF                  119 	xor	a,a
   0082 DD 9E F8            120 	sbc	a,-8 (ix)
   0085 DD 77 F8            121 	ld	-8 (ix),a
   0088 3E 00               122 	ld	a,#0x00
   008A DD 9E F9            123 	sbc	a,-7 (ix)
   008D DD 77 F9            124 	ld	-7 (ix),a
   0090 3E 00               125 	ld	a,#0x00
   0092 DD 9E FA            126 	sbc	a,-6 (ix)
   0095 DD 77 FA            127 	ld	-6 (ix),a
   0098 3E 00               128 	ld	a,#0x00
   009A DD 9E FB            129 	sbc	a,-5 (ix)
   009D DD 77 FB            130 	ld	-5 (ix),a
   00A0                     131 00102$:
                            132 ;../_fsadd.c:175: if (!*pfl2)
   00A0 DD 7E ED            133 	ld	a,-19 (ix)
   00A3 DD B6 EE            134 	or	a,-18 (ix)
   00A6 DD B6 EF            135 	or	a,-17 (ix)
   00A9 DD B6 F0            136 	or	a,-16 (ix)
   00AC 20 0F               137 	jr	NZ,00104$
                            138 ;../_fsadd.c:176: return (a1);
   00AE DD 6E 04            139 	ld	l,4 (ix)
   00B1 DD 66 05            140 	ld	h,5 (ix)
   00B4 DD 5E 06            141 	ld	e,6 (ix)
   00B7 DD 56 07            142 	ld	d,7 (ix)
   00BA C3r4Ds04            143 	jp	00137$
   00BD                     144 00104$:
                            145 ;../_fsadd.c:178: pfl1 = (long _AUTOMEM *)&a1;
   00BD 21 19 00            146 	ld	hl,#0x0019
   00C0 39                  147 	add	hl,sp
                            148 ;../_fsadd.c:179: exp1 = EXP (*pfl1);
   00C1 DD 75 F6            149 	ld	-10 (ix),l
   00C4 DD 74 F7            150 	ld	-9 (ix),h
   00C7 7E                  151 	ld	a,(hl)
   00C8 DD 77 ED            152 	ld	-19 (ix),a
   00CB 23                  153 	inc	hl
   00CC 7E                  154 	ld	a,(hl)
   00CD DD 77 EE            155 	ld	-18 (ix),a
   00D0 23                  156 	inc	hl
   00D1 7E                  157 	ld	a,(hl)
   00D2 DD 77 EF            158 	ld	-17 (ix),a
   00D5 23                  159 	inc	hl
   00D6 7E                  160 	ld	a,(hl)
   00D7 DD 77 F0            161 	ld	-16 (ix),a
   00DA DD 4E ED            162 	ld	c,-19 (ix)
   00DD DD 46 EE            163 	ld	b,-18 (ix)
   00E0 DD 5E EF            164 	ld	e,-17 (ix)
   00E3 DD 56 F0            165 	ld	d,-16 (ix)
   00E6 3E 17               166 	ld	a,#0x17
   00E8 F5                  167 	push	af
   00E9 33                  168 	inc	sp
   00EA D5                  169 	push	de
   00EB C5                  170 	push	bc
   00EC CDr00s00            171 	call	__rrulong_rrx_s
   00EF F1                  172 	pop	af
   00F0 F1                  173 	pop	af
   00F1 33                  174 	inc	sp
   00F2 4D                  175 	ld	c,l
   00F3 06 00               176 	ld	b,#0x00
   00F5 DD 71 EB            177 	ld	-21 (ix),c
   00F8 DD 70 EC            178 	ld	-20 (ix),b
                            179 ;../_fsadd.c:180: mant1 = MANT (*pfl1) << 4;
   00FB DD 5E ED            180 	ld	e,-19 (ix)
   00FE DD 56 EE            181 	ld	d,-18 (ix)
   0101 DD 7E EF            182 	ld	a,-17 (ix)
   0104 E6 7F               183 	and	a,#0x7F
   0106 06 00               184 	ld	b,#0x00
   0108 F6 80               185 	or	a,#0x80
   010A 4F                  186 	ld	c,a
   010B 3E 04               187 	ld	a,#0x04
   010D F5                  188 	push	af
   010E 33                  189 	inc	sp
   010F C5                  190 	push	bc
   0110 D5                  191 	push	de
   0111 CDr00s00            192 	call	__rlulong_rrx_s
   0114 F1                  193 	pop	af
   0115 F1                  194 	pop	af
   0116 33                  195 	inc	sp
   0117 44                  196 	ld	b,h
   0118 DD 75 FC            197 	ld	-4 (ix),l
   011B DD 70 FD            198 	ld	-3 (ix),b
   011E DD 73 FE            199 	ld	-2 (ix),e
   0121 DD 72 FF            200 	ld	-1 (ix),d
                            201 ;../_fsadd.c:181: if (SIGN(*pfl1))
   0124 DD 4E ED            202 	ld	c,-19 (ix)
   0127 DD 46 EE            203 	ld	b,-18 (ix)
   012A DD 5E EF            204 	ld	e,-17 (ix)
   012D DD 56 F0            205 	ld	d,-16 (ix)
   0130 7A                  206 	ld	a,d
   0131 CB 07               207 	rlc	a
   0133 E6 01               208 	and	a,#0x01
   0135 28 26               209 	jr	Z,00108$
                            210 ;../_fsadd.c:182: if (*pfl1 & 0x80000000)
   0137 DD 7E F0            211 	ld	a,-16 (ix)
   013A E6 80               212 	and	a,#0x80
   013C 28 1F               213 	jr	Z,00108$
                            214 ;../_fsadd.c:183: mant1 = -mant1;
   013E AF                  215 	xor	a,a
   013F DD 9E FC            216 	sbc	a,-4 (ix)
   0142 DD 77 FC            217 	ld	-4 (ix),a
   0145 3E 00               218 	ld	a,#0x00
   0147 DD 9E FD            219 	sbc	a,-3 (ix)
   014A DD 77 FD            220 	ld	-3 (ix),a
   014D 3E 00               221 	ld	a,#0x00
   014F DD 9E FE            222 	sbc	a,-2 (ix)
   0152 DD 77 FE            223 	ld	-2 (ix),a
   0155 3E 00               224 	ld	a,#0x00
   0157 DD 9E FF            225 	sbc	a,-1 (ix)
   015A DD 77 FF            226 	ld	-1 (ix),a
   015D                     227 00108$:
                            228 ;../_fsadd.c:185: if (!*pfl1)
   015D DD 7E ED            229 	ld	a,-19 (ix)
   0160 DD B6 EE            230 	or	a,-18 (ix)
   0163 DD B6 EF            231 	or	a,-17 (ix)
   0166 DD B6 F0            232 	or	a,-16 (ix)
   0169 20 0F               233 	jr	NZ,00110$
                            234 ;../_fsadd.c:186: return (a2);
   016B DD 6E 08            235 	ld	l,8 (ix)
   016E DD 66 09            236 	ld	h,9 (ix)
   0171 DD 5E 0A            237 	ld	e,10 (ix)
   0174 DD 56 0B            238 	ld	d,11 (ix)
   0177 C3r4Ds04            239 	jp	00137$
   017A                     240 00110$:
                            241 ;../_fsadd.c:188: expd = exp1 - exp2;
   017A DD 7E EB            242 	ld	a,-21 (ix)
   017D DD 96 F2            243 	sub	a,-14 (ix)
   0180 6F                  244 	ld	l,a
   0181 DD 7E EC            245 	ld	a,-20 (ix)
   0184 DD 9E F3            246 	sbc	a,-13 (ix)
   0187 67                  247 	ld	h,a
   0188 4D                  248 	ld	c,l
   0189 47                  249 	ld	b,a
                            250 ;../_fsadd.c:189: if (expd > 25)
   018A 3E 19               251 	ld	a,#0x19
   018C 91                  252 	sub	a,c
   018D 3E 00               253 	ld	a,#0x00
   018F 98                  254 	sbc	a,b
   0190 F2rA2s01            255 	jp	P,00112$
                            256 ;../_fsadd.c:190: return (a1);
   0193 DD 6E 04            257 	ld	l,4 (ix)
   0196 DD 66 05            258 	ld	h,5 (ix)
   0199 DD 5E 06            259 	ld	e,6 (ix)
   019C DD 56 07            260 	ld	d,7 (ix)
   019F C3r4Ds04            261 	jp	00137$
   01A2                     262 00112$:
                            263 ;../_fsadd.c:191: if (expd < -25)
   01A2 79                  264 	ld	a,c
   01A3 D6 E7               265 	sub	a,#0xE7
   01A5 78                  266 	ld	a,b
   01A6 DE FF               267 	sbc	a,#0xFF
   01A8 F2rBAs01            268 	jp	P,00114$
                            269 ;../_fsadd.c:192: return (a2);
   01AB DD 6E 08            270 	ld	l,8 (ix)
   01AE DD 66 09            271 	ld	h,9 (ix)
   01B1 DD 5E 0A            272 	ld	e,10 (ix)
   01B4 DD 56 0B            273 	ld	d,11 (ix)
   01B7 C3r4Ds04            274 	jp	00137$
   01BA                     275 00114$:
                            276 ;../_fsadd.c:194: if (expd < 0)
   01BA 78                  277 	ld	a,b
   01BB CB 7F               278 	bit	7,a
   01BD 28 3A               279 	jr	Z,00116$
                            280 ;../_fsadd.c:196: expd = -expd;
   01BF AF                  281 	xor	a,a
   01C0 99                  282 	sbc	a,c
   01C1 4F                  283 	ld	c,a
   01C2 3E 00               284 	ld	a,#0x00
   01C4 98                  285 	sbc	a,b
   01C5 47                  286 	ld	b,a
                            287 ;../_fsadd.c:197: exp1 += expd;
   01C6 DD 7E EB            288 	ld	a,-21 (ix)
   01C9 81                  289 	add	a,c
   01CA DD 77 EB            290 	ld	-21 (ix),a
   01CD DD 7E EC            291 	ld	a,-20 (ix)
   01D0 88                  292 	adc	a,b
   01D1 DD 77 EC            293 	ld	-20 (ix),a
                            294 ;../_fsadd.c:198: mant1 >>= expd;
   01D4 C5                  295 	push	bc
   01D5 DD 6E FE            296 	ld	l,-2 (ix)
   01D8 DD 66 FF            297 	ld	h,-1 (ix)
   01DB E5                  298 	push	hl
   01DC DD 6E FC            299 	ld	l,-4 (ix)
   01DF DD 66 FD            300 	ld	h,-3 (ix)
   01E2 E5                  301 	push	hl
   01E3 CDr00s00            302 	call	__rrslong_rrx_s
   01E6 F1                  303 	pop	af
   01E7 F1                  304 	pop	af
   01E8 F1                  305 	pop	af
   01E9 44                  306 	ld	b,h
   01EA 4D                  307 	ld	c,l
   01EB DD 71 FC            308 	ld	-4 (ix),c
   01EE DD 70 FD            309 	ld	-3 (ix),b
   01F1 DD 73 FE            310 	ld	-2 (ix),e
   01F4 DD 72 FF            311 	ld	-1 (ix),d
   01F7 18 23               312 	jr	00117$
   01F9                     313 00116$:
                            314 ;../_fsadd.c:202: mant2 >>= expd;
   01F9 C5                  315 	push	bc
   01FA DD 6E FA            316 	ld	l,-6 (ix)
   01FD DD 66 FB            317 	ld	h,-5 (ix)
   0200 E5                  318 	push	hl
   0201 DD 6E F8            319 	ld	l,-8 (ix)
   0204 DD 66 F9            320 	ld	h,-7 (ix)
   0207 E5                  321 	push	hl
   0208 CDr00s00            322 	call	__rrslong_rrx_s
   020B F1                  323 	pop	af
   020C F1                  324 	pop	af
   020D F1                  325 	pop	af
   020E 44                  326 	ld	b,h
   020F 4D                  327 	ld	c,l
   0210 DD 71 F8            328 	ld	-8 (ix),c
   0213 DD 70 F9            329 	ld	-7 (ix),b
   0216 DD 73 FA            330 	ld	-6 (ix),e
   0219 DD 72 FB            331 	ld	-5 (ix),d
   021C                     332 00117$:
                            333 ;../_fsadd.c:204: mant1 += mant2;
   021C DD 7E FC            334 	ld	a,-4 (ix)
   021F DD 86 F8            335 	add	a,-8 (ix)
   0222 DD 77 FC            336 	ld	-4 (ix),a
   0225 DD 7E FD            337 	ld	a,-3 (ix)
   0228 DD 8E F9            338 	adc	a,-7 (ix)
   022B DD 77 FD            339 	ld	-3 (ix),a
   022E DD 7E FE            340 	ld	a,-2 (ix)
   0231 DD 8E FA            341 	adc	a,-6 (ix)
   0234 DD 77 FE            342 	ld	-2 (ix),a
   0237 DD 7E FF            343 	ld	a,-1 (ix)
   023A DD 8E FB            344 	adc	a,-5 (ix)
   023D DD 77 FF            345 	ld	-1 (ix),a
                            346 ;../_fsadd.c:206: sign = false;
   0240 DD 36 F1 00         347 	ld	-15 (ix),#0x00
                            348 ;../_fsadd.c:208: if (mant1 < 0)
   0244 DD CB FF 7E         349 	bit	7,-1 (ix)
   0248 28 25               350 	jr	Z,00121$
                            351 ;../_fsadd.c:210: mant1 = -mant1;
   024A AF                  352 	xor	a,a
   024B DD 9E FC            353 	sbc	a,-4 (ix)
   024E DD 77 FC            354 	ld	-4 (ix),a
   0251 3E 00               355 	ld	a,#0x00
   0253 DD 9E FD            356 	sbc	a,-3 (ix)
   0256 DD 77 FD            357 	ld	-3 (ix),a
   0259 3E 00               358 	ld	a,#0x00
   025B DD 9E FE            359 	sbc	a,-2 (ix)
   025E DD 77 FE            360 	ld	-2 (ix),a
   0261 3E 00               361 	ld	a,#0x00
   0263 DD 9E FF            362 	sbc	a,-1 (ix)
   0266 DD 77 FF            363 	ld	-1 (ix),a
                            364 ;../_fsadd.c:211: sign = true;
   0269 DD 36 F1 01         365 	ld	-15 (ix),#0x01
   026D 18 16               366 	jr	00154$
   026F                     367 00121$:
                            368 ;../_fsadd.c:213: else if (!mant1)
   026F DD 7E FC            369 	ld	a,-4 (ix)
   0272 DD B6 FD            370 	or	a,-3 (ix)
   0275 DD B6 FE            371 	or	a,-2 (ix)
   0278 DD B6 FF            372 	or	a,-1 (ix)
   027B 20 08               373 	jr	NZ,00154$
                            374 ;../_fsadd.c:214: return (0);
   027D 21 00 00            375 	ld	hl,#0x0000
   0280 5D                  376 	ld	e,l
   0281 54                  377 	ld	d,h
   0282 C3r4Ds04            378 	jp	00137$
                            379 ;../_fsadd.c:217: while (mant1 < (HIDDEN<<4)) {
   0285                     380 00154$:
   0285 DD 7E EB            381 	ld	a,-21 (ix)
   0288 DD 77 ED            382 	ld	-19 (ix),a
   028B DD 7E EC            383 	ld	a,-20 (ix)
   028E DD 77 EE            384 	ld	-18 (ix),a
   0291                     385 00123$:
   0291 DD 46 FC            386 	ld	b,-4 (ix)
   0294 DD 4E FD            387 	ld	c,-3 (ix)
   0297 DD 5E FE            388 	ld	e,-2 (ix)
   029A DD 56 FF            389 	ld	d,-1 (ix)
   029D 78                  390 	ld	a,b
   029E D6 00               391 	sub	a,#0x00
   02A0 79                  392 	ld	a,c
   02A1 DE 00               393 	sbc	a,#0x00
   02A3 7B                  394 	ld	a,e
   02A4 DE 00               395 	sbc	a,#0x00
   02A6 7A                  396 	ld	a,d
   02A7 DE 08               397 	sbc	a,#0x08
   02A9 30 34               398 	jr	NC,00157$
                            399 ;../_fsadd.c:218: mant1 <<= 1;
   02AB 3E 01               400 	ld	a,#0x01
   02AD F5                  401 	push	af
   02AE 33                  402 	inc	sp
   02AF DD 6E FE            403 	ld	l,-2 (ix)
   02B2 DD 66 FF            404 	ld	h,-1 (ix)
   02B5 E5                  405 	push	hl
   02B6 DD 6E FC            406 	ld	l,-4 (ix)
   02B9 DD 66 FD            407 	ld	h,-3 (ix)
   02BC E5                  408 	push	hl
   02BD CDr00s00            409 	call	__rlslong_rrx_s
   02C0 F1                  410 	pop	af
   02C1 F1                  411 	pop	af
   02C2 33                  412 	inc	sp
   02C3 44                  413 	ld	b,h
   02C4 DD 75 FC            414 	ld	-4 (ix),l
   02C7 DD 70 FD            415 	ld	-3 (ix),b
   02CA DD 73 FE            416 	ld	-2 (ix),e
   02CD DD 72 FF            417 	ld	-1 (ix),d
                            418 ;../_fsadd.c:219: exp1--;
   02D0 DD 6E ED            419 	ld	l,-19 (ix)
   02D3 DD 66 EE            420 	ld	h,-18 (ix)
   02D6 2B                  421 	dec	hl
   02D7 DD 75 ED            422 	ld	-19 (ix),l
   02DA DD 74 EE            423 	ld	-18 (ix),h
   02DD 18 B2               424 	jr	00123$
                            425 ;../_fsadd.c:223: while (mant1 & 0xf0000000) {
   02DF                     426 00157$:
   02DF DD 7E ED            427 	ld	a,-19 (ix)
   02E2 DD 77 F4            428 	ld	-12 (ix),a
   02E5 DD 7E EE            429 	ld	a,-18 (ix)
   02E8 DD 77 F5            430 	ld	-11 (ix),a
   02EB                     431 00128$:
   02EB DD 7E FF            432 	ld	a,-1 (ix)
   02EE E6 F0               433 	and	a,#0xF0
   02F0 28 5A               434 	jr	Z,00163$
                            435 ;../_fsadd.c:224: if (mant1&1)
   02F2 DD 7E FC            436 	ld	a,-4 (ix)
   02F5 E6 01               437 	and	a,#0x01
   02F7 28 20               438 	jr	Z,00127$
                            439 ;../_fsadd.c:225: mant1 += 2;
   02F9 DD 7E FC            440 	ld	a,-4 (ix)
   02FC C6 02               441 	add	a,#0x02
   02FE DD 77 FC            442 	ld	-4 (ix),a
   0301 DD 7E FD            443 	ld	a,-3 (ix)
   0304 CE 00               444 	adc	a,#0x00
   0306 DD 77 FD            445 	ld	-3 (ix),a
   0309 DD 7E FE            446 	ld	a,-2 (ix)
   030C CE 00               447 	adc	a,#0x00
   030E DD 77 FE            448 	ld	-2 (ix),a
   0311 DD 7E FF            449 	ld	a,-1 (ix)
   0314 CE 00               450 	adc	a,#0x00
   0316 DD 77 FF            451 	ld	-1 (ix),a
   0319                     452 00127$:
                            453 ;../_fsadd.c:226: mant1 >>= 1;
   0319 3E 01               454 	ld	a,#0x01
   031B F5                  455 	push	af
   031C 33                  456 	inc	sp
   031D DD 6E FE            457 	ld	l,-2 (ix)
   0320 DD 66 FF            458 	ld	h,-1 (ix)
   0323 E5                  459 	push	hl
   0324 DD 6E FC            460 	ld	l,-4 (ix)
   0327 DD 66 FD            461 	ld	h,-3 (ix)
   032A E5                  462 	push	hl
   032B CDr00s00            463 	call	__rrslong_rrx_s
   032E F1                  464 	pop	af
   032F F1                  465 	pop	af
   0330 33                  466 	inc	sp
   0331 42                  467 	ld	b,d
   0332 4B                  468 	ld	c,e
   0333 54                  469 	ld	d,h
   0334 5D                  470 	ld	e,l
   0335 DD 73 FC            471 	ld	-4 (ix),e
   0338 DD 72 FD            472 	ld	-3 (ix),d
   033B DD 71 FE            473 	ld	-2 (ix),c
   033E DD 70 FF            474 	ld	-1 (ix),b
                            475 ;../_fsadd.c:227: exp1++;
   0341 DD 34 F4            476 	inc	-12 (ix)
   0344 20 A5               477 	jr	NZ,00128$
   0346 DD 34 F5            478 	inc	-11 (ix)
   0349 C3rEBs02            479 	jp	00128$
   034C                     480 00163$:
   034C DD 7E F4            481 	ld	a,-12 (ix)
   034F DD 77 EB            482 	ld	-21 (ix),a
   0352 DD 7E F5            483 	ld	a,-11 (ix)
   0355 DD 77 EC            484 	ld	-20 (ix),a
                            485 ;../_fsadd.c:231: mant1 &= ~(HIDDEN<<4);
   0358 DD 7E FF            486 	ld	a,-1 (ix)
   035B E6 F7               487 	and	a,#0xF7
   035D DD 77 FF            488 	ld	-1 (ix),a
                            489 ;../_fsadd.c:234: if (exp1 >= 0x100)
   0360 DD 7E F4            490 	ld	a,-12 (ix)
   0363 D6 00               491 	sub	a,#0x00
   0365 DD 7E F5            492 	ld	a,-11 (ix)
   0368 DE 01               493 	sbc	a,#0x01
   036A FAr91s03            494 	jp	M,00135$
                            495 ;../_fsadd.c:235: *pfl1 = (sign ? (SIGNBIT | __INFINITY) : __INFINITY);
   036D AF                  496 	xor	a,a
   036E DD B6 F1            497 	or	a,-15 (ix)
   0371 28 08               498 	jr	Z,00139$
   0373 01 00 00            499 	ld	bc,#0x0000
   0376 11 80 FF            500 	ld	de,#0xFF80
   0379 18 06               501 	jr	00140$
   037B                     502 00139$:
   037B 01 00 00            503 	ld	bc,#0x0000
   037E 11 80 7F            504 	ld	de,#0x7F80
   0381                     505 00140$:
   0381 DD 6E F6            506 	ld	l,-10 (ix)
   0384 DD 66 F7            507 	ld	h,-9 (ix)
   0387 71                  508 	ld	(hl),c
   0388 23                  509 	inc	hl
   0389 70                  510 	ld	(hl),b
   038A 23                  511 	inc	hl
   038B 73                  512 	ld	(hl),e
   038C 23                  513 	inc	hl
   038D 72                  514 	ld	(hl),d
   038E C3r41s04            515 	jp	00136$
   0391                     516 00135$:
                            517 ;../_fsadd.c:236: else if (exp1 < 0)
   0391 DD CB F5 7E         518 	bit	7,-11 (ix)
   0395 28 14               519 	jr	Z,00132$
                            520 ;../_fsadd.c:237: *pfl1 = 0;
   0397 DD 6E F6            521 	ld	l,-10 (ix)
   039A DD 66 F7            522 	ld	h,-9 (ix)
   039D 36 00               523 	ld	(hl),#0x00
   039F 23                  524 	inc	hl
   03A0 36 00               525 	ld	(hl),#0x00
   03A2 23                  526 	inc	hl
   03A3 36 00               527 	ld	(hl),#0x00
   03A5 23                  528 	inc	hl
   03A6 36 00               529 	ld	(hl),#0x00
   03A8 C3r41s04            530 	jp	00136$
   03AB                     531 00132$:
                            532 ;../_fsadd.c:239: *pfl1 = PACK (sign ? SIGNBIT : 0 , exp1, mant1>>4);
   03AB AF                  533 	xor	a,a
   03AC DD B6 F1            534 	or	a,-15 (ix)
   03AF 28 12               535 	jr	Z,00141$
   03B1 DD 36 ED 00         536 	ld	-19 (ix),#0x00
   03B5 DD 36 EE 00         537 	ld	-18 (ix),#0x00
   03B9 DD 36 EF 00         538 	ld	-17 (ix),#0x00
   03BD DD 36 F0 80         539 	ld	-16 (ix),#0x80
   03C1 18 0D               540 	jr	00142$
   03C3                     541 00141$:
   03C3 AF                  542 	xor	a,a
   03C4 DD 77 ED            543 	ld	-19 (ix),a
   03C7 DD 77 EE            544 	ld	-18 (ix),a
   03CA DD 77 EF            545 	ld	-17 (ix),a
   03CD DD 77 F0            546 	ld	-16 (ix),a
   03D0                     547 00142$:
   03D0 DD 4E EB            548 	ld	c,-21 (ix)
   03D3 DD 46 EC            549 	ld	b,-20 (ix)
   03D6 DD 7E EC            550 	ld	a,-20 (ix)
   03D9 17                  551 	rla	
   03DA 9F                  552 	sbc	a,a
   03DB 5F                  553 	ld	e,a
   03DC 57                  554 	ld	d,a
   03DD 3E 17               555 	ld	a,#0x17
   03DF F5                  556 	push	af
   03E0 33                  557 	inc	sp
   03E1 D5                  558 	push	de
   03E2 C5                  559 	push	bc
   03E3 CDr00s00            560 	call	__rlulong_rrx_s
   03E6 F1                  561 	pop	af
   03E7 F1                  562 	pop	af
   03E8 33                  563 	inc	sp
   03E9 44                  564 	ld	b,h
   03EA 4D                  565 	ld	c,l
   03EB DD 7E ED            566 	ld	a,-19 (ix)
   03EE B1                  567 	or	a,c
   03EF DD 77 ED            568 	ld	-19 (ix),a
   03F2 DD 7E EE            569 	ld	a,-18 (ix)
   03F5 B0                  570 	or	a,b
   03F6 DD 77 EE            571 	ld	-18 (ix),a
   03F9 DD 7E EF            572 	ld	a,-17 (ix)
   03FC B3                  573 	or	a,e
   03FD DD 77 EF            574 	ld	-17 (ix),a
   0400 DD 7E F0            575 	ld	a,-16 (ix)
   0403 B2                  576 	or	a,d
   0404 DD 77 F0            577 	ld	-16 (ix),a
   0407 3E 04               578 	ld	a,#0x04
   0409 F5                  579 	push	af
   040A 33                  580 	inc	sp
   040B DD 6E FE            581 	ld	l,-2 (ix)
   040E DD 66 FF            582 	ld	h,-1 (ix)
   0411 E5                  583 	push	hl
   0412 DD 6E FC            584 	ld	l,-4 (ix)
   0415 DD 66 FD            585 	ld	h,-3 (ix)
   0418 E5                  586 	push	hl
   0419 CDr00s00            587 	call	__rrslong_rrx_s
   041C F1                  588 	pop	af
   041D F1                  589 	pop	af
   041E 33                  590 	inc	sp
   041F 44                  591 	ld	b,h
   0420 7D                  592 	ld	a,l
   0421 DD B6 ED            593 	or	a,-19 (ix)
   0424 4F                  594 	ld	c,a
   0425 78                  595 	ld	a,b
   0426 DD B6 EE            596 	or	a,-18 (ix)
   0429 47                  597 	ld	b,a
   042A 7B                  598 	ld	a,e
   042B DD B6 EF            599 	or	a,-17 (ix)
   042E 5F                  600 	ld	e,a
   042F 7A                  601 	ld	a,d
   0430 DD B6 F0            602 	or	a,-16 (ix)
   0433 57                  603 	ld	d,a
   0434 DD 6E F6            604 	ld	l,-10 (ix)
   0437 DD 66 F7            605 	ld	h,-9 (ix)
   043A 71                  606 	ld	(hl),c
   043B 23                  607 	inc	hl
   043C 70                  608 	ld	(hl),b
   043D 23                  609 	inc	hl
   043E 73                  610 	ld	(hl),e
   043F 23                  611 	inc	hl
   0440 72                  612 	ld	(hl),d
   0441                     613 00136$:
                            614 ;../_fsadd.c:240: return (a1);
   0441 DD 6E 04            615 	ld	l,4 (ix)
   0444 DD 66 05            616 	ld	h,5 (ix)
   0447 DD 5E 06            617 	ld	e,6 (ix)
   044A DD 56 07            618 	ld	d,7 (ix)
   044D                     619 00137$:
   044D DD F9               620 	ld	sp,ix
   044F DD E1               621 	pop	ix
   0451 C9                  622 	ret
   0452                     623 ___fsadd_end::
                            624 	.area _CODE
                            625 	.area _CABS
