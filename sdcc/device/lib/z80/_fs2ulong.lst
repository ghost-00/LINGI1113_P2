                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:06 2013
                              5 ;--------------------------------------------------------
                              6 	.module _fs2ulong
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl ___fs2ulong
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../_fs2ulong.c:93: __fs2ulong (float a1)
                             44 ;	---------------------------------
                             45 ; Function __fs2ulong
                             46 ; ---------------------------------
   0000                      47 ___fs2ulong_start::
   0000                      48 ___fs2ulong:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 21 F6 FF             52 	ld	hl,#-10
   000B 39                   53 	add	hl,sp
   000C F9                   54 	ld	sp,hl
                             55 ;../_fs2ulong.c:99: fl1.f = a1;
   000D 21 06 00             56 	ld	hl,#0x0006
   0010 39                   57 	add	hl,sp
   0011 DD 7E 04             58 	ld	a,4 (ix)
   0014 77                   59 	ld	(hl),a
   0015 23                   60 	inc	hl
   0016 DD 7E 05             61 	ld	a,5 (ix)
   0019 77                   62 	ld	(hl),a
   001A 23                   63 	inc	hl
   001B DD 7E 06             64 	ld	a,6 (ix)
   001E 77                   65 	ld	(hl),a
   001F 23                   66 	inc	hl
   0020 DD 7E 07             67 	ld	a,7 (ix)
   0023 77                   68 	ld	(hl),a
                             69 ;../_fs2ulong.c:101: if (!fl1.l || SIGN(fl1.l))
   0024 21 06 00             70 	ld	hl,#0x0006
   0027 39                   71 	add	hl,sp
   0028 4E                   72 	ld	c,(hl)
   0029 23                   73 	inc	hl
   002A 46                   74 	ld	b,(hl)
   002B 23                   75 	inc	hl
   002C 5E                   76 	ld	e,(hl)
   002D 23                   77 	inc	hl
   002E 56                   78 	ld	d,(hl)
   002F 79                   79 	ld	a,c
   0030 B0                   80 	or	a,b
   0031 B3                   81 	or	a,e
   0032 B2                   82 	or	a,d
   0033 28 12                83 	jr	Z,00101$
   0035 21 06 00             84 	ld	hl,#0x0006
   0038 39                   85 	add	hl,sp
   0039 4E                   86 	ld	c,(hl)
   003A 23                   87 	inc	hl
   003B 46                   88 	ld	b,(hl)
   003C 23                   89 	inc	hl
   003D 5E                   90 	ld	e,(hl)
   003E 23                   91 	inc	hl
   003F 56                   92 	ld	d,(hl)
   0040 7A                   93 	ld	a,d
   0041 CB 07                94 	rlc	a
   0043 E6 01                95 	and	a,#0x01
   0045 28 08                96 	jr	Z,00102$
   0047                      97 00101$:
                             98 ;../_fs2ulong.c:102: return (0);
   0047 21 00 00             99 	ld	hl,#0x0000
   004A 5D                  100 	ld	e,l
   004B 54                  101 	ld	d,h
   004C C3rDAs00            102 	jp	00104$
   004F                     103 00102$:
                            104 ;../_fs2ulong.c:104: exp = EXP (fl1.l) - EXCESS - 24;
   004F 21 06 00            105 	ld	hl,#0x0006
   0052 39                  106 	add	hl,sp
   0053 4E                  107 	ld	c,(hl)
   0054 23                  108 	inc	hl
   0055 46                  109 	ld	b,(hl)
   0056 23                  110 	inc	hl
   0057 5E                  111 	ld	e,(hl)
   0058 23                  112 	inc	hl
   0059 56                  113 	ld	d,(hl)
   005A 3E 17               114 	ld	a,#0x17
   005C F5                  115 	push	af
   005D 33                  116 	inc	sp
   005E D5                  117 	push	de
   005F C5                  118 	push	bc
   0060 CDr00s00            119 	call	__rrulong_rrx_s
   0063 F1                  120 	pop	af
   0064 F1                  121 	pop	af
   0065 33                  122 	inc	sp
   0066 4D                  123 	ld	c,l
   0067 06 00               124 	ld	b,#0x00
   0069 11 00 00            125 	ld	de,#0x0000
   006C 79                  126 	ld	a,c
   006D C6 6A               127 	add	a,#0x6A
   006F 4F                  128 	ld	c,a
   0070 78                  129 	ld	a,b
   0071 CE FF               130 	adc	a,#0xFF
   0073 47                  131 	ld	b,a
   0074 7B                  132 	ld	a,e
   0075 CE FF               133 	adc	a,#0xFF
   0077 7A                  134 	ld	a,d
   0078 CE FF               135 	adc	a,#0xFF
   007A DD 71 FA            136 	ld	-6 (ix),c
   007D DD 70 FB            137 	ld	-5 (ix),b
                            138 ;../_fs2ulong.c:105: l = MANT (fl1.l);
   0080 21 06 00            139 	ld	hl,#0x0006
   0083 39                  140 	add	hl,sp
   0084 4E                  141 	ld	c,(hl)
   0085 23                  142 	inc	hl
   0086 46                  143 	ld	b,(hl)
   0087 23                  144 	inc	hl
   0088 5E                  145 	ld	e,(hl)
   0089 23                  146 	inc	hl
   008A 7B                  147 	ld	a,e
   008B E6 7F               148 	and	a,#0x7F
   008D 5F                  149 	ld	e,a
   008E 16 00               150 	ld	d,#0x00
   0090 DD 71 F6            151 	ld	-10 (ix),c
   0093 DD 70 F7            152 	ld	-9 (ix),b
   0096 7B                  153 	ld	a,e
   0097 F6 80               154 	or	a,#0x80
   0099 DD 77 F8            155 	ld	-8 (ix),a
   009C DD 72 F9            156 	ld	-7 (ix),d
                            157 ;../_fs2ulong.c:107: l >>= -exp;
   009F AF                  158 	xor	a,a
   00A0 DD 9E FA            159 	sbc	a,-6 (ix)
   00A3 6F                  160 	ld	l,a
   00A4 3E 00               161 	ld	a,#0x00
   00A6 DD 9E FB            162 	sbc	a,-5 (ix)
   00A9 67                  163 	ld	h,a
   00AA E5                  164 	push	hl
   00AB DD 6E F8            165 	ld	l,-8 (ix)
   00AE DD 66 F9            166 	ld	h,-7 (ix)
   00B1 E5                  167 	push	hl
   00B2 DD 6E F6            168 	ld	l,-10 (ix)
   00B5 DD 66 F7            169 	ld	h,-9 (ix)
   00B8 E5                  170 	push	hl
   00B9 CDr00s00            171 	call	__rrslong_rrx_s
   00BC F1                  172 	pop	af
   00BD F1                  173 	pop	af
   00BE F1                  174 	pop	af
   00BF 44                  175 	ld	b,h
   00C0 DD 75 F6            176 	ld	-10 (ix),l
   00C3 DD 70 F7            177 	ld	-9 (ix),b
   00C6 DD 73 F8            178 	ld	-8 (ix),e
   00C9 DD 72 F9            179 	ld	-7 (ix),d
                            180 ;../_fs2ulong.c:109: return l;
   00CC DD 4E F6            181 	ld	c,-10 (ix)
   00CF DD 46 F7            182 	ld	b,-9 (ix)
   00D2 DD 5E F8            183 	ld	e,-8 (ix)
   00D5 DD 56 F9            184 	ld	d,-7 (ix)
   00D8 69                  185 	ld	l,c
   00D9 60                  186 	ld	h,b
   00DA                     187 00104$:
   00DA DD F9               188 	ld	sp,ix
   00DC DD E1               189 	pop	ix
   00DE C9                  190 	ret
   00DF                     191 ___fs2ulong_end::
                            192 	.area _CODE
                            193 	.area _CABS
