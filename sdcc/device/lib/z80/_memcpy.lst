                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:09 2013
                              5 ;--------------------------------------------------------
                              6 	.module _memcpy
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _memcpy
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../_memcpy.c:31: void * memcpy (
                             44 ;	---------------------------------
                             45 ; Function memcpy
                             46 ; ---------------------------------
   0000                      47 _memcpy_start::
   0000                      48 _memcpy:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 F5                   52 	push	af
                             53 ;../_memcpy.c:41: char * d = dst;
   0009 DD 5E 04             54 	ld	e,4 (ix)
   000C DD 56 05             55 	ld	d,5 (ix)
                             56 ;../_memcpy.c:42: char * s = src;
   000F DD 6E 06             57 	ld	l,6 (ix)
   0012 DD 66 07             58 	ld	h,7 (ix)
   0015 4D                   59 	ld	c,l
   0016 44                   60 	ld	b,h
                             61 ;../_memcpy.c:44: int count = -(acount >> 2);
   0017 DD 6E 08             62 	ld	l,8 (ix)
   001A DD 66 09             63 	ld	h,9 (ix)
   001D CB 3C                64 	srl	h
   001F CB 1D                65 	rr	l
   0021 CB 3C                66 	srl	h
   0023 CB 1D                67 	rr	l
   0025 AF                   68 	xor	a,a
   0026 9D                   69 	sbc	a,l
   0027 6F                   70 	ld	l,a
   0028 3E 00                71 	ld	a,#0x00
   002A 9C                   72 	sbc	a,h
   002B 67                   73 	ld	h,a
   002C DD 75 FE             74 	ld	-2 (ix),l
   002F DD 74 FF             75 	ld	-1 (ix),h
                             76 ;../_memcpy.c:46: while (count) {
   0032                      77 00101$:
   0032 DD 7E FE             78 	ld	a,-2 (ix)
   0035 DD B6 FF             79 	or	a,-1 (ix)
   0038 28 1A                80 	jr	Z,00103$
                             81 ;../_memcpy.c:47: *d++ = *s++;
   003A 0A                   82 	ld	a,(bc)
   003B 03                   83 	inc	bc
   003C 12                   84 	ld	(de),a
   003D 13                   85 	inc	de
                             86 ;../_memcpy.c:48: *d++ = *s++;
   003E 0A                   87 	ld	a,(bc)
   003F 03                   88 	inc	bc
   0040 12                   89 	ld	(de),a
   0041 13                   90 	inc	de
                             91 ;../_memcpy.c:49: *d++ = *s++;
   0042 0A                   92 	ld	a,(bc)
   0043 03                   93 	inc	bc
   0044 12                   94 	ld	(de),a
   0045 13                   95 	inc	de
                             96 ;../_memcpy.c:50: *d++ = *s++;
   0046 0A                   97 	ld	a,(bc)
   0047 03                   98 	inc	bc
   0048 12                   99 	ld	(de),a
   0049 13                  100 	inc	de
                            101 ;../_memcpy.c:51: count++;
   004A DD 34 FE            102 	inc	-2 (ix)
   004D 20 E3               103 	jr	NZ,00101$
   004F DD 34 FF            104 	inc	-1 (ix)
   0052 18 DE               105 	jr	00101$
   0054                     106 00103$:
                            107 ;../_memcpy.c:54: if (acount & 2) {
   0054 DD 7E 08            108 	ld	a,8 (ix)
   0057 E6 02               109 	and	a,#0x02
   0059 28 08               110 	jr	Z,00105$
                            111 ;../_memcpy.c:55: *d++ = *s++; 
   005B 0A                  112 	ld	a,(bc)
   005C 03                  113 	inc	bc
   005D 12                  114 	ld	(de),a
   005E 13                  115 	inc	de
                            116 ;../_memcpy.c:56: *d++ = *s++;
   005F 0A                  117 	ld	a,(bc)
   0060 03                  118 	inc	bc
   0061 12                  119 	ld	(de),a
   0062 13                  120 	inc	de
   0063                     121 00105$:
                            122 ;../_memcpy.c:58: if (acount & 1) {
   0063 DD 7E 08            123 	ld	a,8 (ix)
   0066 E6 01               124 	and	a,#0x01
   0068 28 02               125 	jr	Z,00107$
                            126 ;../_memcpy.c:59: *d++ = *s++;
   006A 0A                  127 	ld	a,(bc)
   006B 12                  128 	ld	(de),a
   006C                     129 00107$:
                            130 ;../_memcpy.c:61: return dst;
   006C DD 6E 04            131 	ld	l,4 (ix)
   006F DD 66 05            132 	ld	h,5 (ix)
   0072 DD F9               133 	ld	sp,ix
   0074 DD E1               134 	pop	ix
   0076 C9                  135 	ret
   0077                     136 _memcpy_end::
                            137 	.area _CODE
                            138 	.area _CABS
