                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:07 2013
                              5 ;--------------------------------------------------------
                              6 	.module sqrtf
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _sqrtf
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../sqrtf.c:27: float sqrtf(const float x) _FLOAT_FUNC_REENTRANT
                             44 ;	---------------------------------
                             45 ; Function sqrtf
                             46 ; ---------------------------------
   0000                      47 _sqrtf_start::
   0000                      48 _sqrtf:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 21 F2 FF             52 	ld	hl,#-14
   000B 39                   53 	add	hl,sp
   000C F9                   54 	ld	sp,hl
                             55 ;../sqrtf.c:32: if (x==0.0) return x;
   000D DD 7E 04             56 	ld	a,4 (ix)
   0010 DD B6 05             57 	or	a,5 (ix)
   0013 DD B6 06             58 	or	a,6 (ix)
   0016 DD B6 07             59 	or	a,7 (ix)
   0019 20 0F                60 	jr	NZ,00107$
   001B DD 6E 04             61 	ld	l,4 (ix)
   001E DD 66 05             62 	ld	h,5 (ix)
   0021 DD 5E 06             63 	ld	e,6 (ix)
   0024 DD 56 07             64 	ld	d,7 (ix)
   0027 C3r06s02             65 	jp	00111$
   002A                      66 00107$:
                             67 ;../sqrtf.c:33: else if (x==1.0) return 1.0;
   002A 21 80 3F             68 	ld	hl,#0x3F80
   002D E5                   69 	push	hl
   002E 21 00 00             70 	ld	hl,#0x0000
   0031 E5                   71 	push	hl
   0032 DD 6E 06             72 	ld	l,6 (ix)
   0035 DD 66 07             73 	ld	h,7 (ix)
   0038 E5                   74 	push	hl
   0039 DD 6E 04             75 	ld	l,4 (ix)
   003C DD 66 05             76 	ld	h,5 (ix)
   003F E5                   77 	push	hl
   0040 CDr00s00             78 	call	___fseq
   0043 F1                   79 	pop	af
   0044 F1                   80 	pop	af
   0045 F1                   81 	pop	af
   0046 F1                   82 	pop	af
   0047 AF                   83 	xor	a,a
   0048 B5                   84 	or	a,l
   0049 28 09                85 	jr	Z,00104$
   004B 21 00 00             86 	ld	hl,#0x0000
   004E 11 80 3F             87 	ld	de,#0x3F80
   0051 C3r06s02             88 	jp	00111$
   0054                      89 00104$:
                             90 ;../sqrtf.c:34: else if (x<0.0)
   0054 21 00 00             91 	ld	hl,#0x0000
   0057 E5                   92 	push	hl
   0058 21 00 00             93 	ld	hl,#0x0000
   005B E5                   94 	push	hl
   005C DD 6E 06             95 	ld	l,6 (ix)
   005F DD 66 07             96 	ld	h,7 (ix)
   0062 E5                   97 	push	hl
   0063 DD 6E 04             98 	ld	l,4 (ix)
   0066 DD 66 05             99 	ld	h,5 (ix)
   0069 E5                  100 	push	hl
   006A CDr00s00            101 	call	___fslt
   006D F1                  102 	pop	af
   006E F1                  103 	pop	af
   006F F1                  104 	pop	af
   0070 F1                  105 	pop	af
   0071 AF                  106 	xor	a,a
   0072 B5                  107 	or	a,l
   0073 28 14               108 	jr	Z,00108$
                            109 ;../sqrtf.c:36: errno=EDOM;
   0075 FD 21r00s00         110 	ld	iy,#_errno
   0079 FD 36 00 21         111 	ld	0 (iy),#0x21
   007D FD 36 01 00         112 	ld	1 (iy),#0x00
                            113 ;../sqrtf.c:37: return 0.0;
   0081 21 00 00            114 	ld	hl,#0x0000
   0084 5D                  115 	ld	e,l
   0085 54                  116 	ld	d,h
   0086 C3r06s02            117 	jp	00111$
   0089                     118 00108$:
                            119 ;../sqrtf.c:39: f=frexpf(x, &n);
   0089 21 04 00            120 	ld	hl,#0x0004
   008C 39                  121 	add	hl,sp
   008D E5                  122 	push	hl
   008E DD 6E 06            123 	ld	l,6 (ix)
   0091 DD 66 07            124 	ld	h,7 (ix)
   0094 E5                  125 	push	hl
   0095 DD 6E 04            126 	ld	l,4 (ix)
   0098 DD 66 05            127 	ld	h,5 (ix)
   009B E5                  128 	push	hl
   009C CDr00s00            129 	call	_frexpf
   009F F1                  130 	pop	af
   00A0 F1                  131 	pop	af
   00A1 F1                  132 	pop	af
   00A2 44                  133 	ld	b,h
   00A3 DD 75 FC            134 	ld	-4 (ix),l
   00A6 DD 70 FD            135 	ld	-3 (ix),b
   00A9 DD 73 FE            136 	ld	-2 (ix),e
   00AC DD 72 FF            137 	ld	-1 (ix),d
                            138 ;../sqrtf.c:40: y=0.41731+0.59016*f; /*Educated guess*/
   00AF DD 6E FE            139 	ld	l,-2 (ix)
   00B2 DD 66 FF            140 	ld	h,-1 (ix)
   00B5 E5                  141 	push	hl
   00B6 DD 6E FC            142 	ld	l,-4 (ix)
   00B9 DD 66 FD            143 	ld	h,-3 (ix)
   00BC E5                  144 	push	hl
   00BD 21 17 3F            145 	ld	hl,#0x3F17
   00C0 E5                  146 	push	hl
   00C1 21 BA 14            147 	ld	hl,#0x14BA
   00C4 E5                  148 	push	hl
   00C5 CDr00s00            149 	call	___fsmul
   00C8 F1                  150 	pop	af
   00C9 F1                  151 	pop	af
   00CA F1                  152 	pop	af
   00CB F1                  153 	pop	af
   00CC 44                  154 	ld	b,h
   00CD 4D                  155 	ld	c,l
   00CE 21 D5 3E            156 	ld	hl,#0x3ED5
   00D1 E5                  157 	push	hl
   00D2 21 A8 A9            158 	ld	hl,#0xA9A8
   00D5 E5                  159 	push	hl
   00D6 D5                  160 	push	de
   00D7 C5                  161 	push	bc
   00D8 CDr00s00            162 	call	___fsadd
   00DB F1                  163 	pop	af
   00DC F1                  164 	pop	af
   00DD F1                  165 	pop	af
   00DE F1                  166 	pop	af
   00DF 44                  167 	ld	b,h
   00E0 DD 75 F8            168 	ld	-8 (ix),l
   00E3 DD 70 F9            169 	ld	-7 (ix),b
   00E6 DD 73 FA            170 	ld	-6 (ix),e
   00E9 DD 72 FB            171 	ld	-5 (ix),d
                            172 ;../sqrtf.c:42: y+=f/y;
   00EC DD 6E FA            173 	ld	l,-6 (ix)
   00EF DD 66 FB            174 	ld	h,-5 (ix)
   00F2 E5                  175 	push	hl
   00F3 DD 6E F8            176 	ld	l,-8 (ix)
   00F6 DD 66 F9            177 	ld	h,-7 (ix)
   00F9 E5                  178 	push	hl
   00FA DD 6E FE            179 	ld	l,-2 (ix)
   00FD DD 66 FF            180 	ld	h,-1 (ix)
   0100 E5                  181 	push	hl
   0101 DD 6E FC            182 	ld	l,-4 (ix)
   0104 DD 66 FD            183 	ld	h,-3 (ix)
   0107 E5                  184 	push	hl
   0108 CDr00s00            185 	call	___fsdiv
   010B F1                  186 	pop	af
   010C F1                  187 	pop	af
   010D F1                  188 	pop	af
   010E F1                  189 	pop	af
   010F 44                  190 	ld	b,h
   0110 4D                  191 	ld	c,l
   0111 D5                  192 	push	de
   0112 C5                  193 	push	bc
   0113 DD 6E FA            194 	ld	l,-6 (ix)
   0116 DD 66 FB            195 	ld	h,-5 (ix)
   0119 E5                  196 	push	hl
   011A DD 6E F8            197 	ld	l,-8 (ix)
   011D DD 66 F9            198 	ld	h,-7 (ix)
   0120 E5                  199 	push	hl
   0121 CDr00s00            200 	call	___fsadd
   0124 F1                  201 	pop	af
   0125 F1                  202 	pop	af
   0126 F1                  203 	pop	af
   0127 F1                  204 	pop	af
   0128 44                  205 	ld	b,h
   0129 DD 75 F8            206 	ld	-8 (ix),l
   012C DD 70 F9            207 	ld	-7 (ix),b
   012F DD 73 FA            208 	ld	-6 (ix),e
   0132 DD 72 FB            209 	ld	-5 (ix),d
                            210 ;../sqrtf.c:43: y=ldexpf(y, -2) + f/y; /*Faster version of 0.25 * y + f/y*/
   0135 21 FE FF            211 	ld	hl,#0xFFFFFFFE
   0138 E5                  212 	push	hl
   0139 DD 6E FA            213 	ld	l,-6 (ix)
   013C DD 66 FB            214 	ld	h,-5 (ix)
   013F E5                  215 	push	hl
   0140 DD 6E F8            216 	ld	l,-8 (ix)
   0143 DD 66 F9            217 	ld	h,-7 (ix)
   0146 E5                  218 	push	hl
   0147 CDr00s00            219 	call	_ldexpf
   014A F1                  220 	pop	af
   014B F1                  221 	pop	af
   014C F1                  222 	pop	af
   014D DD 72 F5            223 	ld	-11 (ix),d
   0150 DD 73 F4            224 	ld	-12 (ix),e
   0153 DD 74 F3            225 	ld	-13 (ix),h
   0156 DD 75 F2            226 	ld	-14 (ix),l
   0159 DD 6E FA            227 	ld	l,-6 (ix)
   015C DD 66 FB            228 	ld	h,-5 (ix)
   015F E5                  229 	push	hl
   0160 DD 6E F8            230 	ld	l,-8 (ix)
   0163 DD 66 F9            231 	ld	h,-7 (ix)
   0166 E5                  232 	push	hl
   0167 DD 6E FE            233 	ld	l,-2 (ix)
   016A DD 66 FF            234 	ld	h,-1 (ix)
   016D E5                  235 	push	hl
   016E DD 6E FC            236 	ld	l,-4 (ix)
   0171 DD 66 FD            237 	ld	h,-3 (ix)
   0174 E5                  238 	push	hl
   0175 CDr00s00            239 	call	___fsdiv
   0178 F1                  240 	pop	af
   0179 F1                  241 	pop	af
   017A F1                  242 	pop	af
   017B F1                  243 	pop	af
   017C 44                  244 	ld	b,h
   017D 4D                  245 	ld	c,l
   017E D5                  246 	push	de
   017F C5                  247 	push	bc
   0180 DD 6E F4            248 	ld	l,-12 (ix)
   0183 DD 66 F5            249 	ld	h,-11 (ix)
   0186 E5                  250 	push	hl
   0187 DD 6E F2            251 	ld	l,-14 (ix)
   018A DD 66 F3            252 	ld	h,-13 (ix)
   018D E5                  253 	push	hl
   018E CDr00s00            254 	call	___fsadd
   0191 F1                  255 	pop	af
   0192 F1                  256 	pop	af
   0193 F1                  257 	pop	af
   0194 F1                  258 	pop	af
   0195 44                  259 	ld	b,h
   0196 DD 75 F8            260 	ld	-8 (ix),l
   0199 DD 70 F9            261 	ld	-7 (ix),b
   019C DD 73 FA            262 	ld	-6 (ix),e
   019F DD 72 FB            263 	ld	-5 (ix),d
                            264 ;../sqrtf.c:45: if (n&1)
   01A2 DD 7E F6            265 	ld	a,-10 (ix)
   01A5 E6 01               266 	and	a,#0x01
   01A7 28 32               267 	jr	Z,00110$
                            268 ;../sqrtf.c:47: y*=0.7071067812;
   01A9 DD 6E FA            269 	ld	l,-6 (ix)
   01AC DD 66 FB            270 	ld	h,-5 (ix)
   01AF E5                  271 	push	hl
   01B0 DD 6E F8            272 	ld	l,-8 (ix)
   01B3 DD 66 F9            273 	ld	h,-7 (ix)
   01B6 E5                  274 	push	hl
   01B7 21 35 3F            275 	ld	hl,#0x3F35
   01BA E5                  276 	push	hl
   01BB 21 F3 04            277 	ld	hl,#0x04F3
   01BE E5                  278 	push	hl
   01BF CDr00s00            279 	call	___fsmul
   01C2 F1                  280 	pop	af
   01C3 F1                  281 	pop	af
   01C4 F1                  282 	pop	af
   01C5 F1                  283 	pop	af
   01C6 44                  284 	ld	b,h
   01C7 DD 75 F8            285 	ld	-8 (ix),l
   01CA DD 70 F9            286 	ld	-7 (ix),b
   01CD DD 73 FA            287 	ld	-6 (ix),e
   01D0 DD 72 FB            288 	ld	-5 (ix),d
                            289 ;../sqrtf.c:48: ++n;
   01D3 DD 34 F6            290 	inc	-10 (ix)
   01D6 20 03               291 	jr	NZ,00118$
   01D8 DD 34 F7            292 	inc	-9 (ix)
   01DB                     293 00118$:
   01DB                     294 00110$:
                            295 ;../sqrtf.c:50: return ldexpf(y, n/2);
   01DB 21 02 00            296 	ld	hl,#0x0002
   01DE E5                  297 	push	hl
   01DF DD 6E F6            298 	ld	l,-10 (ix)
   01E2 DD 66 F7            299 	ld	h,-9 (ix)
   01E5 E5                  300 	push	hl
   01E6 CDr00s00            301 	call	__divsint_rrx_s
   01E9 F1                  302 	pop	af
   01EA F1                  303 	pop	af
   01EB 44                  304 	ld	b,h
   01EC 4D                  305 	ld	c,l
   01ED C5                  306 	push	bc
   01EE DD 6E FA            307 	ld	l,-6 (ix)
   01F1 DD 66 FB            308 	ld	h,-5 (ix)
   01F4 E5                  309 	push	hl
   01F5 DD 6E F8            310 	ld	l,-8 (ix)
   01F8 DD 66 F9            311 	ld	h,-7 (ix)
   01FB E5                  312 	push	hl
   01FC CDr00s00            313 	call	_ldexpf
   01FF F1                  314 	pop	af
   0200 F1                  315 	pop	af
   0201 F1                  316 	pop	af
   0202 44                  317 	ld	b,h
   0203 4D                  318 	ld	c,l
   0204 69                  319 	ld	l,c
   0205 60                  320 	ld	h,b
   0206                     321 00111$:
   0206 DD F9               322 	ld	sp,ix
   0208 DD E1               323 	pop	ix
   020A C9                  324 	ret
   020B                     325 _sqrtf_end::
                            326 	.area _CODE
                            327 	.area _CABS
