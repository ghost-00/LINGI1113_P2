                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:10 2013
                              5 ;--------------------------------------------------------
                              6 	.module _ltoa
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl __ltoa
                             13 	.globl __ultoa
                             14 ;--------------------------------------------------------
                             15 ; special function registers
                             16 ;--------------------------------------------------------
                             17 ;--------------------------------------------------------
                             18 ;  ram data
                             19 ;--------------------------------------------------------
                             20 	.area _DATA
                             21 ;--------------------------------------------------------
                             22 ; overlayable items in  ram 
                             23 ;--------------------------------------------------------
                             24 	.area _OVERLAY
                             25 ;--------------------------------------------------------
                             26 ; external initialized ram data
                             27 ;--------------------------------------------------------
                             28 ;--------------------------------------------------------
                             29 ; global & static initialisations
                             30 ;--------------------------------------------------------
                             31 	.area _HOME
                             32 	.area _GSINIT
                             33 	.area _GSFINAL
                             34 	.area _GSINIT
                             35 ;--------------------------------------------------------
                             36 ; Home
                             37 ;--------------------------------------------------------
                             38 	.area _HOME
                             39 	.area _HOME
                             40 ;--------------------------------------------------------
                             41 ; code
                             42 ;--------------------------------------------------------
                             43 	.area _CODE
                             44 ;../_ltoa.c:32: void _ultoa(unsigned long value, char* string, unsigned char radix)
                             45 ;	---------------------------------
                             46 ; Function _ultoa
                             47 ; ---------------------------------
   0000                      48 __ultoa_start::
   0000                      49 __ultoa:
   0000 DD E5                50 	push	ix
   0002 DD 21 00 00          51 	ld	ix,#0
   0006 DD 39                52 	add	ix,sp
   0008 21 D9 FF             53 	ld	hl,#-39
   000B 39                   54 	add	hl,sp
   000C F9                   55 	ld	sp,hl
                             56 ;../_ltoa.c:37: do {
   000D 21 07 00             57 	ld	hl,#0x0007
   0010 39                   58 	add	hl,sp
   0011 DD 75 D9             59 	ld	-39 (ix),l
   0014 DD 74 DA             60 	ld	-38 (ix),h
   0017 DD 36 DF 20          61 	ld	-33 (ix),#0x20
   001B                      62 00103$:
                             63 ;../_ltoa.c:38: unsigned char c = '0' + (value % radix);
   001B DD 7E 0A             64 	ld	a,10 (ix)
   001E DD 77 DB             65 	ld	-37 (ix),a
   0021 DD 36 DC 00          66 	ld	-36 (ix),#0x00
   0025 DD 36 DD 00          67 	ld	-35 (ix),#0x00
   0029 DD 36 DE 00          68 	ld	-34 (ix),#0x00
   002D DD 6E DD             69 	ld	l,-35 (ix)
   0030 DD 66 DE             70 	ld	h,-34 (ix)
   0033 E5                   71 	push	hl
   0034 DD 6E DB             72 	ld	l,-37 (ix)
   0037 DD 66 DC             73 	ld	h,-36 (ix)
   003A E5                   74 	push	hl
   003B DD 6E 06             75 	ld	l,6 (ix)
   003E DD 66 07             76 	ld	h,7 (ix)
   0041 E5                   77 	push	hl
   0042 DD 6E 04             78 	ld	l,4 (ix)
   0045 DD 66 05             79 	ld	h,5 (ix)
   0048 E5                   80 	push	hl
   0049 CDr00s00             81 	call	__modulong_rrx_s
   004C F1                   82 	pop	af
   004D F1                   83 	pop	af
   004E F1                   84 	pop	af
   004F F1                   85 	pop	af
   0050 7D                   86 	ld	a,l
   0051 C6 30                87 	add	a,#0x30
   0053 4F                   88 	ld	c,a
                             89 ;../_ltoa.c:39: if (c > (unsigned char)'9')
   0054 3E 39                90 	ld	a,#0x39
   0056 91                   91 	sub	a,c
   0057 30 04                92 	jr	NC,00102$
                             93 ;../_ltoa.c:40: c += 'A' - '9' - 1;
   0059 79                   94 	ld	a,c
   005A C6 07                95 	add	a,#0x07
   005C 4F                   96 	ld	c,a
   005D                      97 00102$:
                             98 ;../_ltoa.c:41: buffer[--index] = c;
   005D DD 35 DF             99 	dec	-33 (ix)
   0060 DD 7E D9            100 	ld	a,-39 (ix)
   0063 DD 86 DF            101 	add	a,-33 (ix)
   0066 5F                  102 	ld	e,a
   0067 DD 7E DA            103 	ld	a,-38 (ix)
   006A CE 00               104 	adc	a,#0x00
   006C 57                  105 	ld	d,a
   006D 79                  106 	ld	a,c
   006E 12                  107 	ld	(de),a
                            108 ;../_ltoa.c:42: value /= radix;
   006F DD 6E DD            109 	ld	l,-35 (ix)
   0072 DD 66 DE            110 	ld	h,-34 (ix)
   0075 E5                  111 	push	hl
   0076 DD 6E DB            112 	ld	l,-37 (ix)
   0079 DD 66 DC            113 	ld	h,-36 (ix)
   007C E5                  114 	push	hl
   007D DD 6E 06            115 	ld	l,6 (ix)
   0080 DD 66 07            116 	ld	h,7 (ix)
   0083 E5                  117 	push	hl
   0084 DD 6E 04            118 	ld	l,4 (ix)
   0087 DD 66 05            119 	ld	h,5 (ix)
   008A E5                  120 	push	hl
   008B CDr00s00            121 	call	__divulong_rrx_s
   008E F1                  122 	pop	af
   008F F1                  123 	pop	af
   0090 F1                  124 	pop	af
   0091 F1                  125 	pop	af
   0092 44                  126 	ld	b,h
   0093 DD 75 04            127 	ld	4 (ix),l
   0096 DD 70 05            128 	ld	5 (ix),b
   0099 DD 73 06            129 	ld	6 (ix),e
   009C DD 72 07            130 	ld	7 (ix),d
                            131 ;../_ltoa.c:43: } while (value);
   009F DD 7E 04            132 	ld	a,4 (ix)
   00A2 DD B6 05            133 	or	a,5 (ix)
   00A5 DD B6 06            134 	or	a,6 (ix)
   00A8 DD B6 07            135 	or	a,7 (ix)
   00AB C2r1Bs00            136 	jp	NZ,00103$
                            137 ;../_ltoa.c:45: do {
   00AE DD 4E 08            138 	ld	c,8 (ix)
   00B1 DD 46 09            139 	ld	b,9 (ix)
   00B4                     140 00106$:
                            141 ;../_ltoa.c:46: *string++ = buffer[index];
   00B4 DD 7E D9            142 	ld	a,-39 (ix)
   00B7 DD 86 DF            143 	add	a,-33 (ix)
   00BA 5F                  144 	ld	e,a
   00BB DD 7E DA            145 	ld	a,-38 (ix)
   00BE CE 00               146 	adc	a,#0x00
   00C0 57                  147 	ld	d,a
   00C1 1A                  148 	ld	a,(de)
   00C2 02                  149 	ld	(bc),a
   00C3 03                  150 	inc	bc
                            151 ;../_ltoa.c:47: } while ( ++index != NUMBER_OF_DIGITS );
   00C4 DD 34 DF            152 	inc	-33 (ix)
   00C7 DD 7E DF            153 	ld	a,-33 (ix)
   00CA D6 20               154 	sub	a,#0x20
   00CC 20 E6               155 	jr	NZ,00106$
                            156 ;../_ltoa.c:49: *string = 0;  /* string terminator */
   00CE 3E 00               157 	ld	a,#0x00
   00D0 02                  158 	ld	(bc),a
   00D1 DD F9               159 	ld	sp,ix
   00D3 DD E1               160 	pop	ix
   00D5 C9                  161 	ret
   00D6                     162 __ultoa_end::
                            163 ;../_ltoa.c:52: void _ltoa(long value, char* string, unsigned char radix)
                            164 ;	---------------------------------
                            165 ; Function _ltoa
                            166 ; ---------------------------------
   00D6                     167 __ltoa_start::
   00D6                     168 __ltoa:
   00D6 DD E5               169 	push	ix
   00D8 DD 21 00 00         170 	ld	ix,#0
   00DC DD 39               171 	add	ix,sp
                            172 ;../_ltoa.c:54: if (value < 0 && radix == 10) {
   00DE DD CB 07 7E         173 	bit	7,7 (ix)
   00E2 28 3A               174 	jr	Z,00102$
   00E4 DD 7E 0A            175 	ld	a,10 (ix)
   00E7 D6 0A               176 	sub	a,#0x0A
   00E9 20 33               177 	jr	NZ,00102$
                            178 ;../_ltoa.c:55: *string++ = '-';
   00EB DD 6E 08            179 	ld	l,8 (ix)
   00EE DD 66 09            180 	ld	h,9 (ix)
   00F1 36 2D               181 	ld	(hl),#0x2D
   00F3 7D                  182 	ld	a,l
   00F4 C6 01               183 	add	a,#0x01
   00F6 DD 77 08            184 	ld	8 (ix),a
   00F9 7C                  185 	ld	a,h
   00FA CE 00               186 	adc	a,#0x00
   00FC DD 77 09            187 	ld	9 (ix),a
                            188 ;../_ltoa.c:56: value = -value;
   00FF AF                  189 	xor	a,a
   0100 DD 9E 04            190 	sbc	a,4 (ix)
   0103 DD 77 04            191 	ld	4 (ix),a
   0106 3E 00               192 	ld	a,#0x00
   0108 DD 9E 05            193 	sbc	a,5 (ix)
   010B DD 77 05            194 	ld	5 (ix),a
   010E 3E 00               195 	ld	a,#0x00
   0110 DD 9E 06            196 	sbc	a,6 (ix)
   0113 DD 77 06            197 	ld	6 (ix),a
   0116 3E 00               198 	ld	a,#0x00
   0118 DD 9E 07            199 	sbc	a,7 (ix)
   011B DD 77 07            200 	ld	7 (ix),a
   011E                     201 00102$:
                            202 ;../_ltoa.c:58: _ultoa(value, string, radix);
   011E DD 4E 04            203 	ld	c,4 (ix)
   0121 DD 46 05            204 	ld	b,5 (ix)
   0124 DD 5E 06            205 	ld	e,6 (ix)
   0127 DD 56 07            206 	ld	d,7 (ix)
   012A DD 7E 0A            207 	ld	a,10 (ix)
   012D F5                  208 	push	af
   012E 33                  209 	inc	sp
   012F DD 6E 08            210 	ld	l,8 (ix)
   0132 DD 66 09            211 	ld	h,9 (ix)
   0135 E5                  212 	push	hl
   0136 D5                  213 	push	de
   0137 C5                  214 	push	bc
   0138 CDr00s00            215 	call	__ultoa
   013B F1                  216 	pop	af
   013C F1                  217 	pop	af
   013D F1                  218 	pop	af
   013E 33                  219 	inc	sp
   013F DD E1               220 	pop	ix
   0141 C9                  221 	ret
   0142                     222 __ltoa_end::
                            223 	.area _CODE
                            224 	.area _CABS
