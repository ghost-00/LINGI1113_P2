                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:08 2013
                              5 ;--------------------------------------------------------
                              6 	.module atan2f
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _atan2f
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../atan2f.c:24: float atan2f(const float x, const float y)
                             44 ;	---------------------------------
                             45 ; Function atan2f
                             46 ; ---------------------------------
   0000                      47 _atan2f_start::
   0000                      48 _atan2f:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 21 F8 FF             52 	ld	hl,#-8
   000B 39                   53 	add	hl,sp
   000C F9                   54 	ld	sp,hl
                             55 ;../atan2f.c:28: if ((x==0.0) && (y==0.0))
   000D DD 7E 04             56 	ld	a,4 (ix)
   0010 DD B6 05             57 	or	a,5 (ix)
   0013 DD B6 06             58 	or	a,6 (ix)
   0016 DD B6 07             59 	or	a,7 (ix)
   0019 20 22                60 	jr	NZ,00102$
   001B DD 7E 08             61 	ld	a,8 (ix)
   001E DD B6 09             62 	or	a,9 (ix)
   0021 DD B6 0A             63 	or	a,10 (ix)
   0024 DD B6 0B             64 	or	a,11 (ix)
   0027 20 14                65 	jr	NZ,00102$
                             66 ;../atan2f.c:30: errno=EDOM;
   0029 FD 21r00s00          67 	ld	iy,#_errno
   002D FD 36 00 21          68 	ld	0 (iy),#0x21
   0031 FD 36 01 00          69 	ld	1 (iy),#0x00
                             70 ;../atan2f.c:31: return 0.0;
   0035 21 00 00             71 	ld	hl,#0x0000
   0038 5D                   72 	ld	e,l
   0039 54                   73 	ld	d,h
   003A C3rE1s01             74 	jp	00109$
   003D                      75 00102$:
                             76 ;../atan2f.c:34: if(fabsf(y)>=fabsf(x))
   003D DD 6E 0A             77 	ld	l,10 (ix)
   0040 DD 66 0B             78 	ld	h,11 (ix)
   0043 E5                   79 	push	hl
   0044 DD 6E 08             80 	ld	l,8 (ix)
   0047 DD 66 09             81 	ld	h,9 (ix)
   004A E5                   82 	push	hl
   004B CDr00s00             83 	call	_fabsf
   004E F1                   84 	pop	af
   004F F1                   85 	pop	af
   0050 DD 72 FB             86 	ld	-5 (ix),d
   0053 DD 73 FA             87 	ld	-6 (ix),e
   0056 DD 74 F9             88 	ld	-7 (ix),h
   0059 DD 75 F8             89 	ld	-8 (ix),l
   005C DD 6E 06             90 	ld	l,6 (ix)
   005F DD 66 07             91 	ld	h,7 (ix)
   0062 E5                   92 	push	hl
   0063 DD 6E 04             93 	ld	l,4 (ix)
   0066 DD 66 05             94 	ld	h,5 (ix)
   0069 E5                   95 	push	hl
   006A CDr00s00             96 	call	_fabsf
   006D F1                   97 	pop	af
   006E F1                   98 	pop	af
   006F 44                   99 	ld	b,h
   0070 4D                  100 	ld	c,l
   0071 D5                  101 	push	de
   0072 C5                  102 	push	bc
   0073 DD 6E FA            103 	ld	l,-6 (ix)
   0076 DD 66 FB            104 	ld	h,-5 (ix)
   0079 E5                  105 	push	hl
   007A DD 6E F8            106 	ld	l,-8 (ix)
   007D DD 66 F9            107 	ld	h,-7 (ix)
   0080 E5                  108 	push	hl
   0081 CDr00s00            109 	call	___fslt
   0084 F1                  110 	pop	af
   0085 F1                  111 	pop	af
   0086 F1                  112 	pop	af
   0087 F1                  113 	pop	af
   0088 AF                  114 	xor	a,a
   0089 B5                  115 	or	a,l
   008A C2r44s01            116 	jp	NZ,00107$
                            117 ;../atan2f.c:36: r=atanf(x/y);
   008D DD 6E 0A            118 	ld	l,10 (ix)
   0090 DD 66 0B            119 	ld	h,11 (ix)
   0093 E5                  120 	push	hl
   0094 DD 6E 08            121 	ld	l,8 (ix)
   0097 DD 66 09            122 	ld	h,9 (ix)
   009A E5                  123 	push	hl
   009B DD 6E 06            124 	ld	l,6 (ix)
   009E DD 66 07            125 	ld	h,7 (ix)
   00A1 E5                  126 	push	hl
   00A2 DD 6E 04            127 	ld	l,4 (ix)
   00A5 DD 66 05            128 	ld	h,5 (ix)
   00A8 E5                  129 	push	hl
   00A9 CDr00s00            130 	call	___fsdiv
   00AC F1                  131 	pop	af
   00AD F1                  132 	pop	af
   00AE F1                  133 	pop	af
   00AF F1                  134 	pop	af
   00B0 44                  135 	ld	b,h
   00B1 4D                  136 	ld	c,l
   00B2 D5                  137 	push	de
   00B3 C5                  138 	push	bc
   00B4 CDr00s00            139 	call	_atanf
   00B7 F1                  140 	pop	af
   00B8 F1                  141 	pop	af
   00B9 44                  142 	ld	b,h
   00BA DD 75 FC            143 	ld	-4 (ix),l
   00BD DD 70 FD            144 	ld	-3 (ix),b
   00C0 DD 73 FE            145 	ld	-2 (ix),e
   00C3 DD 72 FF            146 	ld	-1 (ix),d
                            147 ;../atan2f.c:37: if(y<0.0) r+=(x>=0?PI:-PI);
   00C6 21 00 00            148 	ld	hl,#0x0000
   00C9 E5                  149 	push	hl
   00CA 21 00 00            150 	ld	hl,#0x0000
   00CD E5                  151 	push	hl
   00CE DD 6E 0A            152 	ld	l,10 (ix)
   00D1 DD 66 0B            153 	ld	h,11 (ix)
   00D4 E5                  154 	push	hl
   00D5 DD 6E 08            155 	ld	l,8 (ix)
   00D8 DD 66 09            156 	ld	h,9 (ix)
   00DB E5                  157 	push	hl
   00DC CDr00s00            158 	call	___fslt
   00DF F1                  159 	pop	af
   00E0 F1                  160 	pop	af
   00E1 F1                  161 	pop	af
   00E2 F1                  162 	pop	af
   00E3 AF                  163 	xor	a,a
   00E4 B5                  164 	or	a,l
   00E5 CArD5s01            165 	jp	Z,00108$
   00E8 21 00 00            166 	ld	hl,#0x0000
   00EB E5                  167 	push	hl
   00EC 21 00 00            168 	ld	hl,#0x0000
   00EF E5                  169 	push	hl
   00F0 DD 6E 06            170 	ld	l,6 (ix)
   00F3 DD 66 07            171 	ld	h,7 (ix)
   00F6 E5                  172 	push	hl
   00F7 DD 6E 04            173 	ld	l,4 (ix)
   00FA DD 66 05            174 	ld	h,5 (ix)
   00FD E5                  175 	push	hl
   00FE CDr00s00            176 	call	___fslt
   0101 F1                  177 	pop	af
   0102 F1                  178 	pop	af
   0103 F1                  179 	pop	af
   0104 F1                  180 	pop	af
   0105 AF                  181 	xor	a,a
   0106 B5                  182 	or	a,l
   0107 D6 01               183 	sub	a,#0x01
   0109 3E 00               184 	ld	a,#0x00
   010B 17                  185 	rla
   010C B7                  186 	or	a,a
   010D 28 08               187 	jr	Z,00111$
   010F 01 DB 0F            188 	ld	bc,#0x0FDB
   0112 11 49 40            189 	ld	de,#0x4049
   0115 18 06               190 	jr	00112$
   0117                     191 00111$:
   0117 01 DB 0F            192 	ld	bc,#0x0FDB
   011A 11 49 C0            193 	ld	de,#0xC049
   011D                     194 00112$:
   011D D5                  195 	push	de
   011E C5                  196 	push	bc
   011F DD 6E FE            197 	ld	l,-2 (ix)
   0122 DD 66 FF            198 	ld	h,-1 (ix)
   0125 E5                  199 	push	hl
   0126 DD 6E FC            200 	ld	l,-4 (ix)
   0129 DD 66 FD            201 	ld	h,-3 (ix)
   012C E5                  202 	push	hl
   012D CDr00s00            203 	call	___fsadd
   0130 F1                  204 	pop	af
   0131 F1                  205 	pop	af
   0132 F1                  206 	pop	af
   0133 F1                  207 	pop	af
   0134 44                  208 	ld	b,h
   0135 DD 75 FC            209 	ld	-4 (ix),l
   0138 DD 70 FD            210 	ld	-3 (ix),b
   013B DD 73 FE            211 	ld	-2 (ix),e
   013E DD 72 FF            212 	ld	-1 (ix),d
   0141 C3rD5s01            213 	jp	00108$
   0144                     214 00107$:
                            215 ;../atan2f.c:41: r=-atanf(y/x);
   0144 DD 6E 06            216 	ld	l,6 (ix)
   0147 DD 66 07            217 	ld	h,7 (ix)
   014A E5                  218 	push	hl
   014B DD 6E 04            219 	ld	l,4 (ix)
   014E DD 66 05            220 	ld	h,5 (ix)
   0151 E5                  221 	push	hl
   0152 DD 6E 0A            222 	ld	l,10 (ix)
   0155 DD 66 0B            223 	ld	h,11 (ix)
   0158 E5                  224 	push	hl
   0159 DD 6E 08            225 	ld	l,8 (ix)
   015C DD 66 09            226 	ld	h,9 (ix)
   015F E5                  227 	push	hl
   0160 CDr00s00            228 	call	___fsdiv
   0163 F1                  229 	pop	af
   0164 F1                  230 	pop	af
   0165 F1                  231 	pop	af
   0166 F1                  232 	pop	af
   0167 44                  233 	ld	b,h
   0168 4D                  234 	ld	c,l
   0169 D5                  235 	push	de
   016A C5                  236 	push	bc
   016B CDr00s00            237 	call	_atanf
   016E F1                  238 	pop	af
   016F F1                  239 	pop	af
   0170 44                  240 	ld	b,h
   0171 4D                  241 	ld	c,l
   0172 7A                  242 	ld	a,d
   0173 EE 80               243 	xor	a,#0x80
   0175 57                  244 	ld	d,a
   0176 DD 71 FC            245 	ld	-4 (ix),c
   0179 DD 70 FD            246 	ld	-3 (ix),b
   017C DD 73 FE            247 	ld	-2 (ix),e
   017F DD 72 FF            248 	ld	-1 (ix),d
                            249 ;../atan2f.c:42: r+=(x<0.0?-HALF_PI:HALF_PI);
   0182 21 00 00            250 	ld	hl,#0x0000
   0185 E5                  251 	push	hl
   0186 21 00 00            252 	ld	hl,#0x0000
   0189 E5                  253 	push	hl
   018A DD 6E 06            254 	ld	l,6 (ix)
   018D DD 66 07            255 	ld	h,7 (ix)
   0190 E5                  256 	push	hl
   0191 DD 6E 04            257 	ld	l,4 (ix)
   0194 DD 66 05            258 	ld	h,5 (ix)
   0197 E5                  259 	push	hl
   0198 CDr00s00            260 	call	___fslt
   019B F1                  261 	pop	af
   019C F1                  262 	pop	af
   019D F1                  263 	pop	af
   019E F1                  264 	pop	af
   019F AF                  265 	xor	a,a
   01A0 B5                  266 	or	a,l
   01A1 28 08               267 	jr	Z,00113$
   01A3 01 DB 0F            268 	ld	bc,#0x0FDB
   01A6 11 C9 BF            269 	ld	de,#0xBFC9
   01A9 18 06               270 	jr	00114$
   01AB                     271 00113$:
   01AB 01 DB 0F            272 	ld	bc,#0x0FDB
   01AE 11 C9 3F            273 	ld	de,#0x3FC9
   01B1                     274 00114$:
   01B1 D5                  275 	push	de
   01B2 C5                  276 	push	bc
   01B3 DD 6E FE            277 	ld	l,-2 (ix)
   01B6 DD 66 FF            278 	ld	h,-1 (ix)
   01B9 E5                  279 	push	hl
   01BA DD 6E FC            280 	ld	l,-4 (ix)
   01BD DD 66 FD            281 	ld	h,-3 (ix)
   01C0 E5                  282 	push	hl
   01C1 CDr00s00            283 	call	___fsadd
   01C4 F1                  284 	pop	af
   01C5 F1                  285 	pop	af
   01C6 F1                  286 	pop	af
   01C7 F1                  287 	pop	af
   01C8 44                  288 	ld	b,h
   01C9 DD 75 FC            289 	ld	-4 (ix),l
   01CC DD 70 FD            290 	ld	-3 (ix),b
   01CF DD 73 FE            291 	ld	-2 (ix),e
   01D2 DD 72 FF            292 	ld	-1 (ix),d
   01D5                     293 00108$:
                            294 ;../atan2f.c:44: return r;
   01D5 DD 6E FC            295 	ld	l,-4 (ix)
   01D8 DD 66 FD            296 	ld	h,-3 (ix)
   01DB DD 5E FE            297 	ld	e,-2 (ix)
   01DE DD 56 FF            298 	ld	d,-1 (ix)
   01E1                     299 00109$:
   01E1 DD F9               300 	ld	sp,ix
   01E3 DD E1               301 	pop	ix
   01E5 C9                  302 	ret
   01E6                     303 _atan2f_end::
                            304 	.area _CODE
                            305 	.area _CABS
