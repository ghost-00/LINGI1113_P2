                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:09 2013
                              5 ;--------------------------------------------------------
                              6 	.module _memchr
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _memchr
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../_memchr.c:32: void *memchr(const void *s, int c, size_t n)
                             44 ;	---------------------------------
                             45 ; Function memchr
                             46 ; ---------------------------------
   0000                      47 _memchr_start::
   0000                      48 _memchr:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 F5                   52 	push	af
                             53 ;../_memchr.c:34: unsigned char *p = (unsigned char *)s;
   0009 DD 6E 04             54 	ld	l,4 (ix)
   000C DD 66 05             55 	ld	h,5 (ix)
   000F 4D                   56 	ld	c,l
   0010 44                   57 	ld	b,h
                             58 ;../_memchr.c:35: unsigned char *end = p + n;
   0011 7D                   59 	ld	a,l
   0012 DD 86 08             60 	add	a,8 (ix)
   0015 5F                   61 	ld	e,a
   0016 7C                   62 	ld	a,h
   0017 DD 8E 09             63 	adc	a,9 (ix)
   001A 57                   64 	ld	d,a
   001B DD 73 FE             65 	ld	-2 (ix),e
   001E DD 72 FF             66 	ld	-1 (ix),d
                             67 ;../_memchr.c:39: return(0);
   0021 EB                   68 	ex	de,hl
   0022                      69 00103$:
                             70 ;../_memchr.c:36: for(; p != end; p++)
   0022 7B                   71 	ld	a,e
   0023 DD 96 FE             72 	sub	a,-2 (ix)
   0026 20 06                73 	jr	NZ,00112$
   0028 7A                   74 	ld	a,d
   0029 DD 96 FF             75 	sub	a,-1 (ix)
   002C 28 17                76 	jr	Z,00106$
   002E                      77 00112$:
                             78 ;../_memchr.c:37: if(*p == c)
   002E 1A                   79 	ld	a,(de)
   002F 26 00                80 	ld	h,#0x00
   0031 DD 96 06             81 	sub	a,6 (ix)
   0034 20 0A                82 	jr	NZ,00105$
   0036 7C                   83 	ld	a,h
   0037 DD 96 07             84 	sub	a,7 (ix)
   003A 20 04                85 	jr	NZ,00105$
                             86 ;../_memchr.c:38: return((void *)p);
   003C 69                   87 	ld	l,c
   003D 60                   88 	ld	h,b
   003E 18 08                89 	jr	00107$
   0040                      90 00105$:
                             91 ;../_memchr.c:36: for(; p != end; p++)
   0040 13                   92 	inc	de
   0041 4B                   93 	ld	c,e
   0042 42                   94 	ld	b,d
   0043 18 DD                95 	jr	00103$
   0045                      96 00106$:
                             97 ;../_memchr.c:39: return(0);
   0045 21 00 00             98 	ld	hl,#0x0000
   0048                      99 00107$:
   0048 DD F9               100 	ld	sp,ix
   004A DD E1               101 	pop	ix
   004C C9                  102 	ret
   004D                     103 _memchr_end::
                            104 	.area _CODE
                            105 	.area _CABS
