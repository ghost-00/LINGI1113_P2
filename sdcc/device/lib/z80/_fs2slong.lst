                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.4 #5595 (Oct 23 2013) (Mac OS X ppc)
                              4 ; This file was generated Wed Oct 23 12:26:06 2013
                              5 ;--------------------------------------------------------
                              6 	.module _fs2slong
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl ___fs2slong
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;../_fs2slong.c:98: signed long __fs2slong (float f)
                             44 ;	---------------------------------
                             45 ; Function __fs2slong
                             46 ; ---------------------------------
   0000                      47 ___fs2slong_start::
   0000                      48 ___fs2slong:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
                             52 ;../_fs2slong.c:101: if (!f)
   0008 DD 7E 04             53 	ld	a,4 (ix)
   000B DD B6 05             54 	or	a,5 (ix)
   000E DD B6 06             55 	or	a,6 (ix)
   0011 DD B6 07             56 	or	a,7 (ix)
   0014 20 08                57 	jr	NZ,00102$
                             58 ;../_fs2slong.c:102: return 0;
   0016 21 00 00             59 	ld	hl,#0x0000
   0019 5D                   60 	ld	e,l
   001A 54                   61 	ld	d,h
   001B C3r81s00             62 	jp	00106$
   001E                      63 00102$:
                             64 ;../_fs2slong.c:104: if (f<0) {
   001E 21 00 00             65 	ld	hl,#0x0000
   0021 E5                   66 	push	hl
   0022 21 00 00             67 	ld	hl,#0x0000
   0025 E5                   68 	push	hl
   0026 DD 6E 06             69 	ld	l,6 (ix)
   0029 DD 66 07             70 	ld	h,7 (ix)
   002C E5                   71 	push	hl
   002D DD 6E 04             72 	ld	l,4 (ix)
   0030 DD 66 05             73 	ld	h,5 (ix)
   0033 E5                   74 	push	hl
   0034 CDr00s00             75 	call	___fslt
   0037 F1                   76 	pop	af
   0038 F1                   77 	pop	af
   0039 F1                   78 	pop	af
   003A F1                   79 	pop	af
   003B AF                   80 	xor	a,a
   003C B5                   81 	or	a,l
   003D 28 2B                82 	jr	Z,00104$
                             83 ;../_fs2slong.c:105: return -__fs2ulong(-f);
   003F DD 7E 07             84 	ld	a,7 (ix)
   0042 EE 80                85 	xor	a,#0x80
   0044 57                   86 	ld	d,a
   0045 DD 4E 04             87 	ld	c,4 (ix)
   0048 DD 46 05             88 	ld	b,5 (ix)
   004B DD 5E 06             89 	ld	e,6 (ix)
   004E D5                   90 	push	de
   004F C5                   91 	push	bc
   0050 CDr00s00             92 	call	___fs2ulong
   0053 F1                   93 	pop	af
   0054 F1                   94 	pop	af
   0055 44                   95 	ld	b,h
   0056 4D                   96 	ld	c,l
   0057 AF                   97 	xor	a,a
   0058 99                   98 	sbc	a,c
   0059 4F                   99 	ld	c,a
   005A 3E 00               100 	ld	a,#0x00
   005C 98                  101 	sbc	a,b
   005D 47                  102 	ld	b,a
   005E 3E 00               103 	ld	a,#0x00
   0060 9B                  104 	sbc	a,e
   0061 5F                  105 	ld	e,a
   0062 3E 00               106 	ld	a,#0x00
   0064 9A                  107 	sbc	a,d
   0065 57                  108 	ld	d,a
   0066 69                  109 	ld	l,c
   0067 60                  110 	ld	h,b
   0068 18 17               111 	jr	00106$
   006A                     112 00104$:
                            113 ;../_fs2slong.c:107: return __fs2ulong(f);
   006A DD 6E 06            114 	ld	l,6 (ix)
   006D DD 66 07            115 	ld	h,7 (ix)
   0070 E5                  116 	push	hl
   0071 DD 6E 04            117 	ld	l,4 (ix)
   0074 DD 66 05            118 	ld	h,5 (ix)
   0077 E5                  119 	push	hl
   0078 CDr00s00            120 	call	___fs2ulong
   007B F1                  121 	pop	af
   007C F1                  122 	pop	af
   007D 44                  123 	ld	b,h
   007E 4D                  124 	ld	c,l
   007F 69                  125 	ld	l,c
   0080 60                  126 	ld	h,b
   0081                     127 00106$:
   0081 DD E1               128 	pop	ix
   0083 C9                  129 	ret
   0084                     130 ___fs2slong_end::
                            131 	.area _CODE
                            132 	.area _CABS
